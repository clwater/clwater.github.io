<?xml version="1.0" encoding="utf-8"?>
<search>
  
    
    <entry>
      <title><![CDATA[å…¬å‘Š]]></title>
      <url>%2F9999%2F01%2F01%2F%E5%85%AC%E5%91%8A%2F</url>
      <content type="text"><![CDATA[#å…¬å‘Š ä¸ºå•¥æ¢å›žæ¥äº†, ä¸»è¦æ˜¯ä¹‹å‰ç”¨çš„haloçš„æœåŠ¡å™¨â€¦ é‚£å¤©æµ‹å…¶å®ƒä¸œè¥¿çš„æ—¶å€™å¿˜è®°äº†æœåŠ¡å™¨è¿˜æœ‰haloçš„docker, æœåŠ¡å™¨å·²ç»åˆ é™¤äº†, æ•°æ®ä¹Ÿæ‰¾ä¸å›žæ¥äº†â€¦â€¦ åŽæœŸæœ‰æ—¶é—´å†ç»§ç»­ä¼˜åŒ–]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Androidæ‚é£Ÿåº—-ä¸€æ¬¡è‡ªåŠ¨åŒ–æµ‹è¯•çš„è®°å½•]]></title>
      <url>%2F2021%2F06%2F10%2FAndroid%E6%9D%82%E9%A3%9F%E5%BA%97-%E4%B8%80%E6%AC%A1%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%9A%84%E8%AE%B0%E5%BD%95%2F</url>
      <content type="text"><![CDATA[Androidæ‚é£Ÿåº—-ä¸€æ¬¡è‡ªåŠ¨åŒ–æµ‹è¯•çš„è®°å½• æ˜¯çš„, æ¯å‘¨ä¸€ä¸ªè‡ªå®šä¹‰Viewçš„ç³»åˆ—ç¬¬äºŒå‘¨å°±å’•å’•å’•äº†, å› ä¸ºæˆ‘å¹³æ—¶ä½¿ç”¨çš„å·¥å…·å„ç§å„æ ·, å®žåœ¨æ˜¯æ²¡æœ‰ä»€ä¹ˆåŠžæ³•å½’ä¸ºä¸€ç±»æ¥å¤„ç†, çŽ°åœ¨æƒ³æƒ³, è¿™é‡Œå¹³æ—¶å®žé™…å·¥ä½œä½¿ç”¨çš„å·¥å…·åè€Œæ˜¯æ›´åº”è¯¥åˆ†äº«ç»™å¤§å®¶çš„, äºŽæ˜¯ä¾¿æœ‰äº†çŽ°åœ¨æ–°çš„ç³»åˆ—Androidæ‚é£Ÿåº—, å¤šåƒæ‰èƒ½æ›´å¥½å­¦ä¹ ä¸æ˜¯. èƒŒæ™¯æœ€è¿‘ä¸€ç›´åœ¨åšä¸€ä¸ªè“ç‰™é€šä¿¡çš„é¡¹ç›®, ç”±äºŽé€šä¿¡çš„æƒ…å†µä¸æ˜¯å¾ˆç¨³å®š, å°±åƒåšä¸€ä¸ªå†’çƒŸæµ‹è¯•çœ‹ä¸€ä¸‹å…·ä½“çš„æƒ…å†µ, ä¸è¿‡çŽ°åœºååˆ†çš„å¤æ‚, éœ€è¦å»¶æ—¶é€šä¿¡, å¼‚æ­¥çš„èŽ·å–ç»“æžœ, åœ¨æ ¹æ®ç»“æžœå†³å®šç›¸å…³çš„æ“ä½œ, æ—¢ä¸æ˜¯ç™½ç›’ä¹Ÿä¸æ˜¯é»‘ç›’. å› ä¸ºæ˜¯é’ˆå¯¹å¼€å‘åŠŸèƒ½çš„æµ‹è¯•, çº¯é»‘ç›’çš„æƒ…å†µä¸‹æ— æ³•èŽ·å–åˆ°ä¸€äº›æ£€æµ‹çš„æ•°æ®, è€Œçº¯ç™½ç›’çš„æƒ…å†µä¸‹åˆæœ‰è®¸å¤šçš„åŠŸèƒ½ä»¥åŠè¢«é›†æˆ, åªä¸è¿‡æ²¡æœ‰æ•°æ®çš„æ˜¾ç¤º. åŠ ä¹‹åŠŸèƒ½æµ‹è¯•æµç¨‹å¤æ‚, é‡å¤æ€§é«˜, æœ€åŽé€šè¿‡adbå’Œshellè¿›è¡Œäº†æµ‹è¯• è®¾è®¡ä¸Žå®žçŽ°æµ‹è¯•çš„è®¾è®¡æ¥è¯´è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„, æ‰“å¼€åº”ç”¨-&gt; æ£€æŸ¥çŠ¶æ€ -&gt; æµ‹è¯•åŠŸèƒ½1 -&gt; æµ‹è¯•åŠŸèƒ½2 -&gt; é€€å‡ºåº”ç”¨ -&gt; ç»Ÿè®¡ä¿¡æ¯ -&gt; ä¸‹ä¸€æ¬¡å¾ªçŽ¯æµ‹è¯• ä¸è¿‡çŽ°å®žèµ·æ¥è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦, æ—¢æœ‰logæ—¥å¿—çš„ä¿¡æ¯æˆªå–, è¿˜æœ‰é¡µé¢ç‚¹å‡»çš„äº‹ä»¶è§¦å‘, åœ¨æµ‹è¯•èƒŒæ™¯ä¹Ÿä¸æ˜¯éœ€è¦ååˆ†çš„æ ‡å‡†, éœ€è¦ä¸€ä¸ªå¿«é€Ÿæµ‹è¯•éªŒè¯çš„æƒ…å†µä¸‹, æŽ’æŸ¥äº†ä½¿ç”¨è¾…åŠ©åŠŸèƒ½æˆ–è€…çŽ°æœ‰çš„é»‘ç™½ç›’æµ‹è¯•å·¥å…·, é‡‡ç”¨äº†adb+shellçš„æ–¹å¼ ç®€å•æ¥è¯´é€šè¿‡adb æ¥è¿›è¡Œè¾“å‡ºæ•°æ®å’Œè¿›è¡ŒåŠŸèƒ½æŽ§åˆ¶, é€šè¿‡shellæ¥è¿›è¡Œç»Ÿè®¡å’Œæ•°æ®æ£€æŸ¥å’Œæµç¨‹æŽ§åˆ¶ å·¥å…·ä½¿ç”¨ä¸€èˆ¬æ¥è¯´, éƒ½æ˜¯å…ˆä¸Šä»£ç , ä¸è¿‡è¿™æ¬¡çš„æƒ…å†µæ¯”è¾ƒç‰¹æ®Š, éœ€è¦å…ˆä»‹ç»è®¸å¤šèƒŒæ™¯å·¥å…·çš„ä¿¡æ¯, ä¸ç„¶ä»£ç å¯¹åº”å¹³æ—¶æ²¡æœ‰è¿™ä¹ˆæ–¹é¢åŸºç¡€çš„å¼€å‘è€…æ¥è¯´å¯èƒ½å°±éš¾ä»¥ç†è§£äº† adbadbä½œä¸ºAndroidå¼€å‘è€…æ¥è¯´æŽ¥æ˜¾å¾—ç†Ÿæ‚‰çš„å¤šäº†, ä¸è¿‡æˆ‘è¿˜æ˜¯è¦æŠŠä½¿ç”¨åˆ°çš„åŠŸèƒ½è¿›è¡Œä¸€ä¸ªç®€å•çš„ä»‹ç»(ç¯‡å¹…æœ‰é™, å¹¶ä¸”å¾ˆå¤šå·¥å…·çš„æŸä¸ªåŠŸèƒ½è¯¦ç»†æ¥è¯´å¯èƒ½å°±èƒ½åšä¸€ä¸ªæ–°çš„æ–‡ç« äº†) adb(Android Debug Bridge), å¯ä»¥ç†è§£ä¸ºåº”ç”¨å¼€å‘çš„ä¸€ä¸ªæ¡¥æŽ¥, ä¹Ÿæ˜¯ç”¨ä½œæµ‹è¯•ä¸­æ•°æ®è¾“å‡ºå’ŒåŠŸèƒ½æŽ§åˆ¶çš„çš„åŽŸå›  adb devices: ç”¨äºŽæŸ¥çœ‹å½“å‰ç”µè„‘è¿žæŽ¥åˆ°çš„æ‰‹æœºè®¾å¤‡åˆ—è¡¨, å½“æœ‰å¤šå°è®¾å¤‡çš„æ—¶å€™å°±å¯ä»¥é€šè¿‡æ­¤æŒ‡ä»¤æŸ¥çœ‹éœ€è¦æŽ§åˆ¶çš„è®¾å¤‡çš„æ ‡è¯†. adb -s [deviceId]: ç”¨äºŽé€šè¿‡adbæŽ§åˆ¶æŒ‡å®šçš„è®¾å¤‡ adb logcat -s AUTO_TEST: ç”¨äºŽè¾“å‡ºæ‰‹æœºä¸­çš„logcatä¿¡æ¯, -s AUTO_TESå¯ä»¥è¿‡æ»¤åˆ°æŒ‡å®šçš„tag adb shell am: amæ˜¯Activity Mangerçš„ç¼©å†™, å¯ä»¥ç”¨äºŽæŽ§åˆ¶æ‰‹æœºçš„Activity, å½“å‰ä½¿ç”¨äº†adb shell am force-stop com.clwater.testå¯ä»¥å…³é—­æŒ‡å®šçš„åº”ç”¨, adb -s $deviceID shell am start -n com.clwater.test/clwater.test.StartActivityå¯ä»¥æ‰“å¼€æŒ‡å®šçš„åº”ç”¨ adb shell input tap [x_posotion] [y_position]: ç‚¹å‡»æ‰‹æœºçš„æŒ‡å®šä½ç½®, å¯ä»¥åœ¨å¼€å‘è€…æ¨¡å¼ä¸­æ˜¾ç¤ºåæ ‡çš„ä¿¡æ¯æ¥èŽ·å–åæ ‡çš„æƒ…å†µ, ç±»ä¼¼çš„è¿˜å¯ä»¥æ¨¡æ‹Ÿé•¿æŒ‰æˆ–è€…æ˜¯æ»‘åŠ¨ç­‰ç›¸å…³çš„æ“ä½œ shell æ–¹æ³•å‡½æ•° 12345678910#æ–¹æ³•çš„å®šä¹‰,function functionName()&#123; # echo è¾“å‡ºçš„å†…å®¹å¯ä»¥è®¤ä¸ºæ˜¯è¿”å›žå€¼ # $1 ä¸ºç¬¬ä¸€ä¸ªå…¥å‚çš„å‚æ•° # $2 ä¸ºç¬¬äºŒä¸ªå…¥å‚çš„å‚æ•° echo "$1 $2"&#125;#æ–¹æ³•çš„ä½¿ç”¨ å…¶ä¸­aå’Œbä¸ºå…¥å‚çš„å‚æ•°functionName a b# å…¶ä¸­éœ€è¦æ³¨æ„çš„æ˜¯, shellä¸ºè§£é‡Šåž‹, å¦‚æžœéœ€è¦å®šä¹‰å˜é‡æˆ–æ–¹æ³•, éœ€è¦åœ¨è°ƒç”¨å‰å®šä¹‰å¥½æ‰èƒ½è°ƒç”¨ èŽ·å–æ–¹æ³•çš„æ‰§è¡Œç»“æžœ, å¦‚æžœæƒ³è¦çŸ¥é“æŸäº›ä»£ç çš„æ‰§è¡Œç»“æžœ, å¯ä»¥é€šè¿‡ `(æ‰§è¡Œè¯­å¥)` æˆ–è€… $(æ‰§è¡Œè¯­å¥)æ¥èŽ·å– å˜é‡çš„ä½¿ç”¨ åœ¨ä½¿ç”¨å®šä¹‰å¥½çš„å˜é‡æ—¶éœ€è¦åœ¨éåŽ†å‰æ·»åŠ  $æ¥ä½¿ç”¨ sed sedå¯ä»¥ç†è§£ä¸ºé’ˆå¯¹æ–‡ä»¶è¿›è¡Œå¤„ç†çš„å·¥å…·, æ­¤å¤„ sed -n â€˜1pâ€™ \$localCountPath ä¸ºèŽ·å–localCountPathè·¯å¾„ä¸‹æ–‡ä»¶ç¬¬ä¸€è¡Œçš„ä¿¡æ¯, å½“ç„¶sedçš„åŠŸèƒ½ä¸åªæœ‰æœ‰è¿™ä¸ª, sedæ˜¯æ‹¥æœ‰è®¸å¤šååˆ†å¼ºå¤§çš„åŠŸèƒ½ awk awkä¸ºä¸€ä¸ªæ–‡æœ¬åˆ†æžå·¥å…·,æ­¤å¤„ awk â€œBEGIN{print $1/$2*100 } ä¸ºè®¡ç®—ç¬¬ä¸€ä¸ªå‚æ•°/ç¬¬äºŒä¸ªå‚æ•°*100çš„ç»“æžœ tail ç”¨äºŽæŸ¥çœ‹æ–‡ä»¶å†…å®¹, tail -n 1 $logPathä¸ºæŸ¥çœ‹logPathæ–‡ä»¶çš„æœ€åŽä¸€è¡Œçš„å†…å®¹ è¾“å…¥è¾“å‡ºé‡å®šå‘, ä¸€èˆ¬ç”¨äºŽè¯»å–æˆ–è¾“å‡ºå†…å®¹, å…¶ä¸­ &gt;&gt;ä¸ºå°†è¾“å‡ºä»¥è¿½åŠ çš„æ–¹å¼é‡å®šå‘åˆ°æŒ‡å®šæ–‡ä»¶, &gt;ä¸ºè¾“å‡ºé‡å®šå‘åˆ°æŒ‡å®šæ–‡ä»¶ å­—ç¬¦ä¸²æˆªå– ${log##*AUTO_TEST:}ä¸ºä»Žå·¦åˆ°å³è¾“å‡ºæœ€åŽä¸€ä¸ªAUTO_TEST:å­—æ®µåŽçš„å†…å®¹ ifä¸Žwhile, å¸¸è§çš„åˆ¤æ–­ä¸Žå¾ªçŽ¯, è¿™é‡Œå°±ä¸è¿‡å¤šçš„é˜è¿°äº† ==ä¸Ž=~, å…¶ä¸­==ä¸ºç›¸ç­‰, =~ä¸ºæ­£åˆ™åŒ¹é… ä»£ç å®žçŽ°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258#/bin/bashdeviceID="9SV9X20829K00123"logPath="æœ¬åœ°log.log"localCountPath="ç»Ÿè®¡ä¿¡æ¯.txt"# æ£€æŸ¥æ ‡å¿—ä½checkJump=10000success="success"fail="fail"# ä»ŽåŽ†å²æ–‡ä»¶ä¸­èŽ·å–åŽ†å²çš„ä¿¡æ¯# å‚è€ƒshell sedçš„ä½¿ç”¨startCount=`(sed -n '1p' $localCountPath )`connectCount=`(sed -n '2p' $localCountPath )`connectSuccess=`(sed -n '3p' $localCountPath )`genericCount=`(sed -n '4p' $localCountPath )`genericSuccess=`(sed -n '5p' $localCountPath )`startOtaCount=`(sed -n '6p' $localCountPath )`startOtaSuccess=`(sed -n '7p' $localCountPath )`progressOtaCount=`(sed -n '8p' $localCountPath )`successProgressOtaCount=`(sed -n '9p' $localCountPath )`# èŽ·å–å½“å‰æœ€æ–°çš„logfunction checkLog()&#123; # èŽ·å–å½“å‰ç›®æ ‡æ–‡ä»¶çš„æœ€æ–°ä¿¡æ¯ # å‚è€ƒshell tailçš„ä½¿ç”¨ log=`(tail -n 1 $logPath)` # åˆ†å‰²æœ‰ç”¨çš„ä¿¡æ¯ # å‚è€ƒsehll å­—ç¬¦ä¸²çš„åˆ†å‰² log=$&#123;log##*AUTO_TEST:&#125; echo $log&#125;# è¿›è¡Œç›¸å…³åŠ¨ä½œæ£€æŸ¥# $1 éœ€è¦è¿›è¡Œæ£€æŸ¥çš„åŠ¨ä½œ# $2 è¿›è¡Œæ£€æŸ¥çš„æ—¶é—´function testCheck()&#123; _index=0 while [ $_index -lt $2 ] do let _index=($_index + 1) # èŽ·å–å½“å‰æœ€åŽä¸€è¡Œçš„log # å‚è€ƒshell æ–¹æ³•çš„è°ƒç”¨ if [[ `(checkLog)` == $1 ]]; then _index=$checkJump echo $success else sleep 1 fi done if [[ $_index != $checkJump ]] then echo $fail fi&#125;# æ˜¾ç¤ºæŸä¸ªæµç¨‹çš„ç»Ÿè®¡ä¿¡æ¯function showItemCount()&#123; # $1ä¸Ž$2 å‚è€ƒshell æ–¹æ³•çš„ä½¿ç”¨ if [[ $2 != 0 ]]; then # è®¡ç®—ç™¾åˆ†æ¯”çš„æƒ…å†µ # å‚è€ƒshell awkçš„ä½¿ç”¨ f=$(awk "BEGIN&#123;print $1/$2*100 &#125;")% else f="0%" fi echo "$1/$2($f)"&#125;# ä¿å­˜ä¿¡æ¯åˆ°æœ¬åœ°function saveLoacl()&#123; # å‚è€ƒshell &gt; ä¸Ž&gt;&gt;çš„ä½¿ç”¨ echo $startCount &gt; $localCountPath echo $connectCount &gt;&gt; $localCountPath echo $connectSuccess &gt;&gt; $localCountPath echo $genericSuccess &gt;&gt; $localCountPath echo $genericCount &gt;&gt; $localCountPath echo $startOtaCount &gt;&gt; $localCountPath echo $startOtaSuccess &gt;&gt; $localCountPath echo $progressOtaCount &gt;&gt; $localCountPath echo $successProgressOtaCount &gt;&gt; $localCountPath&#125;# æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯function showCount()&#123; echo "å¯åŠ¨: $startCount" echo "æµ‹è¯•æµç¨‹1: `(showItemCount $connectSuccess $connectCount)`" echo "æµ‹è¯•æµç¨‹2: `(showItemCount $genericSuccess $genericCount)`" echo "æµ‹è¯•æµç¨‹3 : `(showItemCount $startOtaSuccess $startOtaCount)`" echo "æµ‹è¯•æµç¨‹4 : `(showItemCount $successProgressOtaCount $progressOtaCount)`" saveLoacl &#125;# æŽ¨å‡ºåº”ç”¨function exitApp()&#123; echo "å…³é—­åº”ç”¨" # å‚è€ƒadb shell amæ–¹æ³• é€€å‡ºæŒ‡å®šåº”ç”¨ `(adb -s $deviceID shell am force-stop com.clwater.test)` showCount&#125;# æµ‹è¯•æµç¨‹4function checkOTAProgress()&#123; echo "æµ‹è¯•æµç¨‹4" let progressOtaCount=($progressOtaCount + 1) _index=0 # è¾¾åˆ°å»¶æ—¶120såŽè¿›è¡Œå¼‚å¸¸è¿›è¡Œå¤„ç† # å‚è€ƒshell whileæŒ‡ä»¤ while [ $_index -lt 120 ] do let _index=($_index + 1) log=`(checkLog)` # å‚è€ƒshell =~æ­£åˆ™åŒ¹é… if [[ $log =~ "æµ‹è¯•æµç¨‹4_æ­£åˆ™" ]]; then _index=$checkJump if [[ $log == "æµ‹è¯•æµç¨‹4_çŠ¶æ€1" ]]; then let successProgressOtaCount=($successProgressOtaCount + 1) echo "æµ‹è¯•æµç¨‹4_çŠ¶æ€1" sleep 5 exitApp else echo "æµ‹è¯•æµç¨‹4_çŠ¶æ€2" exitApp fi else sleep 1 fi done if [[ $_index != $checkJump ]] then echo "æµ‹è¯•æµç¨‹4_çŠ¶æ€è¶…æ—¶" exitApp fi&#125;# æµ‹è¯•æµç¨‹3function checkOTA()&#123; let startOtaCount=($startOtaCount + 1) echo "æµ‹è¯•æµç¨‹3 é¢„å¤„ç†1" sleep 3 echo "æµ‹è¯•æµç¨‹3 é¢„å¤„ç†2" # æ¨¡æ‹Ÿå±å¹•ç‚¹å‡» # å‚è€ƒadb shell input æ–¹æ³• `(adb -s $deviceID shell input tap 658 1130)` sleep 5 echo "æµ‹è¯•æµç¨‹3 é¢„å¤„ç†3" `(adb -s $deviceID shell input tap 530 1960)` sleep 1 echo "æµ‹è¯•æµç¨‹3ä¸­...(20s)" statu=`(testCheck "æµ‹è¯•æµç¨‹3" 20)` if [[ $statu == $success ]]; then let startOtaSuccess=($startOtaSuccess + 1) echo "æµ‹è¯•æµç¨‹3æˆåŠŸ" checkOTAProgress else echo "æµ‹è¯•æµç¨‹3å¤±è´¥" exitApp fi&#125;# æµ‹è¯•æµç¨‹2function checkGeneric()&#123; let genericCount=($genericCount + 1) echo "æµ‹è¯•æµç¨‹2...(30s)" statu=`(testCheck "æµ‹è¯•æµç¨‹2" 30)` if [[ $statu == $success ]]; then let genericSuccess=($genericSuccess + 1) echo "æµ‹è¯•æµç¨‹2æˆåŠŸ" checkOTA else echo "æµ‹è¯•æµç¨‹2å¼‚å¸¸" exitApp fi&#125;# æµ‹è¯•æµç¨‹1function checkConnect()&#123; let connectCount=($connectCount + 1) echo "æµ‹è¯•æµç¨‹1æ£€æŸ¥ä¸­...(30s)" statu=`(testCheck "æµ‹è¯•æµç¨‹1" 30)` # å‚è€ƒ shell if çš„ä½¿ç”¨ if [[ $statu == $success ]]; then let connectSuccess=($connectSuccess + 1) echo "æµ‹è¯•æµç¨‹1æˆåŠŸ" checkGeneric else # å¼‚å¸¸æµç¨‹å¯ä»¥æ ¹æ®å¼‚å¸¸çš„æƒ…å†µå†³å®šæŽ¥ä¸‹æ¥çš„æµç¨‹ # å½“å‰ä¸ºå¼‚å¸¸æƒ…å†µä¸‹æŽ¨å‡ºåº”ç”¨ echo "æµ‹è¯•æµç¨‹2æˆåŠŸ" exitApp fi&#125;# è¿›è¡Œä¸€æ¬¡çš„æµç¨‹æ“ä½œfunction testAPP() &#123; echo "å¯åŠ¨åº”ç”¨" sleep 3 # é€šè¿‡adb å¯åŠ¨åº”ç”¨ # å‚è€ƒ adb shell am (amä¸ºActivityManager) # å‚è€ƒ adb -s ä¸ºæŒ‡å®šè®¾å¤‡ `(adb -s $deviceID shell am start -n com.clwater.test/clwater.test.StartActivity)` checkConnect &#125; function start()&#123; echo "å¼€å§‹æµ‹è¯•" # whileå¾ªçŽ¯ ä¸€ç›´æ‰§è¡ŒæŸä¸ªæµç¨‹çš„æ“ä½œ while True do echo "========================" time=$(date "+%Y/%m/%d %H:%M:%S") # ä½¿å¾—æŸä¸ªæ•°å­—+1 let startCount=($startCount + 1) echo "å½“æ‰§è¡Œæ—¶é—´: $time" echo "å½“æ‰§è¡Œæ¬¡æ•°: $startCount" testAPP echo "" done&#125;# å¼€å§‹start]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æ¯å‘¨ä¸€ä¸ªè‡ªå®šä¹‰View(1) -åŠ¨æ€ProgressView]]></title>
      <url>%2F2021%2F06%2F03%2F%E6%AF%8F%E5%91%A8%E4%B8%80%E4%B8%AA%E8%87%AA%E5%AE%9A%E4%B9%89View-1-%E5%8A%A8%E6%80%81ProgressView%2F</url>
      <content type="text"><![CDATA[æ¯å‘¨ä¸€ä¸ªè‡ªå®šä¹‰View(1) -åŠ¨æ€ProgressView æ–°çš„ä¸€ä¸ªç³»åˆ—, åº”è¯¥æ˜¯è®¡åˆ’æ¯å‘¨å®žçŽ°ä¸€ä¸ªè‡ªå®šä¹‰View, çœ‹çœ‹èƒ½æ£€æŸ¥åˆ°å¤šä¹…å§ è¿™æ¬¡å°±ä»Žä¸€ä¸ªå¸¸è§çš„ProgressBarkå¼€å§‹å§, æœ€è¿‘çš„é¡¹ç›®ä¸­ä½¿ç”¨äº†ä¸€ä¸ªProgressæ˜¾ç¤ºæ–‡ä»¶ä¸‹è½½è¿›åº¦çš„åŠŸèƒ½, è®¾è®¡ç»™çš„æ˜¯ä¸€ä¸ªé™æ€çš„å›¾ç‰‡, ä¹Ÿæ²¡æœ‰è¯´éœ€è¦å…·ä½“å®žçŽ°çš„æƒ…å†µ, åŽé¢ä¼˜åŒ–çš„æ—¶å€™åˆšå¥½æœ‰äº†æ€§è´¨, å°±æœ‰äº†ä¸‹é¢çš„è¿™ä¸ªAnimatorProgressBar. æ•ˆæžœå±•ç¤º æ”¯æŒåŠŸèƒ½ åŸºæœ¬çš„çš„è¿›åº¦è®¾ç½®(å½“å‰é»˜è®¤ä¸º0-100) é¢œè‰²å®šä¹‰, ä½¿ç”¨çš„é¢œè‰²éƒ½æ˜¯å¯ä»¥è®¾ç½®çš„, æ»¡è¶³å„æ ·çš„uiéœ€æ±‚ å…ƒç´ å®šä¹‰, ä½œä¸ºå±•ç¤ºçš„Progressä¸­çš„çº¿æ¡å¯ä»¥è®¾ç½®å®½åº¦å’Œé—´è· åŠ¨ç”»æŽ§åˆ¶, åŠ¨ç”»æ•ˆæžœå¯ä»¥è®¾ç½®å±•ç¤ºé€Ÿåº¦, æ€»æœ‰ä¸€ä¸ªç»„åˆé€‚åˆä½  è®¾è®¡è¿‡ç¨‹ å°†ç›¸å…³çš„viewåˆ†ä¸ºäº†å››å±‚, ä»Žä¸‹è‡³ä¸Šåˆ†åˆ«ä¸º èƒŒæ™¯å›¾å±‚ç”¨äºŽæ˜¾ç¤ºæ•´ä¸ªviewçš„èƒŒæ™¯ è¿›åº¦å›¾å±‚ç›¸å½“äºŽè¿›åº¦æ¡çš„èƒŒæ™¯é¢œè‰² çº¿æ®µåŠ¨ç”»å›¾å±‚åœ¨è¿™é‡Œç»˜åˆ¶å‡ºçŽ°çš„çº¿æ®µ, å¹¶æŽ§åˆ¶å™¨åŠ¨ç”»çš„æ•ˆæžœ é®ç½©å±•ç¤ºå›¾å±‚è¿™é‡Œä½¿ç”¨äº†é®ç½©å±•ç¤ºçš„æ–¹æ³•, æŽ§åˆ¶é®ç½©å›¾å±‚çš„è¿›åº¦å’Œæ ·å¼æ¥è¡¨çŽ°å®žé™…çš„å±•ç¤ºæ•ˆæžœ å®žçŽ°è¿‡ç¨‹ é¦–å…ˆæ˜¯èƒŒæ™¯å¦‚æžœç»˜åˆ¶çš„, ç®€å•æ¥è¯´å°±æ˜¯ä¸¤ä¸ªåœ†å½¢å’Œä¸€ä¸ªçŸ©å½¢, å…·ä½“çš„åŠ¨ç”»æ•ˆæžœå¯ä»¥å‚è€ƒä¸‹é¢, å…¶å®ƒçš„å›¾å±‚åŸºæœ¬ä¸Šä¹Ÿéƒ½æ˜¯æ¯”è¾ƒç±»ä¼¼çš„æƒ…å†µ, é™¤æ­¤ä¹‹å¤–å°±æ˜¯çº¿æ¡çš„å®žçŽ° å…¶ä¸­ä¸­å¿ƒé»‘è‰²çš„ä¸ºå±•ç¤ºçš„åŒºåŸŸ, ç™½è‰²çš„æ˜¯ç»˜åˆ¶çš„åŒºåŸŸ ä»£ç å®žçŽ°å¯ç¼–è¾‘å‚æ•°123456789101112131415//ä¸‹é¢ä¸ºå¯è‡ªå®šä¹‰ç¼–è¾‘çš„å‚æ•° //èƒŒæ™¯é¢œè‰² private int viewBackGroundColor; //çº¿æ¡é¢œè‰² private int viewLineColor; //è¿›åº¦æ¡é¢œè‰² private int viewProgressColor; //çº¿æ¡è§é—´éš” private int offsetLine; //æ‰§è¡ŒåŠ¨ç”»éœ€è¦çš„æ—¶é—´ private int animatorTime; //è¿›åº¦å˜åŒ–åŠ¨ç”»éœ€è¦çš„æ—¶é—´ private int animatorProgressTime; //ç”»ç¬”/çº¿æ¡çš„å®½åº¦ private int paintWidth; èƒŒæ™¯å›¾å±‚&amp;ç»˜åˆ¶å›¾å±‚èƒŒæ™¯è¿™ä¸¤ä¸ªå›¾å½¢çš„å®žçŽ°æ¯”è¾ƒç±»ä¼¼ 123456789101112131415161718192021/** * @description ç»˜åˆ¶å›¾å±‚èƒŒæ™¯ */private void getProgressBackground(Canvas canvas)&#123; //è®¾ç½®ç”»ç¬” Paint paint = new Paint(); paint.setColor(viewProgressColor); //ç¡®å®šä¸¤ä¸ªåœ†å½¢çš„ä¸­å¿ƒä½ç½®åŠåŠå¾„ int leftCirclePoint = height / 2; int rightCirclePoint = width - leftCirclePoint; int radius = height / 2; //ç»˜åˆ¶å·¦ä¾§å’Œå³ä¾§çš„åœ†å½¢å¡«å…… canvas.drawCircle(leftCirclePoint, height &gt;&gt; 1, radius, paint); canvas.drawCircle(rightCirclePoint, height &gt;&gt; 1, radius, paint); //ç»˜åˆ¶ä¸­å¿ƒçš„çŸ©å½¢å¡«å…… Rect rect = new Rect(leftCirclePoint, 0, rightCirclePoint, height); canvas.drawRect(rect, paint);&#125; 12345678910111213141516171819/** * @description ç»˜åˆ¶èƒŒæ™¯å›¾å±‚ */private void drawViewBackground(Canvas canvas) &#123; canvas.save(); Paint paint = new Paint(); paint.setColor(viewBackGroundColor); int leftCirclePoint = height / 2; int rightCirclePoint = width - leftCirclePoint; int radius = height / 2; canvas.drawCircle(leftCirclePoint, height &gt;&gt; 1, radius, paint); canvas.drawCircle(rightCirclePoint, height &gt;&gt; 1, radius, paint); Rect rect = new Rect(leftCirclePoint, 0, rightCirclePoint, height); canvas.drawRect(rect, paint);&#125; ç»˜åˆ¶é®ç½©å›¾å±‚12345678910111213141516171819202122232425262728293031/** * @description ç»˜åˆ¶é®ç½©å›¾å±‚ */private Bitmap progressBitmapDst()&#123; Bitmap bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888); //å¦‚æžœå½“å‰è¿›åº¦ä¸º0, åˆ™ä¸å±•ç¤ºä»»ä½•å†…å®¹ if (progress == 0)&#123; return bitmap; &#125; Canvas canvas = new Canvas(bitmap); Paint paint = new Paint(); paint.setColor(Color.WHITE); //é®ç½©å›¾å±‚å®½åº¦ä¸Žå½“å‰progressè¿›åº¦æœ‰å…³ int leftCirclePoint = height / 2; int rightCirclePoint = leftCirclePoint + (int) ((width - height) / 1f * progress / 100f); int radius = height / 2; canvas.drawCircle(leftCirclePoint, height &gt;&gt; 1, radius, paint); canvas.drawCircle(rightCirclePoint, height &gt;&gt; 1, radius, paint); Rect rect = new Rect(leftCirclePoint, 0, rightCirclePoint, height); canvas.drawRect(rect, paint); return bitmap;&#125; ç»˜åˆ¶çº¿æ¡åŠ¨ç”»1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283 /** * @description ç»˜åˆ¶çº¿æ¡åŠ¨ç”» */ private void getProgressLines(Canvas canvas)&#123; Paint paint = new Paint(); paint.setColor(viewLineColor); //è®¾ç½®ç”»ç¬”å®½åº¦ paint.setStrokeWidth(paintWidth); //è®¾ç½®ç”»ç¬”åœ†å½¢è¾¹ç•Œ paint.setStrokeCap(Paint.Cap.ROUND); //todo åŠ¨ç”»æ•ˆæžœå±•ç¤ºä¼˜åŒ– canvas.translate(-offsetLine * 2, 0); //offsetAnimator ä¸ºåŠ¨ç”»å±•ç¤ºæ—¶ä½¿ç”¨, æ¯æ¬¡ç§»åŠ¨ä¸€å®šçš„é•¿åº¦, //é€šè¿‡è¿žç»­çš„ç§»åŠ¨æ¥å®žçŽ°è§†è§‰ä¸Šçš„åŠ¨ç”»æ•ˆæžœ canvas.translate(offsetAnimator, 0); canvas.save(); int indexOffset = 0; //ä¾æ¬¡ç»˜åˆ¶çº¿æ¡ do &#123; //ç»˜åˆ¶å³ä¸Šåˆ°å·¦ä¸‹çš„çº¿æ¡ canvas.drawLine(20, -20, -offsetLine - 20, height + 20, paint); indexOffset += offsetLine; //åç§»ä½ç½® canvas.translate(offsetLine, 0); &#125;while (indexOffset &lt; width + offsetLine * 4); canvas.restore(); &#125;``` ### åŠ¨ç”»æ•ˆæžœ```java /** * @description è¿›åº¦å˜åŒ–åŠ¨ç”» * @param startProgress * @param endProgress */ public void startProgressAnimator(int startProgress, int endProgress)&#123; //åŠ¨ç”»å·®å€¼èŒƒå›´ ValueAnimator va = ValueAnimator.ofFloat(startProgress, endProgress); va.setDuration(animatorProgressTime); //çº¿æ€§å–å€¼ va.setInterpolator(new LinearInterpolator()); va.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() &#123; @Override public void onAnimationUpdate(ValueAnimator valueAnimator) &#123; progress = (float) valueAnimator.getAnimatedValue(); invalidate(); &#125; &#125;); va.start(); &#125; /** * @description å¼€å§‹åŠ¨ç”» */ public void startAnimator()&#123; //åŠ¨ç”»å·®å€¼èŒƒå›´ ValueAnimator va = ValueAnimator.ofFloat(0f, offsetLine); //å¾ªçŽ¯æ’­æ”¾ va.setRepeatCount(ValueAnimator.INFINITE); va.setDuration(animatorTime); //çº¿æ€§å–å€¼ va.setInterpolator(new LinearInterpolator()); va.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() &#123; @Override public void onAnimationUpdate(ValueAnimator valueAnimator) &#123; offsetAnimator = (float) valueAnimator.getAnimatedValue(); invalidate(); &#125; &#125;); va.start(); &#125; æœ€åŽç›¸å…³ä»£ç å¯ä»¥è®¿é—®æˆ‘çš„GitHubæ¥èŽ·å–,æ¬¢è¿Žå¤§å®¶startæˆ–è€…æä¾›å»ºè®®.]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[RobinAlgo - å¯è§†åŒ–ç®—æ³•å­¦ä¹ å¹³å° æ­£å¼ä¸Šçº¿äº†]]></title>
      <url>%2F2020%2F10%2F13%2FRobinAlgo%2F</url>
      <content type="text"><![CDATA[RobinAlgo - å¯è§†åŒ–ç®—æ³•å­¦ä¹ å¹³å° æ­£å¼ä¸Šçº¿äº† !!! RobinAlgo - å¯è§†åŒ–ç®—æ³•å­¦ä¹ å¹³å° æ­£å¼ä¸Šçº¿äº† !!!!!! RobinAlgo - å¯è§†åŒ–ç®—æ³•å­¦ä¹ å¹³å° æ­£å¼ä¸Šçº¿äº† !!!!!! RobinAlgo - å¯è§†åŒ–ç®—æ³•å­¦ä¹ å¹³å° æ­£å¼ä¸Šçº¿äº† !!!é‡è¦çš„äº‹æƒ…è¦è¯´ä¸‰é. 0. RobinAlgoæ˜¯ä»€ä¹ˆ?-&gt;æ’å…¥è§†é¢‘&lt;- RobinAlgoé€šè¿‡ç®€å•çš„è§†é¢‘å¤§å®¶åº”è¯¥å¯¹RobinAlgoæœ‰ä¸€ç‚¹ç‚¹çš„äº†è§£äº†, æ­£å¦‚è§†é¢‘çš„ä»‹ç»ä¸­, RobinAlgoæ˜¯ä¸€ä¸ªç®—æ³•å­¦ä¹ çš„å¹³å°, é€šè¿‡RobinAlgoå¯ä»¥å¸®åŠ©ä½ æä¾›ä½ çš„ç®—æ³•èƒ½åŠ›. RobinAlgoçš„ä¼˜åŠ¿ åŠ¨ç”»å±•ç¤º æ¯é“é¢˜ç›®éƒ½æœ‰é’ˆå¯¹å½“å‰é¢˜ç›®è€ŒåŽŸåˆ›åˆ¶ä½œçš„åŠ¨ç”», é€šè¿‡å¯è§†åŒ–çš„åŠ¨ç”»å¸®åŠ©å¤§å®¶ç†è§£é¢˜è§£å’Œç®—æ³•çš„è¿è¡Œè¿‡ç¨‹, æ˜¯å¸®åŠ©ä½ é«˜æ•ˆå­¦ä¹ çš„ä¸äºŒç¥žå™¨ æ‰‹ç»˜è®²è§£è§†é¢‘ é¢˜ç›®è®²è§£çš„è¿‡ç¨‹ä¸­æ ¹æ®æ€è·¯å®žæ—¶ç»˜åˆ¶, æ–¹ä¾¿åŒæ­¥è®²è§£çš„æ€è·¯, æ›´å¿«çš„ç†è§£ç®—æ³•å†…å®¹ ä»£ç è¯¦è§£ æ¯è¡Œä»£ç éƒ½æä¾›å®Œæ•´çš„ä»£ç , æ›´å¿«çš„ç†è§£ä»£ç çš„å®žçŽ° è§†é¢‘ç²¾ç®€ ä¸åŒäºŽè®¸å¤šæ—¶é•¿åŠå°æ—¶èµ·æ­¥çš„è§†é¢‘, åœ¨è§†é¢‘åŽæœŸåˆ¶ä½œä¸­ä¸æ–­çš„è°ƒæ•´å†…å®¹, ä¿è¯æ¯æœŸè§†é¢‘æ—¶é•¿éƒ½åœ¨ååˆ†é’Ÿå·¦å³, ç²¾ç®€ä½†ä¸ç®€å•, è§†é¢‘çš„æ¯åˆ†æ¯ç§’éƒ½ååˆ†æœ‰ä»·å€¼ æ€è·¯å¼•å¯¼ ä¸å•å•å±€é™äºŽå•ä¸€çš„è§£æ³•, å°½å¯èƒ½çš„å¸®åŠ©æ‚¨å»ºç«‹ç³»ç»Ÿçš„è§£é¢˜æ€è·¯, ä¿è¯é¢˜ç›®å˜å½¢åŽä»ç„¶å¯ä»¥é€šè¿‡è‡ªå·±è§£ç­” ä¸€åˆ‡çš„ç¼˜ç”±ä»Žè¿˜åœ¨å¤§å­¦çš„æ—¶å€™, ä¸ºè‡ªå·±å·¥ä½œçš„æƒ³æ³•å°±ä¸€ç›´è¦ç»•åœ¨æˆ‘çš„è„‘æµ·ä¸­. è™½ç„¶è¿™æ ·çš„è¡Œä¸ºä¸€èˆ¬è¢«ç§°ä¸ºåˆ›ä¸š, ä¸è¿‡æˆ‘æ›´æ„¿æ„ç§°ä¹‹ä¸ºä¸ºè‡ªå·±å·¥ä½œ, ä¸æ˜¯ä¸ºäº†ä¸š, è€Œæ˜¯ä¸ºäº†è‡ªå·±. æˆ–è®¸ä½ ä¹Ÿæœ‰è¿‡ä¸€ç‚¹ç‚¹ç±»ä¼¼çš„æƒ³æ³•, ä¸è¿‡æœ€åŽéƒ½ç”±äºŽç§ç§â€åŽŸå› â€è€Œæ²¡æœ‰åŽ»å®žçŽ°. å’Œå¤§å®¶ä¸€æ ·, å…¶ä¸­çš„â€åŽŸå› â€æœ‰å¾ˆå¤šå¾ˆå¤šçš„éƒ½æ˜¯å€Ÿå£. å½“ç„¶, æˆ‘è¿˜æ˜¯ä¸å»ºè®®å¤§å®¶æƒ³æˆ‘è¿™ä¹ˆåš. ä¸è¿‡, ä»Šå¹´å¹´åˆçš„æ—¶å€™æˆ‘è¿˜æ˜¯èµ°å‡ºäº†è¿™ä¸€æ­¥. å¯¹æˆ‘æ¥è¯´å¾ˆé‡è¦çš„ä¸€æ­¥. æˆ–è€…è¯´æ”¾å¼ƒäº†å¾ˆå¤š, æ”¾å¼ƒäº†ç›¸å¯¹ç¨³å®šçš„å·¥ä½œ, æ”¾å¼ƒäº†ç›¸å¯¹ç†Ÿæ‚‰çš„å·¥ä½œå†…å®¹, èµ°åˆ°çŽ°åœ¨, æˆ‘ç¡®ç¡®å®žå®žçš„æ”¾å¼ƒäº†æˆ–è€…è¯´å¤±åŽ»äº†å¾ˆå¤š. å½“ç„¶, ä¹Ÿæ”¶èŽ·äº†å¾ˆå¤šä¹‹å‰æ”¶èŽ·ä¸åˆ°çš„. RobinAlgoçš„å¼€ç«¯å…¶ä¸­æœ€æœ€é‡è¦çš„æ”¶èŽ·å°±æ˜¯RobinAlgoäº†, ä¹‹å‰æœ‰åœ¨å…¶å®ƒçš„æ–‡ç« è¯´è¿‡å‰ä¸€ä¸ªå¤±è´¥çš„æ˜¥ç¬‹çš„é¡¹ç›®(åˆå…´è¶£çš„è¯å¯ä»¥å‚è€ƒæœ€åŽçš„é“¾æŽ¥), ç›¸æ¯”äºŽRobinAlgo, æ˜¥ç¬‹æ›´åƒæ˜¯ä¸ªä¸ºäº†åšäº‹æƒ…è€Œåšçš„é¡¹ç›®, å‡ ä¹ŽçŠ¯äº†æ‰€æœ‰çš„é”™è¯¯. å¥½åœ¨RobinAlgoè¿˜æ˜¯é¡ºåˆ©çš„ä¸Šçº¿äº†. å’Œä¸€äº›æœ‹å‹èŠåŠè¿™äº›çš„äº‹æƒ…çš„æ—¶å€™, å¤§å®¶éƒ½æƒ³ç€ä¼šåšçš„å¤šå¤§, æ€Žä¹ˆæ ·å¯ä»¥æ‹¿åˆ°èžèµ„ä¸Šå¸‚,å¯èƒ½æˆ‘æ€•è¾›è‹¦å§, æˆ‘æƒ³åšçš„æ˜¯ä¸€ä¸ªå°å°äº‹æƒ…, æ˜¯ä¸€ä¸ªæŠŠä¸€ä¸ªå°å°çš„äº‹æƒ…åšåˆ°æžè‡´çš„æŒ‘æˆ˜.æ‰€ä»¥æœ‰äº†è¿™ä¸ªä¸“æ³¨äºŽç®—æ³•å­¦ä¹ çš„å¹³å°RobinAlgo, é€‰æ‹©åšç®—æ³•è§†é¢‘çš„ç¼˜ç”±ä¹Ÿå¾ˆç®€å•, å¯èƒ½ç¨‹åºå‘˜å¯¹å·¥å…·çš„æ‰§ç€å§, ç®—æ³•ä½œä¸ºç¨‹åºå‘˜çš„å·¥å…·è‡ªç„¶çš„ä¹Ÿå°±è¢«è€ƒè™‘åˆ°äº†. çŽ°é˜¶æ®µåšç®—æ³•å­¦ä¹ è§†é¢‘çš„å¹³å°ä¹Ÿä¸åœ¨å°‘æ•°, ä¸ºä»€ä¹ˆæˆ‘è¿˜è¦åšè¿™ä¸ªå‘¢? è™½ç„¶å…¶ä¸­ä¸ä¹è®²è§£ç›´å…¥é«˜æ•ˆçš„è§†é¢‘, ä½†æ˜¯æˆ‘ä»ç„¶è®¤ä¸ºå¹¶ä¸æ˜¯ä¸€ä¸ªæ˜¯ä¸ªå¤§å®¶çš„è§†é¢‘, åŠ ä¹‹ä¹‹å‰çœ‹åˆ°çš„ä¸€éƒ¨åˆ†ç‰¹æ®Šç®—æ³•çš„åŠ¨ç”», æˆ‘è®¤ä¸ºæˆ‘å¯ä»¥åšå‡ºæ›´åŠ é€‚åˆå¤§å®¶åœ¨å­¦ä¹ ç®—æ³•çš„å¹³å°ä¸­èƒ½å¤Ÿæ·±å…¥æµ…å‡ºçš„å¹³å°.æ‰€ä»¥RobinAlgoå°±è¿™ä¹ˆæˆç«‹äº†. å…³äºŽRobinAlgoçš„ä¼˜åŠ¿, æˆ‘æ€•ä½ çœ‹ä¸åˆ°è¿™é‡Œäº†å°±æ”¾åœ¨çš„æ–‡ç« çš„å¼€å¤´éƒ¨åˆ†äº†, RobinAlgoçŽ°åœ¨çš„å†…å®¹çŽ°é˜¶æ®µçš„è¯å·²ç»å®Œæˆäº†100ä¸ªè§†é¢‘çš„å½•åˆ¶, æ‹¥æœ‰äº†ä¸€å®šçš„å†…å®¹, è¿™äº›é¢˜ç›®éƒ½æ˜¯è¿‘æœŸä¸ªå„ä¸ªå…¬å¸è€ƒå¯Ÿçš„é«˜é¢‘é¢˜ç›®å’Œå†…å®¹. ä¹Ÿæœ‰è‡ªå·±ç‹¬ç«‹çš„ç½‘ç«™å’Œè®ºå›, è™½ç„¶ç½‘ç«™çš„è®¾è®¡ä»ç„¶æ˜¯æˆ‘è‡ªå·±æ“åˆ€çš„, è™½ç„¶æˆ‘è¿™å‡ å¹´çš„å·¥ä½œåšçš„éƒ½æ˜¯Androidç›¸å…³çš„, ä½†æ˜¯çŽ°é˜¶æ®µçš„RobinAlgoä»ç„¶æ˜¯å¯ä»¥æ­£å¸¸ä½¿ç”¨çš„ç½‘ç«™äº†. æ¯ä¸ªè§†é¢‘éƒ½æœ‰é…å¥—çš„å¯è§†åŒ–åŠ¨ç”»å’Œé¢˜è§£, å½“ç„¶ä»£ç æ˜¯ä¸å¯ç¼ºå°‘çš„, å¯èƒ½ä¸æ˜¯æœ€ä¼˜çš„è§£ç­”, ä½†å´æ˜¯æ›´åˆé€‚çš„æ€è·¯. é™¤æ­¤ä¹‹å¤–ä»£ç ç¼–è¾‘å™¨å’Œæ›´å¤šçš„è§†é¢‘å½•åˆ¶ä¹Ÿåœ¨è¿›è¡Œä¸­äº†. ä¸€äº›å…³äºŽRobinAlgoçš„æ•…äº‹ä¸ºä»€ä¹ˆå«åšRobinAlgoRobinæ˜¯ä¸€åªçŸ¥æ›´é¸Ÿ, ä¹Ÿæ˜¯Logoçš„åŽŸåž‹, Algoæˆªå–è‡ªAlgorithm,ç”¨Robinçš„åŽŸå› å¾ˆè§åˆ°, åªæ˜¯ä»Žä¹¦æž¶ä¸Šå¤šçœ‹äº†ä¸€çœ¼ã€Šæ€æ­»ä¸€åªçŸ¥æ›´é¸Ÿã€‹, å½“ç„¶Mockingbirdä¹Ÿè¢«ç”¨åœ¨äº†RobinAlgoä¸­. ä¸€ä¸ªè§†é¢‘æ˜¯å¦‚ä½•å½•åˆ¶çš„ æ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„é¢˜ç›®, åœ¨è¿™é‡Œå¹¶ä¸æ˜¯å•çº¯çš„ä¸ºäº†åˆ·é¢˜è€Œå­¦ä¹ , æ¯ä¸ªé¢˜ç›®çš„é€‰æ‹©éƒ½éœ€è¦å¤šä¸ªç»´åº¦çš„è¯„ä¼°, åŒ…æ‹¬ä½†ä¸é™äºŽéš¾åº¦, è¿‘æœŸå‡ºçŽ°çš„é¢‘çŽ‡, ä½¿ç”¨çš„è§£é¢˜æ€è·¯ç­‰ç­‰. æŽ¥ä¸‹æ¥å°±æ˜¯å®Œå–„è§£é¢˜æ€è·¯, å¾ˆå¤šé¢˜ç›®çš„è§£é¢˜æ€è·¯éƒ½ä¸å”¯ä¸€, è¿˜ä¼šæ¸è¿›çš„æä¾›ç»™å¤§å®¶, å½“ç„¶ä¸»è¦çš„è¡¨çŽ°å½¢å¼æ˜¯code. åˆ¶ä½œåŠ¨ç”», é’ˆå¯¹æ¯ä¸ªæ€è·¯éƒ½è¦åˆ¶ä½œç›¸åº”çš„åŠ¨ç”», ç”¨pptåˆ¶ä½œçš„, æ²¡é”™, å°±æ˜¯ppt. æ‰€ä»¥è¯´æ‰€æœ‰çš„åŠ¨ç”»éƒ½æ˜¯ä¸€å¸§ä¸€å¸§çš„è°ƒæ•´å¾—åˆ°çš„. é‡åˆ°æ€è·¯è°ƒæ•´çš„æ—¶å€™åŠ¨ç”»ä¹Ÿè¦ç›¸åº”çš„ä¿®æ”¹ å½•å±, å½“å‰è§†é¢‘ä¸»è¦åŒ…å«äº†é»‘æ¿çš„æ€è·¯,åŠ¨ç”»å’Œä»£ç çš„è®²è§£. æ€è·¯çš„è¯è¿˜ä¼šåŒ…å«æ‰‹ç»˜çš„å½•åˆ¶, åŠ¨ç”»åˆ™æ˜¯å¯¹æ€è·¯ç†è§£çš„é‡è¦è¡¥å……, ä»£ç ä¹Ÿéœ€è¦é€è¡Œçš„è§£æž. åŽæœŸåˆ¶ä½œ, ä¸€èˆ¬å½•åˆ¶ä¸€ä¸ªè§†é¢‘çš„æƒ…å†µä¸‹èµ„æºçš„é•¿åº¦åœ¨40åˆ†é’Ÿå·¦å³, éœ€è¦ç²¾ç®€å¾ˆå¤šçš„å†…å®¹. å…¶å®ƒçš„äº‹æƒ…?GitHubè¦ä¸è¦starä¸€ä¸‹? RobinAlgoä¸­æ‰€æœ‰çš„åŠ¨ç”»å’Œé¢˜è§£éƒ½å·²ç»å¼€æºäº†.çŽ°é˜¶æ®µæˆ‘å¯¹RobinAlgoæ˜¯ååˆ†çš„æ»¡æ„çš„, æ›´å„æ–¹é¢ä¸Šçš„, å¦‚æžœä½ ä¹Ÿè®¤ä¸ºä¸é”™çš„è¯è¦ä¸è¦ä¹Ÿè®¢é˜…ä¸€ä¸‹, è¿™æ ·æ‰èƒ½æŒç»­çš„è¾“å‡ºé«˜è´¨é‡çš„å†…å®¹ä¸æ˜¯.å¸Œæœ›å°å°çš„RobinAlgoå¯ä»¥ç»™ä½ æä¾›å¤§å¤§çš„å¸®åŠ©. æœ‰å…¶å®ƒçš„é—®é¢˜çš„è¯å¯ä»¥åŽå°ç•™è¨€æˆ–è€…åŠ å¾®ä¿¡[ jingkai-win ]å’Œæˆ‘è¿›ä¸€æ­¥äº¤æµ.]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[å†™åœ¨RobinAlgoä¸Šçº¿çš„å‰ä¸€å¤©]]></title>
      <url>%2F2020%2F10%2F10%2F%E5%86%99%E5%9C%A8RobinAlgo%E4%B8%8A%E7%BA%BF%E7%9A%84%E5%89%8D%E4%B8%80%E5%A4%A9%2F</url>
      <content type="text"><![CDATA[å†™åœ¨RobinAlgoä¸Šçº¿çš„å‰ä¸€å¤© åœ¨å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™æˆ‘ç‰¹æ„åŽ»çœ‹äº†ä¸€ä¸‹gitçš„æäº¤è®°å½•, RobinAlgoåˆ›å»ºäºŽ5æœˆ13æ—¥, å…œå…œè½¬è½¬ä¹ŸåŠå¹´äº†, ç½‘ç«™ç•¥æ˜¾ç®€é™‹, ä½†æ˜¯ä¹Ÿæ˜¯ä¸€ä¸ªæ–°çš„å¼€å§‹. 0. èµ·åšç‚¹è‡ªå·±æƒ³åšçš„äº‹æƒ…åœ¨æˆ‘è¿˜åœ¨å¤§å­¦çš„æ—¶å€™å°±ä¸€ç›´è¦ç»•åœ¨è„‘ä¸­, ä¸è¿‡å› ä¸ºå„ç§å„æ ·éƒ½èƒ½çŸ¥é“çš„åŽŸå› ä¸€ç›´æ²¡æœ‰ä»˜å‡ºäºŽè¡ŒåŠ¨, æ¯•ä¸šåˆ°çŽ°åœ¨çš„å·¥ä½œä¸­è¿™ä¸ªå¿µå¤´ä¹Ÿä¸€ç›´æµ®çŽ°, ä¹Ÿå¼€å§‹å‡†å¤‡äº†ä¸€ç‚¹ç‚¹çš„äº‹æƒ…, ä½†æ˜¯åˆ°æœ€åŽéƒ½æ˜¯ä¸äº†äº†ä¹‹. ä¸è¿‡éšç€ä¸‰æœˆä»Žä¹‹å‰çš„å…¬å¸ç¦»èŒä¹‹åŽè¿™ä¸ªå¿µå¤´å°±æ„ˆå‘çš„å¼ºçƒˆ, ä¸€è¾¹æ˜¯éƒ½è¯´çš„å¤§çŽ¯å¢ƒä¸å¥½çš„æƒ…å†µ, ä¸€è¾¹æ˜¯æœ‰ç‚¹ä¸ºäº†åšäº‹è€Œåšäº‹çš„æƒ³æ³•. ä¸è¿‡æœ€åŽçš„ç»“æžœä¹Ÿæ˜¾è€Œæ˜“è§äº†, ç»è¿‡äº†ä¸€æ®µæ—¶é—´çš„æ€è€ƒåŽè¿˜æ˜¯è§‰å¾—è¦åŠªåŠ›ä¸€ä¸‹. åœ¨æ€è€ƒçš„è¿‡ç¨‹ä¸­æƒ³äº†å¾ˆå¤šä¹Ÿ, æœ€åˆçš„å¼€å§‹è¿˜æ˜¯æ„Ÿè§‰å…ˆæœ‰ä¸ªå·¥ä½œ, ç„¶åŽå…ˆåšç‚¹å‰¯ä¸š, å°è¯•ç»è¥ä¸‹å‰¯ä¸š, æœ‰ä¸€å®šçš„æˆæ•ˆåŽå†æŠŠå‰¯ä¸šè½¬ä¸ºå…¨èŒ, ä¸è¿‡æœ€åŽè¿˜æ˜¯æ²¡æœ‰é€‰æ‹©è¿™ä¸ª, ä¸€æ˜¯ä¹‹å‰å·¥ä½œçš„æƒ…å†µå°±ä¸€ç›´æ˜¯è¿™ä¸ªæƒ³æ³•, ä½†æ˜¯åŸºæœ¬æ²¡æœ‰ä»€ä¹ˆäº§å‡º. åŽé¢å¼€å§‹åšRobinAlgoçš„æ—¶å€™æ‰å‘çŽ°åªç”¨å‰¯ä¸šçš„ç²¾åŠ›çš„è¯ä¸è®ºæ•ˆçŽ‡è¿˜æ˜¯äº§å‡ºçš„è¯éƒ½è¿œè¿œè¾¾ä¸åˆ°æˆ‘çš„è¦æ±‚. äººçš„ç²¾åŠ›è¿˜æ˜¯æœ‰é™çš„, åŠ ä¸Šå¯¹è‡ªå·±çš„æ¸…æ™°çš„è®¤çŸ¥, æœ€åŽçš„è¿˜æ˜¯é€‰æ‹©äº†è¿™æ¡è·¯. å¯èƒ½ä½ å‘çŽ°äº†æˆ‘åˆ°çŽ°åœ¨éƒ½æˆ‘æ²¡æœ‰è¯´è¿‡æˆ‘åœ¨åˆ›ä¸š, ä¸Žå…¶åˆ›ä¸š, æˆ‘æ›´è®¤ä¸ºæˆ‘çŽ°åœ¨åšçš„æ›´å¤šçš„æ˜¯ä¸ºè‡ªå·±åšä¸€ç‚¹äº‹æƒ…, (æ„Ÿè§‰ä¸€ç›´éƒ½æ²¡æœ‰å®Œå®Œå…¨å…¨çš„ä¸ºè‡ªå·±åšç‚¹æœ‰æ„ä¹‰çš„äº‹æƒ…ä¸æ˜¯). 1. æ‰¿RobinAlgoæ˜¯æˆ‘åšçš„ç¬¬äºŒä¸ªé¡¹ç›®, ç¬¬ä¸€ä¸ªé¡¹ç›®çš„åç§°æ˜¯æ˜¥ç¬‹, æ˜¥ç¬‹å¯¹å½“æ—¶æˆ‘æ¥è¯´å°±æ˜¯å®Œå®Œå…¨å…¨çš„ä¸ºäº†åˆ›ä¸šè€Œåˆ›ä¸šçš„é¡¹ç›®, èŠ±è´¹äº†å¤§æ¦‚ä¸€ä¸ªæœˆçš„æ—¶é—´. åœ¨å¼€å‘çš„æ˜¥ç¬‹çš„æ—¶å€™çœ‹ç€ä¸€ä¸ªåˆä¸€ä¸ªçš„æäº¤è®°å½•, é¡µé¢ä¸€ä¸ªåˆä¸€ä¸ªçš„å®Œæˆ. å®žé™…æœ€åŽæ˜¥ç¬‹å·²ç»å®Œæˆäº†ä¹æˆä»¥ä¸Šçš„å†…å®¹, ä¸è¿‡æœ‰ä¸€å¤©çœ‹ç€é¡µé¢çš„æ—¶å€™, æˆ‘çªç„¶è§‰å¾—å¾ˆé™Œç”Ÿ, æ˜Žæ˜Žæ˜¯è‡ªå·±ä¸€ç‚¹ç‚¹åšçš„é¡¹ç›®, åˆ°æœ€åŽæˆ‘æˆ‘è‡ªå·±ä¸çŸ¥é“åšçš„ç›®çš„æ˜¯ä»€ä¹ˆ, å·²ç»æ¸æ¸å˜æˆäº†ä¸ºäº†å¼€å‘è€Œå¼€å‘. åŠ ä¹‹æœ‰ç‚¹æ¬ºéª—è‡ªå·±çš„å®Œæˆå¸‚åœºæ•ˆç›Š, æ˜¥ç¬‹çš„é¡¹ç›®å°±æžœæ–­çš„è¢«æˆ‘æš‚åœäº†. (æ˜¥ç¬‹çœ‹æ¥çŸ­æœŸæ˜¯æ— æ³•é•¿æˆç«¹å­äº†.) è¿™ä¸ªæ—¶å€™å…³äºŽæ˜¯å¦éœ€è¦ç»§ç»­çš„é—®é¢˜æ‘†åœ¨äº†æˆ‘çš„é¢å‰, ä¸è¿‡, å¯¹æˆ‘æ¥è¯´çŸ­æ—¶é—´æ²¡æœ‰æ”¶å…¥çš„è¯è¿˜æ˜¯å¯ä»¥æŽ¥å—, è™½ç„¶ä¹Ÿå¿«ä¸€æŠŠå¹´çºªäº†, ä¸è¿‡è¿˜æ˜¯ç»§ç»­äº†ä¸‹æ¥. 2. è½¬RobinAlgoä»Žä½•è€Œæ¥çš„å‘¢? åœ¨å‰é¢æ˜¥ç¬‹çš„å¤±è´¥ä¸‹, æ„Ÿè§‰è‡ªå·±è¿˜æ˜¯éœ€è¦ä¸€ä¸ªå¯ä»¥å‘æŒ¥è‡ªå·±èƒ½åŠ›çš„å¹³å°, æœ€åŽé€‰æ‹©äº†RobinAlgoè¿™ä¸ªå¯è§†åŒ–è§†é¢‘æ•™è‚²çš„é¡¹ç›®, æ¯äººä¸å€¦(ðŸ˜)åŠ ä¸Šä¸€å †å¥‡æ·«æŠ€å·§çš„æˆ‘æœ€ç»ˆèµ°å‘äº†ä¸å½’è·¯. RobinAlgoåˆ†ä¸ºç½‘ç«™çš„å»ºè®¾å’Œå†…å®¹çš„åˆ¶ä½œ, è™½ç„¶è¿™å‡ å¹´ä¸€ç›´åšåˆ°éƒ½æ˜¯Androidå¼€å‘, ä¸è¿‡ç½‘ç«™æœ€åŽè¿˜æ˜¯é¡ºåˆ©çš„å»ºç«‹äº†èµ·æ¥. ä»Žè®¾è®¡åˆ°å‰ç«¯, ä»ŽåŽå°åˆ°éƒ¨ç½², å·¥ä½œå®¤çš„å»ºç«‹åˆ°çŽ°åœ¨çš„ä¸Šçº¿å‰å¤•, æ¯ä¸ªéƒ¨åˆ†å¯¹æˆ‘æ¥è¯´éƒ½æ˜¯ååˆ†çè´µçš„ç»éªŒ. æ•´ä½“çš„è¯æ˜¯ä½¿ç”¨React + Spring Boot å®žçŽ°çš„ç½‘ç«™, éƒ¨ç½²çš„è¯ä½¿ç”¨äº†DockeråŠ ä¸Šäº¿ç‚¹ç‚¹è‡ªåŠ¨åŒ–è„šæœ¬.(è‡ªåŠ¨åŒ–è„šæœ¬æ˜¯ç¬¬ä¸€ç”Ÿäº§åŠ›). RobinAlgoå®žé™…ä¸Šæ˜¯è¿˜æ˜¯ä¸€ä¸ªç®—æ³•çš„è§†é¢‘å­¦ä¹ å¹³å°, è¿™æ ·çš„å¹³å°çŽ°é˜¶æ®µä¸è¯´äººæ‰‹ä¸€ä¸ª, ä½†ä¹Ÿæœ‰ä¸€å®šçš„å¹³å°, æˆ‘ä¸ºä»€ä¹ˆè¿˜è¦åšä¸€ä¸ªè¿™æ ·çš„å¹³å°å‘¢? å½“åˆç«‹é¡¹çš„æ—¶å€™ä¹Ÿæƒ³åˆ°äº†å¾ˆå¤šå…¶ä»–å¹³å°çš„é—®é¢˜, ä¸€æ˜¯å¯¹äºŽæˆ‘æ¥è¯´, çŸ­æ—¶é—´å†…æˆ‘å¯èƒ½åšä¸äº†ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„ä¸œè¥¿, ä¸€ä¸ªçŸ­æ—¶é—´æˆä¸ºçˆ†æ¬¾çš„é¡¹ç›®, æ‰€ä»¥åœ¨ç«‹é¡¹çš„æ—¶å€™æˆ‘æ›´åå‘äºŽâ€å·¥å…·ç±»â€çš„é¡¹ç›®, RobinAlgoå°±æ˜¯ç¨‹åºå‘˜çš„ä¸€ä¸ªå·¥å…·, ä¸€ä¸ªç®—æ³•çš„å·¥å…·. äºŒæ˜¯è™½ç„¶æœ‰å…¶å®ƒçš„å¹³å°, å¯ä»¥é€šè¿‡å·®å¼‚åŒ–æ¥è§£å†³, å¦‚æžœåšä¸€ä¸ªå’Œå…¶å®ƒäººå®Œå…¨ä¸€æ ·çš„å¹³å°é‚£å¯¹æˆ‘æ¥è¯´ä¹Ÿå°±å’Œæ˜¥ç¬‹ä¸€æ ·äº†. æœ€åŽå†³å®šäº†é€šè¿‡åŠ å…¥å¯è§†åŒ–çš„ç®—æ³•ç†è§£åŠ¨ç”»æ¥å¢žåŠ å’Œå…¶å®ƒå¹³å°çš„å·®å¼‚åŒ–. ç®€å•æ¥ä¸ªå°±æ˜¯æŠŠå„ä¸ªç®—æ³•çš„è§£ç­”æ€è·¯åŠ¨èµ·æ¥, å¸®åŠ©å¤§å®¶ç†è§£ç®—æ³•. æ„Ÿå…´è¶£çš„è¯å¤§å®¶å¯ä»¥è®¿é—®ä¸€ä¸‹RobinAlgo, çœ‹çœ‹èƒ½å¦å¸®åŠ©åˆ°ä½ . å…¶å®žåŠ¨å›¾çš„è¯æˆ‘ä¸€èˆ¬éƒ½æ˜¯ç”¨pptåšçš„â€¦ æ˜¯çš„ç”¨pptä¸€å¸§ä¸€å¸§çš„ä¿®æ”¹çš„, ä¸æ‰“ç®—ç‚¹ä¸ªstartä¹ˆ?èµ°è¿‡è·¯è¿‡ä¸è¦é”™è¿‡ä¸æ˜¯. ç½‘ç«™çš„è¯å¤§æ¦‚ä¸€ä¸ªå¤šæœˆçš„æ—¶é—´å°±å®Œæˆäº†, è™½ç„¶åˆ°çŽ°åœ¨è¿˜æœ‰ä¸€äº›å°é—®é¢˜, ä¸è¿‡å·²ç»ä¸å¦¨ç¢æ­£å¸¸çš„ä½¿ç”¨äº†, å‰©ä¸‹çš„å°±æ˜¯è§†é¢‘çš„åˆ¶ä½œäº†. åœ¨6æœˆåˆçš„æ—¶å€™åˆ¶ä½œäº†ä¸€äº›demo, é‚€è¯·äº†ä¸€äº›æœ‹å‹æ¥è§‚çœ‹, ä¹Ÿå¾ˆæ„Ÿè§‰æœ‹å‹ä»¬æä¾›çš„æ„è§å’Œå»ºè®®. ä¸ƒæœˆå’Œå…«æœˆä¸¤ä¸ªæœˆçš„æ—¶é—´åŸºæœ¬ä¸Šå°±æ˜¯åˆ¶ä½œè§†é¢‘, å¹³å‡ä¸‹æ¥åŸºæœ¬ä¸Šä¸€å¤©è¦åˆ¶ä½œä¸¤ä¸ªè§†é¢‘, é‡ä¸Šéš¾åº¦æ¯”è¾ƒé«˜çš„é¢˜ç›®å¯èƒ½ä¸€å¤©åªèƒ½å®Œæˆä¸€ä¸ª. å½“æ—¶è¿˜ä¹°äº†ä¸€ä¸ªå°çš„ç™½æ¿æŒ‚åœ¨å¢™ä¸Š, å†™ä¸‹äº†æ¯ä¸ªæœˆçš„ç›®æ ‡å’Œå½“å‰çš„è¿›åº¦, å¯¹äºŽç‹¬ç«‹å¼€å‘æ¥è¯´, å¦‚ä½•ä¿æŒè‡ªå¾‹æˆ‘è®¤ä¸ºæ˜¯æœ€éš¾çš„äº‹æƒ…, å¥½åœ¨è§†é¢‘éƒ½å¦‚é¢„æœŸçš„å®Œæˆäº†, æ•´ä½“çš„è´¨é‡ä¹Ÿéƒ½å·®å¼ºäººæ„, åŽé¢ä¹Ÿå¾ˆé’ˆå¯¹åˆæœŸçš„è§†é¢‘ä¿®å¤æˆ–é‡æ–°å½•åˆ¶. 3. åˆæœ€å¼€çš„æ—¶å€™æ˜¯æ‰“ç®—9æœˆæ‰¾ä¸ªæ—¶é—´ä¸Šçº¿çš„, ä¸è¿‡å¾ˆå¤šçš„äº‹æƒ…è€½è¯¯äº†, åŠ ä¸Šåä¸€å‡æœŸçš„æœŸé—´å¤§å®¶éƒ½æ²¡ä»€ä¹ˆå­¦ä¹ çš„æ¬²æœ›. æœ€åŽé€‰æ‹©äº†10æœˆ10æ—¥æ­£å¼ä¸Šçº¿. è™½ç„¶çŽ°åœ¨è¿˜ç§¯æ”’äº†å¾ˆå¤šçš„éœ€æ±‚å’ŒåŠŸèƒ½éœ€è¦å®Œå–„(æœ‰ç‚¹èµ¶ä½œä¸šçš„æ„Ÿè§‰), ä½†æ˜¯RobinAlgoå¯¹æˆ‘æ¥è¯´, æ˜¯æœ€å¥½çš„é¡¹ç›®. ä¸€ä¸ªé˜¶æ®µçš„ç»“æŸ, ä¹Ÿæ˜¯å¦ä¸€ä¸ªé˜¶æ®µçš„å¼€å§‹. å¸Œæœ›RobinAlgoå¯ä»¥å¸®åŠ©åˆ°æ›´å¤šçš„äºº]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ç½‘é¡µä¸­å®žçŽ°é•¿å›¾å›ºå®šå®½é«˜æ»šåŠ¨å±•ç¤º]]></title>
      <url>%2F2020%2F04%2F12%2F%E7%BD%91%E9%A1%B5%E4%B8%AD%E5%AE%9E%E7%8E%B0%E9%95%BF%E5%9B%BE%E5%9B%BA%E5%AE%9A%E5%AE%BD%E9%AB%98%E6%BB%9A%E5%8A%A8%E5%B1%95%E7%A4%BA%2F</url>
      <content type="text"><![CDATA[ç½‘é¡µä¸­å®žçŽ°é•¿å›¾å›ºå®šå®½é«˜æ»šåŠ¨å±•ç¤º æœ€è¿‘çš„äº‹æƒ…æ¯”è¾ƒå¤š, ä¸èƒ½ä½“ç³»çš„æ•´ç†ç›¸å…³èµ„æ–™, æ‰€ä»¥å¼€å§‹å¤šåšä¸€äº›å°åŠŸèƒ½å’Œè§£å†³å°é—®é¢˜. é—®é¢˜çš„æ¥æºæ˜¯åšç½‘ç«™çš„æ—¶å€™éœ€è¦å®žçŽ°ä¸€ä¸ªæ¯”è¾ƒé•¿çš„å›¾ç‰‡, å›ºå®šå®½åº¦, é»˜è®¤æ˜¾ç¤ºå›¾ç‰‡é¡¶éƒ¨çš„å†…å®¹, å›¾ç‰‡æœ‰æœ€å¤§çš„é«˜åº¦, å½“è¶…è¿‡æœ€å¤§çš„é«˜åº¦çš„æ—¶å€™å¯ä»¥æ»šåŠ¨å±•ç¤º. é¿å…æ•´ä¸ªé¡µé¢å› ä¸ºå›¾ç‰‡æ‹‰ä¼¸çš„è¿‡é•¿. åŠŸèƒ½æ¯”è¾ƒç®€é™‹ä¹Ÿæ¯”è¾ƒç®€å•, ä¸è¿‡æˆ‘åœ¨å®žçŽ°çš„æ—¶å€™è€½è¯¯äº†ä¸çŸ­çš„æ—¶é—´. è®°å½•ä¸€ä¸‹,ç®€å•çš„é—®é¢˜æœ‰æ—¶å€™æ€è·¯å®¹æ˜“é™·å…¥èƒ¡åŒä¸­å¯¼è‡´è¿Ÿè¿Ÿä¸èƒ½è§£å†³. è¿™é‡Œè®°å½•ä¸‹, å¸Œæœ›å¯èƒ½å¸®åˆ°æœ‰éœ€è¦çš„äºº ä¸‹é¢ç›´æŽ¥çœ‹ä¸‹æ•ˆæžœå›¾ demo æ¯”è¾ƒç®€é™‹, æ•ˆæžœä¹Ÿå¾ˆç®€å•12345&lt;div style="width: 1000px; height: 400px; overflow-y: auto;"&gt; &lt;img src="http://image" style="width: 100%; overflow-y: auto;" /&gt;&lt;/div&gt;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[LikelyHttp -- å¯èƒ½æ˜¯æœ€ç®€å•çš„retorfitäºŒæ¬¡å°è£…åº“]]></title>
      <url>%2F2020%2F03%2F19%2FLikelyHttp-%E5%8F%AF%E8%83%BD%E6%98%AF%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84retorfit%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85%E5%BA%93%2F</url>
      <content type="text"><![CDATA[LikelyHttp â€“ å¯èƒ½æ˜¯æœ€ç®€å•çš„retorfitäºŒæ¬¡å°è£…åº“ retorfit + okhttpå¯èƒ½çŽ°é˜¶æ®µæœ€å¸¸è§çš„androidç½‘ç»œè¯·æ±‚åº“äº†,ç½‘ä¸Šé’ˆå¯¹retorfitå’ŒokhttpäºŒæ¬¡å°è£…çš„åº“å±‚å‡ºä¸ç©·, å…¶ä¸­æœ‰å¾ˆå¤šå¾ˆä¼˜ç§€åŠŸèƒ½ä¹Ÿå¾ˆå¼ºå¤§çš„åº“,ä½†åŠŸèƒ½å¼ºå¤§å’Œå†…å®¹ä¸°å¯Œå¾ˆæœ‰å¯èƒ½å¸¦æ¥äº†æ›´å¤šçš„è€¦åˆä»Žè€Œå¯¼è‡´è¿™äº›ç¬¬ä¸‰æ–¹çš„åº“åœ¨ä½¿ç”¨çš„æ—¶å€™ä¸å°½å¦‚äººæ„,å¾ˆå¤šçš„æ—¶å€™æˆ‘ä»¬çš„ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„åº“çš„ç›®çš„æ˜¯ä½¿å¾—æˆ‘ä»¬çš„ä½¿ç”¨æ›´åŠ çš„ç®€æ´å’Œç®€å•. äºŒæ˜¯ç½‘ç»œåº“æ˜¯ä¸€ä¸ªä½¿ç”¨é¢‘çŽ‡ååˆ†é«˜çš„åº“,ä¸ºæ­¤ä¸ºè‡ªå·±å°è£…ä¸€ä¸ªè‡ªå·±ä½¿ç”¨æ›´åŠ é¡ºæ‰‹çš„åº“,ä¸ºæ­¤æ‰æœ‰äº†ä¸ªåšäº†å‡æ³•çš„LikeluHttp. å¦‚ä½•ä½¿ç”¨123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869//å®šä¹‰OkHttpç›¸å…³, æ³¨å†Œæ‹¦æˆªå™¨ç›¸å…³çš„OkHttpClient mOkHttpClient = new OkHttpClient.Builder() .addInterceptor(LogInterceptor()) .build();//å®šä¹‰Retrofitç›¸å…³Retrofit mRetrofit = new Retrofit.Builder() .baseUrl(BasUrl) //æ·»åŠ gsonè½¬æ¢å™¨ .addConverterFactory(GsonConverterFactory.create()) //æ·»åŠ rxjavaè½¬æ¢å™¨ .addCallAdapterFactory(RxJava2CallAdapterFactory.create()) .client(mOkHttpClient) .build();//èŽ·å–æŽ¥å£å®šä¹‰æŽ¥å£BaseNetApi baseNetApi = mRetrofit.create(BaseNetApi.class);//é…ç½®LikelyHttpç›¸å…³åŠŸèƒ½ä¿¡æ¯//æš‚æ—¶æ”¯æŒé…ç½®çš„åŠŸèƒ½æ¯”è¾ƒå°‘LikelyHttp.getInstance()//å¢žåŠ è¯·æ±‚ç»Ÿä¸€å¤„ç†.setUniteDeal(new BaseObserverInterface() &#123; //è¯·æ±‚å¼€å§‹ @Override public void onRequestStart() &#123; Toast.makeText(MainActivity.this, "onRequestStart", Toast.LENGTH_SHORT).show(); &#125; //è¯·æ±‚å®Œæˆ, åŒ…å«æˆåŠŸå’Œå¤±è´¥ @Override public void onRequestEnd() &#123; Toast.makeText(MainActivity.this, "onRequestEnd", Toast.LENGTH_SHORT).show(); &#125; //è¯·æ±‚çŠ¶æ€ç å¼‚å¸¸ @Override public void onCodeError(int errorCode) &#123; Toast.makeText(MainActivity.this, "onCodeError: " + errorCode, Toast.LENGTH_SHORT).show(); &#125;&#125;)//è®¾ç½®è¯·æ±‚æˆåŠŸçŠ¶æ€(é»˜è®¤ä¸º200).setUniteDeal(200);//ä½¿ç”¨LikelyHttp.getInstance().start(baseNetApi.getHome(), new BaseObserver&lt;String&gt;()&#123; @Override protected void onSuccees(BaseEntity&lt;String&gt; t) throws Exception &#123; Toast.makeText(MainActivity.this, "onSuccees", Toast.LENGTH_SHORT).show(); //èŽ·å–å†…å®¹ t.getData() &#125; @Override protected void onFailure(Throwable e, boolean isNetWorkError) throws Exception &#123; Toast.makeText(MainActivity.this, "onFailure", Toast.LENGTH_SHORT).show(); &#125;&#125;);//ä¸ä½¿ç”¨è¯·æ±‚ç»Ÿä¸€å¤„ç†//é»˜è®¤ä¸ºä½¿ç”¨æƒ…å†µç»Ÿä¸€å¤„ç†LikelyHttp.getInstance().start(baseNetApi.getHome(), new BaseObserver&lt;String&gt;(false)&#123; ...&#125;);//è¿”å›žå›žè°ƒæ”¾å…¥éžä¸»çº¿ç¨‹ä¸­ä½¿ç”¨//é»˜è®¤å›žè°ƒæ”¾å…¥ä¸»çº¿ç¨‹LikelyHttp.getInstance().start(baseNetApi.getHome(), new BaseObserver&lt;String&gt;()&#123; ...&#125;, true); å…¶ä¸­BaseNetApiä¸ºå¹³æ—¶ä½¿ç”¨çš„æŽ¥å£ç±»,ç”¨äºŽå®šä¹‰ç½‘ç»œè¯·æ±‚ 1234public interface BaseNetApi &#123; @GET("clwater") Observable&lt;BaseEntity&lt;String&gt;&gt; getHome();&#125; ä½¿ç”¨è¯¦æƒ… ç®€å•getè¯·æ±‚ æ¨¡æ‹Ÿæœ€ç®€å•çš„get successè¯·æ±‚ ç®€å•getè¯·æ±‚(å¤±è´¥) æ¨¡æ‹Ÿæœ€ç®€å•çš„get failè¯·æ±‚ æœåŠ¡å™¨è¿”å›žçŠ¶æ€ç é”™è¯¯çš„æƒ…å†µ(ç»Ÿä¸€å¤„ç†) æ¨¡æ‹ŸæœåŠ¡å™¨è¿”å›žçŠ¶æ€ç é”™è¯¯çš„æƒ…å†µ ç®€å•çš„postè¯·æ±‚ æ¨¡æ‹Ÿç®€å•çš„postè¯·æ±‚ å¼‚æ­¥çº¿ç¨‹å›žè°ƒæ¨¡æ‹Ÿ æ¨¡æ‹Ÿå¼‚æ­¥çº¿ç¨‹å›žè°ƒæ¨¡æ‹Ÿ å¦‚ä½•å°è£… BaseEntity è¯·æ±‚é»˜è®¤è¿”å›žç»“æž„BaseEntityæš‚æ—¶ä¸æ”¯æŒè‡ªå®šä¹‰ç»“æž„,åŽç»­ä¼šå¢žåŠ æ­¤éƒ¨åˆ†çš„è‡ªå®šä¹‰æƒ…å†µ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156è¯·æ±‚é»˜è®¤è¿”å›žæ ¼å¼// &#123;// "status": 200,// "message": "success",// "data": &#123;&#125;// &#125;public class BaseEntity&lt;T&gt; &#123; public static int SUCCESS_CODE = 200; private int status; private String msg; private T data; public boolean isSuccess()&#123; return getCode() == SUCCESS_CODE; &#125; public int getCode() &#123; return status; &#125; public void setCode(int code) &#123; this.status = code; &#125; public String getMsg() &#123; return msg; &#125; public void setMsg(String msg) &#123; this.msg = msg; &#125; public T getData() &#123; return data; &#125; public void setData(T data) &#123; this.data = data; &#125;&#125;2. BaseObserverè¯·æ±‚å›žè°ƒå¤„ç†,åŒ…å«æ¯ä¸ªè¯·æ±‚çš„æˆåŠŸä¸Žå¤±è´¥ä»¥åŠç»Ÿä¸€çš„æƒ…å†µå¤„ç†public abstract class BaseObserver&lt;T&gt; implements Observer&lt;BaseEntity&lt;T&gt;&gt; &#123; /* * æ˜¯å¦ç»è¿‡ç»Ÿä¸€å¤„ç†, é»˜è®¤å‡ä½¿ç”¨ */ private boolean userUniteDeal = true; private static BaseObserverInterface baseObserverInterface; public static void setBaseObserverInterface(BaseObserverInterface baseObserverInterface) &#123; BaseObserver.baseObserverInterface = baseObserverInterface; &#125; public BaseObserver() &#123; &#125; public BaseObserver(boolean useLoading) &#123; this.userUniteDeal = useLoading; &#125; @Override public void onSubscribe(Disposable d) &#123; onRequestStart(); &#125; @Override public void onNext(BaseEntity&lt;T&gt; tBaseEntity) &#123; onRequestEnd(); if (tBaseEntity.isSuccess()) &#123; try &#123; onSuccees(tBaseEntity); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; else &#123; try &#123; onCodeError(tBaseEntity); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; &#125; @Override public void onError(Throwable e) &#123; onRequestEnd(); try &#123; if (e instanceof ConnectException || e instanceof TimeoutException || e instanceof NetworkErrorException || e instanceof UnknownHostException) &#123; onFailure(e, true); &#125; else &#123; onFailure(e, false); &#125; &#125; catch (Exception e1) &#123; e1.printStackTrace(); &#125; &#125; @Override public void onComplete() &#123; &#125; /** * @param t * @throws Exception * ç½‘ç»œè¯·æ±‚æˆåŠŸ, çŠ¶æ€ç é”™è¯¯ */ protected void onCodeError(BaseEntity&lt;T&gt; t) throws Exception &#123; baseObserverInterface.onCodeError(t.getCode()); &#125; /** * @param t * @throws Exception * è¯·æ±‚æˆåŠŸ(ç½‘ç»œåŠçŠ¶æ€ç code) */ protected abstract void onSuccees(BaseEntity&lt;T&gt; t) throws Exception; /** * @param e * @param isNetWorkError æ˜¯å¦æ˜¯ç½‘ç»œé”™è¯¯ * @throws Exception * ç½‘ç»œè¯·æ±‚å¤±è´¥ */ protected abstract void onFailure(Throwable e, boolean isNetWorkError) throws Exception; /** * ç½‘ç»œè¯·æ±‚å¼€å§‹ */ protected void onRequestStart() &#123; if (userUniteDeal) &#123; baseObserverInterface.onRequestStart(); &#125; &#125; /** * ç½‘ç»œè¯·æ±‚å®Œæˆ(åŒ…æ‹¬æˆåŠŸåŠå¤±è´¥) */ protected void onRequestEnd() &#123; if (userUniteDeal) &#123; baseObserverInterface.onRequestEnd(); &#125; &#125;&#125; ä»£ç ç›¸å…³ä»£ç å¯ä»¥è®¿é—®æˆ‘çš„GitHub]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[å¦‚ä½•ç”¨æœ€ç®€å•çš„æ–¹æ³•å‘å¸ƒAndroid libraryåˆ°jCenter(Bintray)]]></title>
      <url>%2F2020%2F03%2F19%2F%E5%A6%82%E4%BD%95%E7%94%A8%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84%E6%96%B9%E6%B3%95%E5%8F%91%E5%B8%83Android-library%E5%88%B0jCenter-Bintray%2F</url>
      <content type="text"><![CDATA[å¦‚ä½•ç”¨æœ€ç®€å•çš„æ–¹æ³•å‘å¸ƒAndroid libraryåˆ°jCenter(Bintray) æœ€åˆçš„æƒ³æ³•æ˜¯åšä¸€ä¸ªå¾ˆç®€å•åŸºç¡€çš„ç½‘ç»œè¯·æ±‚çš„å°è£…ä½œä¸ºä¸€ä¸ªè‡ªå·±å¸¸ç”¨çš„ç½‘ç»œåº“(è¿™æ˜¯å¦ä¸€ä¸ªæ•…äº‹äº†), åœ¨è¿™ä¸ªæ•…äº‹é‡Œ, é‡åˆ°äº†å¾ˆå¤šâ€¦ æ„æƒ³ä¸åˆ°çš„é—®é¢˜,åœ¨æ­¤ç•™ä½œè®°å½•,å¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°å¤§å®¶. ä¸æƒ³çœ‹å¤ªå¤šåªæƒ³ç®€å•æ“ä½œå°±å®Œäº‹éƒ¨åˆ†Bintray æ³¨å†Œ(è™½ç„¶å•°å—¦, ä½†æ˜¯è¿™ä¸ªä¸æçš„è¯å¾ˆå®¹æ˜“é‡åˆ°é—®é¢˜çš„)Bintrayæ³¨å†Œåœ°å€: https://bintray.com/signup/oss æ³¨æ„è¿™é‡Œçš„åœ°å€æ˜¯æœ‰å¸¦æœ‰ossçš„,æ˜¯æ³¨å†Œçš„ä¸ªäººè´¦æˆ· ä»¥ä¸‹æ˜¯ä¸ªäººæ³¨å†Œçš„é¡µé¢ ä»¥ä¸‹æ˜¯ç»„ç»‡æ³¨å†Œçš„é¡µé¢,å¯ä»¥çœ‹åˆ°éœ€è¦ä½ å¡«å†™é¢å¤–çš„å†…å®¹ é€šè¿‡githubæŽˆæƒç™»å½•å°±å¯ä»¥äº†,å¡«å†™ç›¸å…³çš„ä¿¡æ¯å°±å¯ä»¥äº† åœ¨ä¸Šä¼ ä¹‹å‰, æˆ‘ä»¬è¦å…ˆå»ºç«‹ä¸€ä¸ªRepository Typeè®°å¾—è¦é€‰æ‹©Maven åˆ›å»ºæˆåŠŸåŽé¡µé¢æ˜¾ç¤ºå¦‚ä¸‹ æœ¬åœ°Library Moduleä¿®æ”¹æœ¬åœ°éœ€è¦ä¿®æ”¹ä¸‹é¢ä¸‰ä¸ªæ–‡ä»¶ é¡¹ç›®çš„gradleæ–‡ä»¶ åŠ å…¥ä¸‹é¢å†…å®¹ 12classpath 'com.jfrog.bintray.gradle:gradle-bintray-plugin:1.8.4'classpath 'com.github.dcendents:android-maven-gradle-plugin:2.1' libraryå†…çš„gradleä¿®æ”¹ å°†ä¸‹é¢çš„å†…å®¹è¿½åŠ åˆ°æ–‡ä»¶å†… 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120// ä»¥ä¸‹å†…å®¹æ˜¯å°†Libraryä¸Šä¼ åˆ°Bintrayçš„ç›¸å…³é…ç½®apply plugin: 'com.github.dcendents.android-maven'apply plugin: 'com.jfrog.bintray'//ä»¥ä¸‹æ˜¯éœ€è¦é’ˆå¯¹é¡¹ç›®éœ€è¦ä¿®æ”¹çš„é…ç½®å†…å®¹//å‘å¸ƒè€…çš„ç»„ç»‡åç§°group = "com.clwater"// ç‰ˆæœ¬å·ï¼Œä¸‹æ¬¡æ›´æ–°æ˜¯åªéœ€è¦æ›´æ”¹ç‰ˆæœ¬å·å³å¯version = "0.0.1"//ä¸Šé¢é…ç½®åŽä¸Šä¼ è‡³bintrayåŽçš„ç¼–è¯‘è·¯å¾„æ˜¯è¿™æ ·çš„ï¼š compile 'com.clwater:bintraylibrary:0.0.1'Properties properties = new Properties()properties.load(project.rootProject.file('local.properties').newDataInputStream())//è¯»å– local.properties æ–‡ä»¶é‡Œé¢çš„ bintray.userdef bintrayUser = properties.getProperty("bintray.user")//è¯»å– local.properties æ–‡ä»¶é‡Œé¢çš„ bintray.apikeydef bintrayKey = properties.getProperty("bintray.apikey")//é¡¹ç›®ä¸»é¡µdef siteUrl = 'https://github.com/clwater/BintrayLibrary'//é¡¹ç›®çš„ç‰ˆæœ¬æŽ§åˆ¶åœ°å€def gitUrl = 'https://github.com/clwater/BintrayLibrary.git'//å‘å¸ƒåˆ°JCenterä¸Šçš„é¡¹ç›®åå­—ï¼Œå¿…é¡»å¡«å†™def libName = "testlibrary"//æ–‡æ¡£è¿žæŽ¥def javaDocLinks = "https://github.com/clwater"//Bintrayä¸­Repositoryçš„åå­—def bintrayRepo = "ClwaterRepository"//åº”ç”¨çš„æè¿°def bintrayDesc = "Desc"//ç»„ç»‡çš„åå­—, å»ºç«‹ç»„ç»‡è´¦å·åŽä¸Šä¼ çš„æ—¶å€™éœ€è¦è¿™ä¸ª, ä¸ªäººå¼ æµ·æ—¶å€™ä¸éœ€è¦ä¿®æ”¹è¿™éƒ¨åˆ†def bintrayUserOrg = "ClwaterRepository"//ç”Ÿæˆæºæ–‡ä»¶task sourcesJar(type: Jar) &#123; from android.sourceSets.main.java.srcDirs classifier = 'sources'&#125;//ç”Ÿæˆæ–‡æ¡£task javadoc(type: Javadoc) &#123; source = android.sourceSets.main.java.srcDirs classpath += project.files(android.getBootClasspath().join(File.pathSeparator)) //ä»¥ä¸‹ä¸¤ä¸ªä¸ºé¡¹ç›®ä¸­å¸¦æœ‰ä¸­æ–‡æ³¨é‡Šçš„æ”¯æŒ options.encoding "UTF-8" options.charSet 'UTF-8' options.author true options.version true options.links javaDocLinks failOnError false&#125;//æ–‡æ¡£æ‰“åŒ…æˆjartask javadocJar(type: Jar, dependsOn: javadoc) &#123; classifier = 'javadoc' from javadoc.destinationDir&#125;//æ‹·è´javadocæ–‡ä»¶task copyDoc(type: Copy) &#123; from "$&#123;buildDir&#125;/docs/" into "docs"&#125;//ä¸Šä¼ åˆ°jcenteræ‰€éœ€è¦çš„æºç æ–‡ä»¶artifacts &#123; archives javadocJar archives sourcesJar&#125;// é…ç½®mavenåº“ï¼Œç”ŸæˆPOM.xmlæ–‡ä»¶install &#123; repositories.mavenInstaller &#123; // This generates POM.xml with proper parameters pom &#123; project &#123; packaging 'aar' //é¡¹ç›®åç§°å’Œæè¿° name 'pom project name' description 'pom project escription' url siteUrl licenses &#123; license &#123; //å¼€æºåè®®,åœ¨bintrayä¸­åˆ›å»ºä»“åº“æ—¶é€‰æ‹©çš„licenseä¸ºApache-2.0ï¼Œå¤åˆ¶ä¸‹é¢çš„å°±å¯ä»¥ name 'The Apache Software License, Version 2.0' url 'http://www.apache.org/licenses/LICENSE-2.0.txt' &#125; &#125; developers &#123; //å¼€å‘è€…çš„ä¸ªäººä¿¡æ¯ developer &#123; id 'developer id ' name 'developer name ' email 'developer email' &#125; &#125; scm &#123; connection gitUrl developerConnection gitUrl url siteUrl &#125; &#125; &#125; &#125;&#125;//ä¸Šä¼ åˆ°jcenterbintray &#123; user = bintrayUser key = bintrayKey configurations = ['archives'] pkg &#123;// userOrg = bintrayUserOrg repo = bintrayRepo name = libName desc = bintrayDesc websiteUrl = siteUrl vcsUrl = gitUrl licenses = ["Apache-2.0"] publish = true &#125;&#125; local.propertiesä¿®æ”¹ åœ¨è¿™é‡Œéœ€è¦é…ç½®ä¸‹Bintrayå†…çš„ä¿¡æ¯ å¯ä»¥é€šè¿‡å¦‚ä¸‹æ­¥éª¤æ¥èŽ·å–ä½ çš„api ä¸Šä¼ åˆ°Bintrayè¿›å…¥é¡¹ç›®åˆ†åˆ«æ‰§è¡Œä»¥ä¸‹æ‰§è¡Œ 12./gradlew install./gradlew bintrayUpload æˆåŠŸæ‰§è¡ŒåŽå¯ä»¥åœ¨ä½ çš„Bintrayä¸­çœ‹åˆ°ä½ åˆšåˆšä¸Šä¼ çš„Library æäº¤åˆ°jCenterå¯ä»¥åœ¨é¡µé¢è¯¦æƒ…æäº¤åˆ°jCenter,ä¸è¿‡éœ€è¦å®¡æ ¸æ‰èƒ½åœ¨é»˜è®¤çš„æƒ…å†µä¸‹å¼•å…¥ä½ çš„åº“ é‚£ä¹ˆå¦‚æžœä¸æäº¤åˆ°jCenterä¸­å°±æ— æ³•ä½¿ç”¨äº†ä¹ˆ, å½“ç„¶ä¸ä¼šçš„,åœ¨è¯¦æƒ…é¡µé¢è¿˜æœ‰ä½ è‡ªå·±çš„ä»“åº“mavenåœ°å€å’Œä¾èµ–å¼•å…¥åœ°å€,ä½ å¯ä»¥æŠŠè¿™äº›å†…å®¹é…ç½®åˆ°ä½ çš„é¡¹ç›®ä¸­,å°±å¯ä»¥ä½¿ç”¨äº† é…ç½®å®ŒæˆåŽå°±å¯ä»¥ç›´æŽ¥å¼•ç”¨äº† ä¸€é¡¿æ“ä½œçŒ›å¦‚è™Ž, é—®é¢˜æ€»æ¯”åŠžæ³•å¤šéƒ¨åˆ†(å¸¸è§é—®é¢˜) Could not create package â€˜xxx/xxx/xxxâ€™: HTTP/1.1 404 Not Found [message:Repo â€˜xxxâ€™ was not found] è§£å†³: éœ€è¦å…ˆåœ¨Bintrayå»ºç«‹åä¸ºxxxçš„Repository Could not create version â€˜0.1â€™: HTTP/1.1 401 Unauthorized [message:This resource requires authentication] è§£å†³: ä¸€æ˜¯local.propertieså†…çš„åå­—å’Œapiæœ‰é—®é¢˜ äºŒæ˜¯ä½ æ³¨å†Œäº†ç»„ç»‡è´¦å·,éœ€è¦é¢å¤–é…ç½®userOrg(å€¼ä¸ºä½ æ³¨å†Œæ—¶å¡«å†™çš„ç»„ç»‡åç§°,æˆ–è€…åˆ°Bintrayä¸­æŸ¥çœ‹ä¹Ÿå¯ä»¥æ‰¾åˆ°) æ²¡æœ‰dd to JCenteræŒ‰é’® æ³¨å†Œäº†ç»„ç»‡è´¦å·, éœ€è¦ä¸ªäººè´¦å·æ¥ ç›¸å…³ä»£ç ç›¸å…³ä»£ç å¯ä»¥åœ¨æˆ‘çš„GitHubæ‰¾åˆ°.]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[shel(ä¸€)--åŸºç¡€]]></title>
      <url>%2F2020%2F03%2F19%2Fshell(%E4%B8%80)%E5%9F%BA%E7%A1%80%2F</url>
      <content type="text"><![CDATA[shell(ä¸€) â€“ åŸºç¡€ä»€ä¹ˆæ˜¯shellå…ˆçœ‹ä¸‹å®˜æ–¹çš„å®šä¹‰ Unix shellï¼šä¸€ç§å£³å±‚ä¸Žå‘½ä»¤è¡Œç•Œé¢ï¼Œæ˜¯Unixæ“ä½œç³»ç»Ÿä¸‹ä¼ ç»Ÿçš„ç”¨æˆ·å’Œè®¡ç®—æœºçš„äº¤äº’ç•Œé¢ã€‚æ™®é€šæ„ä¹‰ä¸Šçš„shellå°±æ˜¯å¯ä»¥æŽ¥å—ç”¨æˆ·è¾“å…¥å‘½ä»¤çš„ç¨‹åºã€‚å®ƒä¹‹æ‰€ä»¥è¢«ç§°ä½œshellæ˜¯å› ä¸ºå®ƒéšè—äº†æ“ä½œç³»ç»Ÿä½Žå±‚çš„ç»†èŠ‚ã€‚Unixæ“ä½œç³»ç»Ÿä¸‹çš„shellæ—¢æ˜¯ç”¨æˆ·äº¤äº’çš„ç•Œé¢ï¼Œä¹Ÿæ˜¯æŽ§åˆ¶ç³»ç»Ÿçš„è„šæœ¬è¯­è¨€ã€‚ ç¿»è¯‘è¿‡æ¥å°±æ˜¯è¯´,Shell æ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åº,å®ƒè¿žæŽ¥äº†ç”¨æˆ·å’Œ Linux å†…æ ¸ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿæ›´åŠ é«˜æ•ˆã€å®‰å…¨ã€ä½Žæˆæœ¬åœ°ä½¿ç”¨ Linux å†…æ ¸. shellå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªç‰¹æ®Šçš„åº”ç”¨ç¨‹åº shellæœ¬èº«æ˜¯ç”±cè¯­è¨€ç¼–å†™è€Œæˆçš„,shellå®žé™…ä¸Šæ˜¯ä¸€ç›´è§£é‡Šæ€§è¯­è¨€ shellå’Œbashçš„åŒºåˆ«è¿™ä¸¤ä¸ªæ˜¯åŒ…å«çš„å…³ç³»,bashæ˜¯shellçš„ä¸€ç§,å…¶ä¸­linuxé»˜è®¤çš„shellå°±æ˜¯bash. bashå¯ä»¥è¯´æ˜¯shellçš„è„šæœ¬è§£é‡Šå™¨ ç¬¬ä¸€ä¸ªshellè„šæœ¬123456789#!/usr/bin/env bash#åƒå‰é¢æ‰€è¯´çš„,bashæ˜¯shellçš„è„šæœ¬è§£é‡Šå™¨. #è¿™ç§å†™æ³•å¯ä»¥æœ€å¤§ç¨‹åº¦çš„é¿å…å¤¸å¹³å°ä¸‹è„šæœ¬æ— æ³•è¿è¡Œçš„é—®é¢˜#åŽé¢ç›¸å…³æ–‡ä»¶å‡ä½¿ç”¨æ­¤é»˜è®¤é…ç½®echo "Hello World"# echoæ˜¯shellä¸­çš„è¾“å‡ºæ–¹æ³• è‡³æ­¤ ä¸€ä¸ªæœ€ç®€å•çš„shellè„šæœ¬å°±å®Œæˆäº†,æˆ‘ä¹ˆå¯ä»¥åœ¨ç»ˆç«¯ä¸­è¿è¡ŒæŸ¥çœ‹æ•ˆæžœ (åœ¨åˆæ¬¡è¿è¡Œä¸­å¯èƒ½å‡ºçŽ°permission deniedçš„æƒ…å†µ, å¯¹åº”çš„å¢žåŠ æƒé™å³å¯) å˜é‡1234567name='clwater'echo $nameecho "$name"echo "$&#123;name&#125;!"echo '$name' éœ€è¦æ³¨æ„çš„çš„æ˜¯åœ¨å¯¹å˜é‡èµ‹å€¼çš„æ—¶å€™,â€™=â€™å‰åŽéƒ½ä¸å¯ä»¥æœ‰ç©ºæ ¼,ä¸ç„¶æ˜¯æ— æ•ˆçš„ ä¸‹é¢å±•ç¤ºäº†ä¸‰ç§å¸¸è§çš„å˜é‡ä½¿ç”¨çš„æƒ…å†µ, å˜é‡åœ¨ä½¿ç”¨çš„æ—¶å€™éƒ½éœ€è¦åœ¨å‰é¢åŠ å…¥â€™$â€™ç¬¦å·æ¥è°ƒç”¨å˜é‡. echo $nameæœ€åŸºç¡€çš„å˜é‡ä½¿ç”¨ â€œ\$nameâ€ å’Œ â€œ\${name}!â€é’ˆå¯¹åœ¨ä½¿ç”¨æ—¶éœ€è¦æ‹¼æŽ¥çš„æƒ…å†µ,å¯ä»¥é€šè¿‡â€™{}â€™ç¬¦å·æ¥å®šä½å˜é‡åçš„èŒƒå›´ â€œ\$nameâ€ å’Œ â€˜\$nameâ€™åœ¨â€â€å†…çš„\$å˜é‡çš„æ ¼å¼æ˜¯å¯ä»¥æ­£å¸¸ä½¿ç”¨çš„,ä¸è¿‡åœ¨â€™â€™ä¸­çš„å†…å®¹ä¼šä¿æŒå…¶åŽŸæœ‰çš„å†…å®¹è¾“å‡º å‡½æ•°ç®€ä»‹1234567891011get_name() &#123; echo "clwater"&#125;get_nameecho "You are $(get_name)"echo "You are `get_name`"result=$(get_name)echo "result: $result" è¾“å‡ºç»“æžœ: æˆ‘ä»¬å¯ä»¥é€šè¿‡123functionName() &#123; ...&#125; è¿™æ ·çš„å½¢å¼æ¥å®šä¹‰ä¸€ä¸ªå‡½æ•°(å¦‚ä½•ç©¿å‚å‚è€ƒåŽé¢å‡½æ•°éƒ¨åˆ†),è°ƒç”¨çš„æ—¶å€™ä¹Ÿæ˜¯å¦çš„ç®€æ´,ç›´æŽ¥è°ƒç”¨ç›¸å…³çš„å‡½æ•°åå³å¯,é™¤æ­¤ä¹‹å¤–å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•èŽ·å–æ­¤å‡½æ•°çš„è¿”å›žå€¼ 12$(functionName)`functionName` æ•…æ­¤æˆ‘ä»¬å¯ä»¥æŠŠè¿”å›žå€¼å­˜èµ·æ¥ä»¥ä¾¿åŽé¢çš„ä½¿ç”¨ shellçš„å‡½æ•°åªèƒ½è¿”å›žä¸€ä¸ªstringç±»åž‹çš„å­—ç¬¦ä¸²,shellä¸­æ²¡æœ‰æˆ‘ä»¬å¹³å¸¸ä½¿ç”¨çš„returnå…³é”®å­—,ä½¿ç”¨çš„æ˜¯echoè¾“å‡ºçš„å†…å®¹ä½œä¸ºå…¶å‡½æ•°çš„è¿”å›žå€¼,å…·ä½“ç›¸å…³çš„åœ¨åŽé¢çš„å‡½æ•°ä¸­è¯¦ç»†çš„ä»‹ç» çŠ¶æ€ç åœ¨shellä¸­,æˆ‘ä»¬å¸¸å¸¸éœ€è¦çŸ¥é“ä¸Šä¸€æ¬¡çš„å‘½ä»¤æ‰§è¡Œæ˜¯å¦æˆåŠŸæ¥å†³å®šä¸‹ä¸€æ­¥æ€Žæ ·æ‰§è¡Œ 1234result=$(cd ~/ 2&gt;&amp;1)echo "cd ~/ status $?" --&gt; 0result=$(cd ~/errorPath 2&gt;&amp;1)echo "cd ~/errorPath status $?" --&gt; 1 2&gt;&amp;1çš„ä½œç”¨æ˜¯ä¸€ç›´é‡å®šå‘çš„åŠŸèƒ½,å¯ä»¥æŠŠé”™è¯¯è¾“å‡ºå®šå‘ä¸ºæ ‡å‡†è¾“å‡º(è¿™é‡Œçš„ä½œç”¨æ˜¯ æŠŠcdæ“ä½œé”™è¯¯çš„æƒ…å†µå®šä½ä¸ºè¿”å›žå€¼çš„è¾“å‡º) $?çš„ä½œç”¨æ˜¯èŽ·å–ä¸Šä¸€ä¸ªå‘½ä»¤çš„çŠ¶æ€ç ,å½“çŠ¶æ€ç ä¸º0çš„æ—¶å€™,è¯´æ˜Žä¸Šæ¬¡çš„æŒ‡ä»¤æ˜¯æˆåŠŸæ‰§è¡Œçš„,éž0çš„æƒ…å†µè¯´æ˜Žä¸Šæ¬¡çš„æŒ‡ä»¤æ²¡æœ‰æˆåŠŸæ‰§è¡Œ æ¡ä»¶æ‰§è¡Œ &amp;&amp;å’Œ||12cd ~ &amp;&amp; pwdcd ~/errorPath || echo "cd error" &amp;&amp;æ˜¯åœ¨å‰ä¸€ä¸ªå‘½ä»¤æ‰§è¡ŒæˆåŠŸ(çŠ¶æ€ç ä¸º0)çš„æƒ…å†µä¸‹æ‰§è¡ŒåŽé¢çš„å‘½ä»¤ ||æ˜¯åœ¨å‰ä¸€ä¸ªå‘½ä»¤æ‰§è¡Œå¤±è´¥çš„(çŠ¶æ€ç éž0)çš„æƒ…å†µä¸‹æ‰§è¡ŒåŽé¢çš„å‘½ä»¤ (è¿™é‡Œæ²¡æœ‰ä½¿ç”¨2&gt;&amp;1ä¹‹ç±»çš„é‡å®šå‘,æ‰€ä»¥æŠ¥é”™ä¿¡æ¯ä¼šè¢«è¾“å‡ºåˆ°æŽ§åˆ¶å°) æ¡ä»¶æŽ§åˆ¶123456name="clwater"if [[ name == "clwater" ]]; then echo "Hi, $clwater"else echo "Hi, new friends"fi å¯ä»¥é€šè¿‡123if [[ åˆ¤æ–­æ¡ä»¶ ]]; then ...fi çš„å½¢å¼æ¥å®žçŽ°ä¸€ä¸ªifåˆ¤æ–­(è¯¦æƒ…å¯ä»¥å‚è€ƒä¸‹åŽé¢çš„æ¡ä»¶æŽ§åˆ¶ç›¸å…³å†…å®¹) èŠ±æ‹¬å·å±•å¼€1234567echo &#123;1..5&#125;echo &#123;A,B&#125;echo &#123;1,3&#125;&#123;A..C&#125;echo &#123;&#123;1..3&#125;,&#123;A,C&#125;&#125;name='clwater'echo &#123;a,b&#125;$name åœ¨{}ä¸­è®¾ç½®å…¶å±•å¼€çš„å†…å®¹,å…¶ä¸­â€™,â€™ä¸ºé€‰æ‹©,â€™..â€™ä¸ºèŒƒå›´,èŠ±æ‹¬å·å±•å¼€åœ¨æ•´ä¸ªshellä¸­å…·æœ‰æœ€é«˜çš„ä¼˜å…ˆçº§ ä¸¥æ ¼æ¨¡å¼123456set -euo pipefailIFS=$'\n\t'error1error2error3 æˆ‘ä»¬å¯ä»¥çœ‹åˆ°,åœ¨ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼çš„æƒ…å†µä¸‹,å¦‚æžœå‘½ä»¤å‡ºçŽ°ä»»æ„é”™è¯¯,éƒ½ä¼šæŠ¥é”™å¹¶åœæ­¢æ‰§è¡Œ,è€Œä¸ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼çš„æƒ…å†µä¸‹,å³ä½¿å‘½ä»¤å‡ºçŽ°é”™è¯¯äº† ä¹Ÿç»§ç»­æ‰§è¡Œä¸‹åŽ» ç›¸å…³ä»£ç ç›¸å…³ä»£ç å¯ä»¥è®¿é—®è¿™é‡Œ]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[RpgMakerå…¥é—¨æ•™ç¨‹2]]></title>
      <url>%2F2020%2F03%2F13%2FRpgMaker%E6%95%99%E7%A8%8B2%2F</url>
      <content type="text"><![CDATA[ä¸Šä¸€å›žçš„ç¿»è¯‘è¿‡åŽå‘çŽ°å¥½å¤šè¿·ä¹‹ç¿»è¯‘ è¿™é‡Œå¼€å§‹å†³å®šä¸å†å®Œå…¨ä¾é åŽŸæ–‡ éƒ¨åˆ†æ–‡æœ¬æœ‰æ‰€åˆ å‡å¹¶å¢žåŠ å¤§é‡ä¸ªäººç»éªŒ ç¬¬äºŒå›ž æ¸¸æˆçš„è“å›¾è¿™é‡Œç¬¬äºŒå›žçš„åˆå­¦è€…æ•™ç¨‹ åœ¨ç¬¬ä¸€å›žä¸­æˆ‘ä»¬è®¾è®¡äº†æ•´ä½“çš„æµç¨‹å›¾ è¿™ä¸€å›žä¸­æˆ‘ä»¬å°†ç»§ç»­åšæ¸¸æˆçš„å¼€å‘å·¥ä½œ è¯•ç”¨ç‰ˆæœ¬å¯èƒ½ä¸åŒ…å«éƒ¨åˆ†å›¾ç‰‡èµ„æº Step2 åˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®çŽ°åœ¨,æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®,è®©æˆ‘ä»¬å¯åŠ¨ç¨‹åº,åœ¨èœå• æ–‡ä»¶-æ–°å»ºé¡¹ç›®ä¸­ æ–‡ä»¶åæ¸¸æˆåä»€ä¹ˆçš„ åº”è¯¥ä¸éœ€è¦è§£é‡Šäº† Step3 åˆ¶ä½œåœ°å›¾å‰çš„å‡†å¤‡è®©æˆ‘ä»¬ç»˜åˆ¶ä¸€ä¸ªé‡Žå¤–çš„åœ°å›¾æ¥åšä½œä¸ºå†’é™©çš„èˆžå°,æœ€åˆçš„ä¸–ç•Œåœ°å›¾çš„å®½å’Œé«˜éƒ½æ˜¯100(Vxç‰ˆæœ¬),å› ä¸ºä»–éœ€è¦å±•ç¤ºå¾ˆå¤šçš„ä¿¡æ¯,åˆæ¬¡ä¹‹å¤–æˆ‘ä»¬è¿˜ä¼šåˆ¶ä½œå¾ˆå¤š30*30çš„è¯¦ç»†åœ°å›¾ åœ¨MAO001çš„å¯¹è±¡ä¸­å³é”®é€‰æ‹©åœ°å›¾è®¾ç½®,è®¾å®šåœ°å›¾çš„å‚æ•° é™¤äº†æœ‰åœ°å›¾çš„å¤§å°è¿˜å¯ä»¥è®¾ç½®BGMå’Œé‡æ•Œè¯¦æƒ… æ”¹å˜åœ°å›¾çš„å¤§å°å°†åœ°å›¾çš„å®½å’Œé«˜é€šè¿‡åœ°å›¾å±žæ€§çš„å®½åº¦å’Œé«˜åº¦è®¾ç½®ä¸º30 æ›´æ”¹é€‰æ‹©çš„BGMé€šè¿‡æ”¹å˜BGMçš„è®¾å®šæ¥å˜æ›´å½“å‰åœ°å›¾çš„BGNéŸ³æ•ˆ,é€‰æ‹©è‡ªåŠ¨åˆ‡æ¢BGM,ç‚¹å‡»ä¸‹æ–¹çš„ â€¦ æŒ‰é’®æ˜¾æ¥é€‰æ‹©éŸ³æ•ˆåœ¨è¿™é‡Œé€‰æ‹©Filed1çš„BGMéŸ³æ•ˆ, åœ¨åŽé¢çš„ç« èŠ‚ä¸­æˆ‘ä¼šä»‹ç»å‡ºçŽ°æ•Œäººçš„é€‰é¡¹ Step4 ç»˜åˆ¶åœ°å›¾å¦‚æžœä½ å‡†å¤‡å¥½äº† é‚£ä¹ˆè®©æˆ‘å¼€å§‹ç»˜åˆ¶åœ°å›¾ é€‰æ‹©åœ°å›¾ç¼–è¾‘æ¨¡å¼ é€‰æ‹©è‰åŽŸæ¥å¡«å……åœ°å›¾ è‰åŽŸå¡«å……çš„å²›å±¿ åœ¨Mvçš„ç‰ˆæœ¬ä¸­æœ€åˆåº”è¯¥æ˜¯æœ‰ä¸ªå·²ç»å¡«å……å¥½çš„å²›å±¿ å…¶ä½™çš„éƒ¨åˆ†éƒ½æ²¡æœ‰ä»»ä½•ç´ æ å¯ä»¥å…ˆé€šè¿‡å°†æ‰€æœ‰å…ƒç´ éƒ½ç”¨æ°´æ¥å¡«å……å†ä½¿ç”¨è‰åŽŸæ¥å»ºé€ å²›å±¿ æœ€å¼€å§‹è®¾è®¡çš„æ—¶å€™å¯èƒ½ä¸éœ€è¦è€ƒè™‘ååˆ†è¯¦ç»†çš„ç»†èŠ‚,ä¸‹é¢è®©æˆ‘ä»¬å®Œæˆä¸–ç•Œåœ°å›¾çš„å›¾åƒ å®˜æ–¹æ–‡æ¡£çš„åœ°å›¾è®¾è®¡ å› ä¸ºç´ æåŽŸå› ç­‰ å¯èƒ½ä¸æ˜¯å®Œå…¨çš„ç¬¦åˆ ç”¨å¿ƒä½“ä¼šå°±å¥½ å…³äºŽä¸Šé¢é‚£å‡ ä¸ªæŒ‰é’®çš„ä½œç”¨ æ²¡ä¹°ä¸­æ–‡ç‰ˆæœ¬çš„ç®€å•æŽ¥ä»‹ç»ä¸€ä¸‹ (å…¶å®žå°±æ˜¯å®˜æ–¹çš„æç¤º) å·¦èµ·ç¬¬ä¸€ä¸ªæ˜¯ç”»ç¬” æ‰‹ç»˜ç”»å— å°±æ˜¯ä¸€æ¬¡ç»˜åˆ¶ä¸€ä¸ªæ‰€é€‰çš„ç´ æ ç¬¬äºŒä¸ªæ˜¯é•¿æ–¹å½¢(?è¿™ä¹ˆéšæ„çš„åå­—ä¹ˆ) ç»˜åˆ¶ä¸€ä¸ªé•¿æ–¹å½¢çš„æ‰€é€‰ç´ æå— ç¬¬ä¸‰ä¸ªæ˜¯æ¤­åœ† ç”»ä¸ªæ¤­åœ†çš„ç´ æå¿« ç¬¬å››ä¸ªæ³›æ»¥å¡«å…… å°†ç´ æåœ¨é€‰ä¸­çš„é—­åˆåŒºåŸŸä¸‹å¡«æ»¡æ‰€æœ‰ æœ€åŽä¸€ä¸ªæ˜¯é˜´å½±ç¬” ç”¨äºŽç»˜åˆ¶é˜´å½±æ•ˆæžœ åˆ°äº†è¿™ä¸ªæ—¶å€™ æˆ‘ä»¬å¯ä»¥çœ‹ä¸€çœ‹ä¹‹å‰åšçš„æµç¨‹å›¾,å› ä¸ºå¤§é™†æ˜¯è¢«åˆ†æˆäº†ä¸€ä¸ªå²›å±¿,æ‰€ä»¥æˆ‘ä»¬è¦ç”¨åˆ°èˆ¹æˆ–é£žè‰‡.åœ¨è¿™ä¸ªåŸºç¡€ä¸Šæˆ‘ä»¬æ ¹ç»ä¸åŒå²›å±¿çš„å®šä½å¯¹å²›å±¿çš„ç»†èŠ‚è¿›è¡Œä¸‹å¤„ç† å…¶å®žè¿™é‡Œå¤§æ¦‚çš„åœ°å›¾åˆ†å¸ƒåšåˆ°äº†å°±å¥½ ä¸éœ€è¦å®Œå…¨ä¸€è‡´ Step5 ç¡®å®šåˆå§‹åœ°ç‚¹çŽ°åœ¨æˆ‘ä»¬å°†ä¸–ç•Œåœ°å›¾ç»˜åˆ¶å®Œæˆäº† åœ¨è¿è¡Œæµ‹è¯•ä¸€ä¸‹æ¸¸æˆä¹‹å‰ æˆ‘ä»¬è¦ç¡®å®šåˆå§‹å‡ºçŽ°çš„ä½ç½® åœ¨å·¥å…·æ ä¸­é€‰æ‹©äº‹ä»¶æ¨¡å¼ åœ¨è¯¥ä½ç½®å³é”®é€‰æ‹© è®¾ç½®åˆå§‹ä½ç½® çŽ©å®¶ å¯ä»¥çœ‹åˆ°äººç‰©çš„åˆå§‹ä½ç½®è¢«è®¾ç½®åˆ°è¿™é‡Œäº† æˆ‘ä»¬å¯ä»¥è¿è¡Œä¸€ä¸‹æ¸¸æˆ åœ¨ä¸–ç•Œä¸­èµ°èµ° è¿™é‡Œè¿˜æ²¡æ¶‰åŠåˆ°åŸŽå ¡å’ŒåŸŽé•‡çš„äº¤äº’ åœ¨åŽé¢æˆ‘ä»¬å°†åšè¿™äº›å¤„ç†]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Leetcode70-ClimbingStairs(çˆ¬æ¥¼æ¢¯)]]></title>
      <url>%2F2019%2F02%2F20%2FLeetCode70-ClimbingStairs%2F</url>
      <content type="text"><![CDATA[Leetcode70-ClimbingStairs(çˆ¬æ¥¼æ¢¯)LeetCode:https://leetcode-cn.com/climbing-stairs/ LeetCodeCn:https://leetcode-cn.com/climbing-stairs/ é¢˜ç›®æè¿°å‡è®¾ä½ æ­£åœ¨çˆ¬æ¥¼æ¢¯ã€‚éœ€è¦ n é˜¶ä½ æ‰èƒ½åˆ°è¾¾æ¥¼é¡¶ã€‚æ¯æ¬¡ä½ å¯ä»¥çˆ¬ 1 æˆ– 2 ä¸ªå°é˜¶ã€‚ä½ æœ‰å¤šå°‘ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶å‘¢ï¼Ÿæ³¨æ„ï¼šç»™å®š n æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚ ç¤ºä¾‹ ç¤ºä¾‹ 1ï¼š è¾“å…¥ï¼š 2 è¾“å‡ºï¼š 2 è§£é‡Šï¼š æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚ 1 é˜¶ + 1 é˜¶ 2 é˜¶ ç¤ºä¾‹ 2ï¼š è¾“å…¥ï¼š 3 è¾“å‡ºï¼š 3 è§£é‡Šï¼š æœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚ 1 é˜¶ + 1 é˜¶ + 1 é˜¶ 1 é˜¶ + 2 é˜¶ 2 é˜¶ + 1 é˜¶ è§£é¢˜æ€è·¯-è¿­ä»£æ³•ä¸€é“å¾ˆç»å…¸çš„é¢˜,è¿™ä¸ªé¢˜å¯ä»¥è½¬åŒ–ä¸ºæ±‚æ–æ³¢é‚£å¥‘æ•°åˆ—æ•°åˆ—ç¬¬né¡¹çš„é—®é¢˜.å¯ä»¥æ‰ç”¨é€’å½’çš„æ–¹æ³•,ä¸è¿‡åœ¨é€’å½’çš„è¿‡ç¨‹ä¸­æœ‰å¤§é‡çš„é‡å¤è®¡ç®—å¯¼è‡´å…¶æ€§èƒ½ä¸€èˆ¬(å¯ä»¥é€šè¿‡è®¾ç½®è®¡ç®—ç¼“å­˜æ¥é¿å…). åˆæ¬¡ä¹‹å¤–,è¿˜å¯ä»¥ç”¨è¿­ä»£çš„æ–¹æ³•æ¥é™ä½Žæ¶ˆè€—çš„èµ„æº. åŽŸç†å¾ˆç®€å•,åº”ä¸ºæ–æ³¢é‚£å¥‘æ•°åˆ—ä»Žç¬¬ä¸‰é¡¹èµ·,å…¶å€¼ä¸ºå‰ä¸¤é¡¹çš„å’Œ,æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸æ–­çš„è®¡ç®—å‰ä¸¤é¡¹å’Œ,å¹¶æ›´æ–°å‰ä¸¤é¡¹çš„æ•°æ®æ¥èŽ·å¾—æœ€æ–°é¡¹çš„å€¼ å›¾è§£ç›¸å…³æ€è·¯ä¸‹é¢æˆ‘ä»¬ç»™å‡ºæ–æ³¢é‚£å¥‘æ•°åˆ—æ•°åˆ—çš„å‰åé¡¹,å¹¶ä»¤aä¸ºç¬¬ä¸€é¡¹(0),bä¸ºç¬¬äºŒé¡¹(1) å½“æˆ‘ä»¬æ±‚ç¬¬ä¸‰é¡¹çš„æ—¶å€™,æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªä¸´æ—¶å˜é‡ç”¨äºŽå‚¨å­˜a,å°†aæŒ‡å‘b,å°†bæŒ‡å‘ä¸‹ä¸€ä½(åº”è®¡ç®—çš„ä½ç½®),å¹¶å°†åŽŸæ¥çš„bå€¼å’Œå˜åŒ–å‰çš„aå€¼(temp).ç®€å•æ¥è¯´å°±æ˜¯å°†aå’Œbéƒ½å‘åŽç§»åŠ¨äº†ä¸€ä½ è®¡ç®—ç¬¬å››é¡¹åŠä»¥åŽå„é¡¹å‡ç±»ä¼¼,é€šè¿‡æ›´æ”¹è‡ªèº«çš„å€¼,å¹¶ä¸æ–­çš„åŽ»è®¡ç®—æ–°çš„å†…å®¹ ä»£ç å®žçŽ°123456789101112public int climbStairs(int n) &#123; if (n == 0) &#123; return 0; &#125; int a = 0, b = 1; for (int i = 0; i &lt; n; i++) &#123; int temp = a; a = b; b += temp; &#125; return b;&#125; ç›¸å…³ä»£ç æ¬¢è¿Žå¤§å®¶å…³æ³¨å¹¶æå‡ºæ”¹è¿›çš„å»ºè®®]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[LeetCode58-LengthOfLastWord(æœ€åŽä¸€ä¸ªå•è¯çš„é•¿åº¦)]]></title>
      <url>%2F2019%2F02%2F19%2FLeetCode58-LengthOfLastWord%2F</url>
      <content type="text"><![CDATA[LeetCode58-LengthOfLastWord(æœ€åŽä¸€ä¸ªå•è¯çš„é•¿åº¦)LeetCode:https://leetcode-cn.com/length-of-last-word/ LeetCodeCn:https://leetcode-cn.com/length-of-last-word/ é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªä»…åŒ…å«å¤§å°å†™å­—æ¯å’Œç©ºæ ¼ â€˜ â€˜ çš„å­—ç¬¦ä¸²ï¼Œè¿”å›žå…¶æœ€åŽä¸€ä¸ªå•è¯çš„é•¿åº¦ã€‚å¦‚æžœä¸å­˜åœ¨æœ€åŽä¸€ä¸ªå•è¯ï¼Œè¯·è¿”å›ž 0 ã€‚ è¯´æ˜Žï¼šä¸€ä¸ªå•è¯æ˜¯æŒ‡ç”±å­—æ¯ç»„æˆï¼Œä½†ä¸åŒ…å«ä»»ä½•ç©ºæ ¼çš„å­—ç¬¦ä¸²ã€‚ ç¤ºä¾‹ è¾“å…¥: â€œHello Worldâ€ è¾“å‡º: 5 æ€è·¯å¾ˆç®€å•çš„ä¸€é“é¢˜,ä¸»è¦æ˜¯æµ‹è¯•ç”¨ä¾‹ä¸­â€™ â€˜å¼•èµ·çš„å„ç§é—®é¢˜,æˆ‘ä»¬å¯ä»¥é€šè¿‡trimåŽ»é™¤é¦–ä½çš„â€™ â€˜,ç„¶åŽå†é€šè¿‡splitæˆªæ–­â€™ â€˜,è¿”å›žæœ€åŽä¸€ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦å³å¯. ä»£ç å®žçŽ°12345678public int lengthOfLastWord(String s) &#123; s = s.trim(); String[] strs = s.split(" "); if (strs.length == 0)&#123; return 0; &#125; return strs[strs.length - 1].length();&#125; ç›¸å…³ä»£ç æ¬¢è¿Žå¤§å®¶å…³æ³¨å¹¶æå‡ºæ”¹è¿›çš„å»ºè®®]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[LeetCode53-MaximumSubarray(æœ€å¤§å­åºå’Œ)]]></title>
      <url>%2F2019%2F02%2F18%2FLeetCode53-MaximumSubarray%2F</url>
      <content type="text"><![CDATA[LeetCode53-MaximumSubarray(æœ€å¤§å­åºå’Œ)LeetCode:https://leetcode-cn.com/problems/maximum-subarray/ LeetCodeCn:https://leetcode-cn.com/problems/maximum-subarray/ é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ‰¾åˆ°ä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿žç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›žå…¶æœ€å¤§å’Œã€‚ ç¤ºä¾‹: è¾“å…¥: [-2,1,-3,4,-1,2,1,-5,4], è¾“å‡º: 6 è§£é‡Š: è¿žç»­å­æ•°ç»„ [4,-1,2,1] çš„å’Œæœ€å¤§ï¼Œä¸º 6ã€‚ è§£é¢˜æ€è·¯-åˆ†æ²»æ­¤æ¡ä»¶ä¸‹,æˆ‘ä»¬å¯ä»¥å‘çŽ°è¿žç»­å­æ•°ç»„çš„åºåˆ—å’Œæœ€å¤§çš„æ—¶å€™å…¶é¦–ä½ä¸èƒ½ä¸ºè´Ÿæ•°,åŽŸå› å¾ˆç®€å•,å¦‚æžœé¦–ä½ä¸ºè´Ÿæ•°,å½“æ‹¿æŽ‰é¦–ä½æ—¶,å…¶å‰©ä½™çš„æ•°ç»„å’Œå¿…ç„¶ä¼šå¢žå¤§.åŒç†å¯æ‰©å±•,å¦‚æžœæŸå‡ é¡¹çš„å’Œä¸ºè´Ÿæ•°æ—¶,åˆ™è¿™å‡ ä¸ªæ•°ä¹Ÿä¸èƒ½ä½œä¸ºå’Œæœ€å¤§çš„å­æ•°ç»„çš„å¼€å§‹ å½“äº†è§£äº†ä»¥ä¸Šçš„å†…å®¹æ—¶,æˆ‘ä»¬å¯ä»¥é‡‡ç”¨åˆ†æ²»çš„æ–¹æ³•æ¥è§£å†³æ­¤é—®é¢˜.æˆ‘ä»¬å·²ä¸€ä¸ªéžè´Ÿæ•°ä¸ºå¼€å§‹,ç›´åˆ°å’Œä¸ºè´Ÿæ•°ä¸ºç»“æŸ,å†æ­¤è¿‡ç¨‹ä¸­æ¯”è¾ƒå…¶å’Œçš„æœ€å¤§å€¼å¹¶è®°å½•,é‡å¤ä»¥ä¸Šè¿‡ç¨‹ç›´åˆ°éåŽ†åˆ°æ•°ç»„ç»“æŸ. å›¾è§£ç›¸å…³æ€è·¯ä¸‹é¢å·²[-2,1,-3,4,-1,2,1,-5,4]ä¸ºä¾‹,æˆ‘ä»¬éœ€è¦é€šè¿‡iéåŽ†ä¸€æ¬¡numsçš„å†…å®¹,é¢å¤–ä½¿ç”¨sumç”¨æ¥è®°å½•å½“å‰å­æ•°ç»„çš„å’Œ(é»˜è®¤ä¸º0),resultä¸ºéåŽ†è¿‡ç¨‹ä¸­é‡åˆ°çš„æœ€å¤§å’Œ(é»˜è®¤ä¸ºnums[0]) å½“i=0æ—¶,sumä¸å¤§äºŽ0,æˆ‘ä»¬è¦å·²æ­¤ä½(i=0)ä¸ºå­æ•°ç»„çš„å¼€å§‹,åŒæ—¶ä¾‹è¡Œæ£€æŸ¥resultå’Œsumçš„å…³ç³» å½“i=1æ—¶,æ­¤æ—¶sum=-2,è¦å°äºŽ0,æ­¤æ—¶å’Œä¸º-2çš„å­æ•°ç»„[-2]ä¸èƒ½ä¸ºæœ€å¤§å­æ•°ç»„çš„å¼€å§‹,å°†sumæ›´æ–°ä¸ºnum=1,resultæ›´æ–°ä¸º1 å½“i=2æ—¶,æ­¤æ—¶sum=1,è¦å¤§äºŽ0,sumè¦+=numä¸º-2 å½“i=3æ˜¯,æ­¤æ—¶sumä¸º-2,æˆ‘ä»¬éœ€è¦å°†æ­¤ä¸ºä½œä¸ºæ–°çš„å­åºåˆ—çš„å¼€å§‹,ç›¸å…³å˜åŒ–å¦‚ä¸‹å›¾ å½“i=4,5,6,7,8æ—¶,sumå‡å¤§äºŽ0,æ£€æµ‹resultå’Œsumå€¼å³å¯ ä»£ç å®žçŽ°1234567891011121314151617public int maxSubArray(int[] nums) &#123; int result = nums[0]; int sum = 0; for (int i = 0 ; i &lt; nums.length ; i++)&#123; if (sum &gt; 0)&#123; sum += nums[i]; &#125;else &#123; sum = nums[i]; &#125; if (sum &gt; result)&#123; result = sum; &#125; &#125; return result;&#125; ç›¸å…³ä»£ç æ¬¢è¿Žå¤§å®¶å…³æ³¨å¹¶æå‡ºæ”¹è¿›çš„å»ºè®®]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[LeetCode27-RemoveElement(ç§»é™¤å…ƒç´ )]]></title>
      <url>%2F2019%2F02%2F17%2FLeetCode27-RemoveElement%2F</url>
      <content type="text"><![CDATA[LeetCode27-RemoveElement(ç§»é™¤å…ƒç´ )LeetCode:https://leetcode-cn.com/problems/remove-element/ LeetCodeCn:https://leetcode-cn.com/problems/remove-element/ é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªæ•°ç»„ nums å’Œä¸€ä¸ªå€¼ valï¼Œä½ éœ€è¦åŽŸåœ°ç§»é™¤æ‰€æœ‰æ•°å€¼ç­‰äºŽ val çš„å…ƒç´ ï¼Œè¿”å›žç§»é™¤åŽæ•°ç»„çš„æ–°é•¿åº¦ã€‚ ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨åŽŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„å¹¶åœ¨ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚ å…ƒç´ çš„é¡ºåºå¯ä»¥æ”¹å˜ã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åŽé¢çš„å…ƒç´ ã€‚ ç¤ºä¾‹ ç¤ºä¾‹ 1: ç»™å®š nums = [3,2,2,3], val = 3, å‡½æ•°åº”è¯¥è¿”å›žæ–°çš„é•¿åº¦ 2, å¹¶ä¸” nums ä¸­çš„å‰ä¸¤ä¸ªå…ƒç´ å‡ä¸º 2ã€‚ ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åŽé¢çš„å…ƒç´ ã€‚ ç¤ºä¾‹ 2: ç»™å®š nums = [0,1,2,2,3,0,4,2], val = 2, å‡½æ•°åº”è¯¥è¿”å›žæ–°çš„é•¿åº¦ 5, å¹¶ä¸” nums ä¸­çš„å‰äº”ä¸ªå…ƒç´ ä¸º 0, 1, 3, 0, 4ã€‚ æ³¨æ„è¿™äº”ä¸ªå…ƒç´ å¯ä¸ºä»»æ„é¡ºåºã€‚ ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åŽé¢çš„å…ƒç´ ã€‚ è§£é¢˜æ–¹æ³•-åŒæŒ‡é’ˆåº”ä¸ºå¯ä»¥æ›´æ”¹å…¶ä¸­æ•°æ®çš„é¡ºåºå¹¶ä¸”éœ€è¦åŽŸåœ°ä¿®æ”¹å†…å®¹,ç±»ä¼¼â€™åˆ é™¤æŽ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹â€™ä¸­åŒæŒ‡é’ˆçš„æ–¹æ³•,ä¸è¿‡è¿™é‡Œæˆ‘ä»¬çš„ä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«ä»Žæ•°ç»„å¤´(l)å’Œæ•°ç»„å°¾(r)å‘ä¸­å¿ƒç§»åŠ¨æ ¡éªŒ,å½“lé‡åˆ°éœ€è¦ç§»é™¤çš„å…ƒç´ æ—¶,ä¹‹é—´å°†å…¶å†…å®¹æ›´æ¢ä¸ºræ‰€æŒ‡å‘çš„å†…å®¹,å¹¶å°†rå‘ä¸­å¿ƒç§»åŠ¨,å½“læŒ‡å‘çš„å†…å®¹éžéœ€è¦ç§»é™¤çš„å†…å®¹æ—¶,å°†lå‘ä¸­å¿ƒç§»åŠ¨,çŸ¥é“låœ¨rçš„å³ä¾§ å›¾è§£ç›¸å…³æ€è·¯ä¸‹é¢æˆ‘ä»¬ä»¥[0,1,2,2,3,0,4,2],åˆ é™¤2å†…å®¹ä¸ºä¾‹.lä¸ºå·¦ä¾§æŒ‡é’ˆ,é»˜è®¤ä¸ºæ•°ç»„é¦–ä½,rä¸ºå³ä¾§æŒ‡é’ˆé»˜è®¤ä¸ºæ•°ç»„æœ«ä½.ä¸¤ä¸ªæŒ‡é’ˆéƒ½å‘ä¸­å¿ƒç§»åŠ¨ å½“læŒ‡å‘çš„å…ƒç´ (0,1)ä¸ä¸ºéœ€è¦ç§»é™¤çš„å…ƒç´ (2)æ—¶,ä»…ç§»åŠ¨læŒ‡é’ˆ å½“læŒ‡å‘2æ—¶,ç§»åŠ¨ræ‰€æŒ‡å‘çš„å…ƒç´ (2)åˆ°lçš„ä½ç½®,å¹¶ä»…ç§»åŠ¨ræŒ‡é’ˆ(læŒ‡é’ˆä¸ç§»åŠ¨,ä¸‹æ¬¡éªŒè¯lçš„æ—¶å€™ä¼šå¯¹ç§»åŠ¨æ¥çš„æ•°æ®è¿›è¡Œæ ¡éªŒ) å½“æˆ‘ä»¬å†æ¬¡æ ¡éªŒlçš„å†…å®¹æ—¶,å°†ræŒ‡å‘çš„4ç§»åŠ¨åˆ°åŽŸæ¥læŒ‡å‘çš„å†…å®¹2ä¸­,å¹¶ä»…ç§»åŠ¨ræŒ‡é’ˆ æˆ‘ä»¬å†æ¬¡æ ¡éªŒlçš„å†…å®¹,å‘çŽ°ä¸éœ€è¦æ›´æ”¹,ä»…ç§»åŠ¨læŒ‡é’ˆå³å¯ ç±»ä¼¼çš„,æ›´æ”¹ä¸‹ä¸€æ¬¡lå†…å®¹ä¸ºrçš„å†…å®¹ çŸ¥é“læŒ‡é’ˆçš„ä½ç½®ä¸åœ¨rçš„å·¦ä¾§,æ­¤æ—¶rçš„ä½ç½®å°±æ˜¯æ­¤æ•°ç»„çš„æœ‰æ•ˆä½ç½® ä»£ç å®žçŽ°12345678910111213public int removeElement(int[] nums, int val) &#123; int l = 0; int r = nums.length; while (l &lt; r)&#123; if (nums[l] == val)&#123; nums[l] = nums[r - 1]; r--; &#125;else &#123; l++; &#125; &#125; return r;&#125; ç›¸å…³ä»£ç æ¬¢è¿Žå¤§å®¶å…³æ³¨å¹¶æå‡ºæ”¹è¿›çš„å»ºè®®]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[LeetCode26-RemoveDuplicatesFromSortedArray(åˆ é™¤æŽ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹)]]></title>
      <url>%2F2019%2F02%2F16%2FLeetCode26-RemoveDuplicatesFromSortedArray%2F</url>
      <content type="text"><![CDATA[LeetCode26-RemoveDuplicatesFromSortedArray(åˆ é™¤æŽ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹)LeetCode:https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array/ LeetCodeCn:https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array/ é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªæŽ’åºæ•°ç»„ï¼Œä½ éœ€è¦åœ¨åŽŸåœ°åˆ é™¤é‡å¤å‡ºçŽ°çš„å…ƒç´ ï¼Œä½¿å¾—æ¯ä¸ªå…ƒç´ åªå‡ºçŽ°ä¸€æ¬¡ï¼Œè¿”å›žç§»é™¤åŽæ•°ç»„çš„æ–°é•¿åº¦ã€‚ ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨åŽŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„å¹¶åœ¨ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚ ç¤ºä¾‹ ç¤ºä¾‹ 1: ç»™å®šæ•°ç»„ nums = [1,1,2], å‡½æ•°åº”è¯¥è¿”å›žæ–°çš„é•¿åº¦ 2, å¹¶ä¸”åŽŸæ•°ç»„ nums çš„å‰ä¸¤ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 1, 2ã€‚ ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åŽé¢çš„å…ƒç´ ã€‚ ç¤ºä¾‹ 2: ç»™å®š nums = [0,0,1,1,1,2,2,3,3,4], å‡½æ•°åº”è¯¥è¿”å›žæ–°çš„é•¿åº¦ 5, å¹¶ä¸”åŽŸæ•°ç»„ nums çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 0, 1, 2, 3, 4ã€‚ ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åŽé¢çš„å…ƒç´ ã€‚ è§£é¢˜æ–¹æ³•-åŒæŒ‡é’ˆåˆ›å»ºä¸¤ä¸ªæŒ‡é’ˆ,åˆ†åˆ«æŒ‡å‘æ–°æ•°ç»„çš„é•¿åº¦(result)å’Œæ£€æµ‹å…ƒç´ çš„ä½ç½®(index),å¦‚æžœindexå’ŒresultæŒ‡å‘çš„å…ƒç´ ä¸åŒ,åˆ™å°†indexæŒ‡å‘çš„çš„å…ƒç´ ç§»åŠ¨åˆ°resultçš„ä¸‹ä¸€ä½. å›¾è§£ç›¸å…³æ€è·¯æˆ‘ä»¬ä»¥æŽ’åº[0,0,1,1,2,3,4]æ•°ç»„ä¸ºä¾‹.å¹¶åˆ›å»ºresultå’Œindexä¸¤ä¸ªæŒ‡é’ˆ,åˆå§‹å‡æŒ‡å‘é¦–ä½ å½“index=0æ—¶,resultå’ŒindexæŒ‡å‘çš„å…ƒç´ å€¼éƒ½ä¸º0,åˆ™resultä¸æ›´æ”¹,indexå‘åŽç§»ä¸€ä½ å½“index=2æ—¶,æ­¤æ—¶åˆ†åˆ«å¯¹åº”çš„å…ƒç´ ä¸º1å’Œ0,ä¸¤å€¼å¹¶ä¸ç›¸åŒ åˆ™æ­¤æ—¶indexå’Œresultå‡éœ€è¦å‘åŽç§»åŠ¨ä¸€ä½,å¹¶ä¸”éœ€è¦å°†resultç§»åŠ¨åŽæŒ‡å‘çš„å†…å®¹æ›´æ”¹ä¸ºindexç§»åŠ¨å‰çš„æ•°æ® ç±»ä¼¼çš„,åœ¨ç§»åŠ¨indexçš„æ—¶å€™æ£€æŸ¥å…¶å’Œresultçš„æ•°å€¼ååˆ†ç›¸åŒ,ç›´åˆ°indexå°†æ­¤æ•°ç»„éåŽ†å®Œæˆ å› ä¸ºresultæ˜¯ä»Ž0å¼€å§‹çš„,è¿”å›žæ–°æ•°ç»„çš„é•¿åº¦æ—¶è¦å°†å…¶+1. ä»£ç å®žçŽ°12345678910public int removeDuplicates(int[] nums) &#123; int result = 0; for (int index = 0; index &lt; nums.length ; index++)&#123; if (nums[result] != nums[index])&#123; result++; nums[result] = nums[index]; &#125; &#125; return result +1;&#125; ç›¸å…³ä»£ç æ¬¢è¿Žå¤§å®¶å…³æ³¨å¹¶æå‡ºæ”¹è¿›çš„å»ºè®®]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[LeetCode21-MergeTwoSortedLists(åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨)]]></title>
      <url>%2F2019%2F02%2F16%2FLeetCode21-MergeTwoSortedLists%2F</url>
      <content type="text"><![CDATA[LeetCode21:MergeTwoSortedLists(åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨)LeetCode:https://leetcode-cn.com/problems/merge-two-sorted-lists/ LeetCodeCn:https://leetcode-cn.com/problems/merge-two-sorted-lists/ é¢˜ç›®æè¿°å°†ä¸¤ä¸ªæœ‰åºé“¾è¡¨åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„æœ‰åºé“¾è¡¨å¹¶è¿”å›žã€‚æ–°é“¾è¡¨æ˜¯é€šè¿‡æ‹¼æŽ¥ç»™å®šçš„ä¸¤ä¸ªé“¾è¡¨çš„æ‰€æœ‰èŠ‚ç‚¹ç»„æˆçš„ã€‚ ç¤ºä¾‹ï¼š è¾“å…¥ï¼š1-&gt;2-&gt;4, 1-&gt;3-&gt;5-&gt;6 è¾“å‡ºï¼š1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;6 è§£é¢˜æ–¹æ³•-ç±»å½’å¹¶æ­¤ä¸¤ä¸ªé“¾è¡¨çš„åˆå¹¶ç±»ä¼¼å½’å¹¶æŽ’åºä¸­å°†åˆ†æ²»åŽçš„æœ‰åºåºåˆ—åˆå¹¶çš„è¿‡ç¨‹,ç®€å•æ¥è¯´å°±æ˜¯åœ¨åˆå¹¶çš„æ—¶å€™æ¯”è¾ƒä¸¤ä¸ªé“¾è¡¨é¦–ä½çš„çš„å¤§å°,å–è¾ƒå°çš„å€¼æ”¾å…¥åˆå¹¶åŽçš„é“¾è¡¨ä¸­,å¹¶ç§»åŠ¨å¯¹åº”çš„é“¾è¡¨. å›¾è§£ç›¸å…³æ€è·¯ä¸‹é¢é’ˆå¯¹1-&gt;2-&gt;4, 1-&gt;3-&gt;5-&gt;6è¿™ä¸¤ä¸ªé“¾è¡¨è¿›è¡Œåˆå¹¶ æˆ‘ä»¬éœ€è¦é¢å¤–åˆ›å»ºheadå’Œresult,headç”¨äºŽå­˜å‚¨éœ€è¦è¿”å›žçš„é“¾è¡¨æ”¶èŠ‚ç‚¹,resultç”¨äºŽè·Ÿéšå½“å‰æ’å…¥çš„æ•°æ®ä½ç½® åˆ†åˆ«å–å‡ºl1çš„å…ƒç´ ä¸º1,l2çš„å…ƒç´ ä¸º1,æ­¤æ—¶1&lt;=1,åˆ™å°†l1çš„å¯¹åº”å…ƒç´ çš„1æ”¾å…¥åˆå¹¶åŽçš„é“¾è¡¨ä¸­ é™¤æ­¤ä¹‹å¤–,æˆ‘ä»¬è¿˜è¦ç§»åŠ¨l1å’ŒresultæŒ‡å‘çš„ä½ç½®(ä¸‹å›¾ä¸­ç”¨çº¢ç®­å¤´è¡¨ç¤ºå®žé™…ç§»åŠ¨åŽçš„ä½ç½®,æ­¤æ—¶åˆå¹¶åŽçš„ç»“æžœä¸­çš„1ä¸Žresultä¸ºåŒä¸€ä¸ªèŠ‚ç‚¹) ç»§ç»­æ£€æŸ¥é“¾è¡¨å…ƒç´ ,æ­¤æ—¶l1ä¸­çš„å…ƒç´ 2&gt;l2ä¸­çš„å…ƒç´ 1,åˆ™å°†l2ä¸­çš„å…ƒç´ 1æ”¾å…¥åˆå¹¶åŽçš„é“¾è¡¨ä¸­ ç»§ç»­ç§»åŠ¨ç›¸å…³é“¾è¡¨ å½“æˆ‘ä»¬å¤„ç†äº†ä¸€å®šçš„èŠ‚ç‚¹åŽ,å¯èƒ½ä¼šå‡ºçŽ°æŸä¸ªé“¾æŽ¥(l1)ä¸å†æœ‰èŠ‚ç‚¹,æ­¤æ—¶ç›´æŽ¥å°†å¦ä¸€ä¸ªé“¾è¡¨(l2)çš„å‰©ä¸‹èŠ‚ç‚¹æ’å…¥åˆå¹¶åŽçš„èŠ‚ç‚¹å³å¯ ç›¸å…³ä»£ç 1234567891011121314151617public ListNode mergeTwoLists(ListNode l1, ListNode l2) &#123; ListNode result = new ListNode(0); ListNode head = result; while (l1 != null &amp;&amp; l2 != null)&#123; if (l1.val &lt;= l2.val)&#123; result.next = new ListNode(l1.val); l1 = l1.next; &#125;else &#123; result.next = new ListNode(l2.val); l2 = l2.next; &#125; result = result.next; &#125; if (l1 == null) result.next = l2; if (l2 == null) result.next = l1; return head.next;&#125; ç›¸å…³ä»£ç æ¬¢è¿Žå¤§å®¶å…³æ³¨å¹¶æå‡ºæ”¹è¿›çš„å»ºè®®]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[LeetCode20-ValidParentheses(æœ‰æ•ˆçš„æ‹¬å·)]]></title>
      <url>%2F2019%2F02%2F16%2FLeetCode20-ValidParentheses%2F</url>
      <content type="text"><![CDATA[LeetCode20:ValidParentheses(æœ‰æ•ˆçš„æ‹¬å·)LeetCode:https://leetcode-cn.com/problems/valid-parentheses/ LeetCodeCn:https://leetcode-cn.com/problems/valid-parentheses/ é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªåªåŒ…æ‹¬ â€˜(â€˜ï¼Œâ€™)â€™ï¼Œâ€™{â€˜ï¼Œâ€™}â€™ï¼Œâ€™[â€˜ï¼Œâ€™]â€™ çš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚ æœ‰æ•ˆå­—ç¬¦ä¸²éœ€æ»¡è¶³ï¼š å·¦æ‹¬å·å¿…é¡»ç”¨ç›¸åŒç±»åž‹çš„å³æ‹¬å·é—­åˆã€‚ å·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆã€‚ æ³¨æ„ç©ºå­—ç¬¦ä¸²å¯è¢«è®¤ä¸ºæ˜¯æœ‰æ•ˆå­—ç¬¦ä¸²ã€‚ ç¤ºä¾‹ ç¤ºä¾‹ 1: è¾“å…¥: â€œ()â€ è¾“å‡º: true ç¤ºä¾‹ 2: è¾“å…¥: â€œ()[]{}â€ è¾“å‡º: true ç¤ºä¾‹ 3: è¾“å…¥: â€œ(]â€ è¾“å‡º: false ç¤ºä¾‹ 4: è¾“å…¥: â€œ([)]â€ è¾“å‡º: false ç¤ºä¾‹ 5: è¾“å…¥: â€œ{[]}â€ è¾“å‡º: true è§£é¢˜æ–¹æ³•-æ ˆè¾…åŠ©é€šè¿‡é¢˜ç›®çš„æè¿°ä¸­æˆ‘ä»¬å¯ä»¥çŸ¥é“æ‹¬å·éœ€è¦æœ‰åºçš„é—­åˆ,ä¹Ÿå°±æ˜¯æ¯æ¬¡å¼€æ‹¬å·åŽé‡åˆ°çš„ä¸€ä¸ªé—­æ‹¬å·åºå·å’Œå¼€æ‹¬å·å¯¹åº”,æ¯æ¬¡å¯¹åº”åŽå°±ä¸éœ€è¦å†æ¬¡éªŒè¯,åŽå‡ºçŽ°çš„å¼€æ‹¬å·éœ€è¦å…ˆéªŒè¯,è¿™ç§æƒ…å†µä¸‹,å¾ˆç¬¦åˆæ ˆçš„ç‰¹ç‚¹,åŽè¿›å…ˆå‡º. æˆ‘ä»¬å¯ä»¥å†é‡åˆ°å¼€æ‹¬å·çš„æ—¶å€™å°†å…¶æ”¾å…¥æ ˆä¸­,åœ¨é‡åˆ°é—­æ‹¬å·çš„æ—¶å€™å‡ºæ ˆå¹¶éªŒè¯ä¸¤è€…æ—¶å€™åŒ¹é…. å›¾è§£ç›¸å…³æ€è·¯ä¸‹é¢é’ˆå¯¹â€{[[]{}]}()â€å­ä¸²è¿›è¡Œæ ¡éªŒ å½“i=0æ—¶,é€šè¿‡cåŽ»çš„å½“å‰ä½ç½®çš„å­—ç¬¦.æˆ‘ä»¬çœ‹åˆ°æ­¤æ—¶c={, {å±žäºŽå¼€æ‹¬å· (,[,{ ä¹‹ä¸€,å°†{å…¥æ ˆå³å¯,æ­¤æ—¶æ ˆ(stacké¡¶ä¸º{) ç±»ä¼¼çš„å½“i=2æ—¶,æ ˆä¸­ä»Žé¡¶åˆ°åº•å…ƒç´ åˆ†åˆ«ä¸º[[{ å½“i=3æ˜¯,cä¸º],]å±žäºŽé—­æ‹¬å· ),],},æ­¤æ—¶stackéžç©º,æˆ‘ä»¬å‡ºåŽ»æ ˆé¡¶å…ƒç´ ä¸º[,æ­¤æ—¶æ ˆé¡¶å…ƒç´ â€™[â€˜å’Œcâ€™]â€™åŒ¹é…,åˆ™ç»§ç»­æ£€æµ‹.è‹¥æ­¤æ—¶æ ˆé¡¶å…ƒç´ å’Œcä¸åŒ¹é…,åˆ™è¿”å›žfalse,æ­¤å­—ç¬¦ä¸²ä¸­çš„æ‹¬å·å¹¶ä¸æ˜¯æœ‰æ•ˆçš„ ç±»ä¼¼çš„,å½“i=4æ—¶ç»§ç»­å…¥æ ˆå…ƒç´  å½“i=9æ—¶,æ­¤æ—¶æ ˆä¸­å…ƒç´ å…¨éƒ¨éªŒè¯å¹¶å‡ºæ ˆ. æœ€åŽæˆ‘ä»¬è¦æ£€æµ‹ä¸€ä¸‹stackä¸­æ˜¯å¦è¿˜åŒ…å«æœªå‡ºæ ˆçš„å…ƒç´ ,å½“stackä¸­åŒ…å«å…ƒç´ æ—¶è¯´æ˜Žå­˜åœ¨å¼€æ‹¬å·æœªå‡ºçŽ°ä¸Žå…¶åŒ¹é…çš„é—­æ‹¬å·,æ­¤ä¸²ä¸åŒ…å«æœ‰æ•ˆæ‹¬å· ä»£ç å®žçŽ°123456789101112131415161718192021222324252627282930public boolean isValid(String s) &#123; Stack&lt;Character&gt; stack = new Stack&lt;&gt;(); for (int i = 0; i &lt; s.length(); i++)&#123; char c = s.charAt(i); if (c == '(' || c == '[' || c == '&#123;')&#123; stack.push(c); &#125;else if (stack.empty())&#123; return false; &#125;else &#123; switch (c) &#123; case ')': if (stack.pop() != '(')&#123; return false; &#125; break; case ']': if (stack.pop() != '[') &#123; return false; &#125; break; case '&#125;': if (stack.pop() != '&#123;') &#123; return false; &#125; break; &#125; &#125; &#125; return stack.empty();&#125; ç›¸å…³ä»£ç æ¬¢è¿Žå¤§å®¶å…³æ³¨å¹¶æå‡ºæ”¹è¿›çš„å»ºè®®]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[LeetCode7:ReverseInteger(æ•´æ•°åè½¬)]]></title>
      <url>%2F2019%2F01%2F12%2FLeetCode7-ReverseInteger%2F</url>
      <content type="text"><![CDATA[LeetCode7:ReverseInteger(æ•´æ•°åè½¬)LeetCode:https://leetcode-cn.com/problems/palindrome-number/ LeetCodeCn:https://leetcode-cn.com/problems/palindrome-number/ é¢˜ç›®æè¿°ç»™å‡ºä¸€ä¸ª 32 ä½çš„æœ‰ç¬¦å·æ•´æ•°ï¼Œä½ éœ€è¦å°†è¿™ä¸ªæ•´æ•°ä¸­æ¯ä½ä¸Šçš„æ•°å­—è¿›è¡Œåè½¬ã€‚ å‡è®¾æˆ‘ä»¬çš„çŽ¯å¢ƒåªèƒ½å­˜å‚¨å¾—ä¸‹ 32 ä½çš„æœ‰ç¬¦å·æ•´æ•°ï¼Œåˆ™å…¶æ•°å€¼èŒƒå›´ä¸º [âˆ’2^31, 2^31 âˆ’ 1]ã€‚è¯·æ ¹æ®è¿™ä¸ªå‡è®¾ï¼Œå¦‚æžœåè½¬åŽæ•´æ•°æº¢å‡ºé‚£ä¹ˆå°±è¿”å›ž 0ã€‚ ç¤ºä¾‹ ç¤ºä¾‹ 1: è¾“å…¥: 123 è¾“å‡º: 321 ç¤ºä¾‹ 2: è¾“å…¥: -123 è¾“å‡º: -321 ç¤ºä¾‹ 3: è¾“å…¥: 120 è¾“å‡º: 21 è§£é¢˜æ–¹æ³•æ­¤é¢˜ç›¸å¯¹æ¥è¯´æ¯”è¾ƒç®€å•,ä¸æ–­ä»Žxçš„æœ€åŽä¸€ä½å–å‡ºæ•°å­—ç„¶åŽæ ¡éªŒå½“å‰æ•°å­—æ˜¯å¦åˆæ³•,æœ€åŽå°†æœ€åŽä¸€ä½ç§»åˆ°ç»“æžœçš„é¦–ä½. å†æ­¤æˆ‘ä»¬å®žçŽ°ä¸€ä¸‹æ•°å­—x = 123çš„ç¿»è½¬. æˆ‘ä»¬é€šè¿‡x % 10 = 3 æ¥èŽ·å–åˆ°æ­¤æ—¶xçš„æœ€åŽä¸€ä½ä¸º(index)3, å› ä¸ºå°†æœ€åŽä¸€ä½å–èµ°,xéœ€è¦é€šè¿‡x /= 10æ¥ç¼©å°10å€. åœ¨è¿™é‡Œæˆ‘ä»¬è¦éªŒè¯ä¸€ä¸‹xæ˜¯å¦åˆæ³•,å½“x &gt; max/10 (å› ä¸ºxç¼©å°äº†åå€),æˆ–è€…x = max/10å¹¶ä¸” index &gt; 7(å› ä¸º2^31-1=2147483647æœ€åŽä¸€ä½ä¸º7,å½“ä½æ•°ç›¸åŒæ—¶ä»…å½“indexå¤§äºŽ7æ—¶æ‰ç§»é™¤),è´Ÿæ•°çš„éªŒè¯ç›¸è¿‘. å½“éªŒè¯é€šè¿‡åŽé€šè¿‡result = result * 10 + popæ¥è®¡ç®—å‡ºæ–°çš„result. å¦‚æ­¤é‡å¤è®¡ç®—,çŸ¥é“x=0æ—¶resultå°±æ˜¯å…¶åè½¬åŽçš„æ•°å­— ä»£ç å®žçŽ°12345678910111213141516int reverse(int x) &#123; int result = 0; while (x != 0) &#123; int index = x % 10; x /= 10; if (result &gt; Integer.MAX_VALUE / 10 || (result == Integer.MAX_VALUE / 10 &amp;&amp; index &gt; 7)) &#123; return 0; &#125; else if (result &lt; Integer.MIN_VALUE / 10 || (x == Integer.MIN_VALUE / 10 &amp;&amp; index &lt; -8)) &#123; return 0; &#125; result = result * 10 + index; &#125; return result;&#125; ç›¸å…³ä»£ç æ¬¢è¿Žå¤§å®¶å…³æ³¨å¹¶æå‡ºæ”¹è¿›çš„å»ºè®®]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[LeetCode6: ZigZag Conversion(Zå­—å½¢å˜æ¢)]]></title>
      <url>%2F2019%2F01%2F12%2FLeetCode6-ZigZagConversion%2F</url>
      <content type="text"><![CDATA[LeetCode6: ZigZag Conversion(Zå­—å½¢å˜æ¢)LeetCode:https://leetcode-cn.com/problems/zigzag-conversion/ LeetCodeCn:https://leetcode-cn.com/problems/zigzag-conversion/ é¢˜ç›®æè¿°å°†ä¸€ä¸ªç»™å®šå­—ç¬¦ä¸²æ ¹æ®ç»™å®šçš„è¡Œæ•°ï¼Œä»¥ä»Žä¸Šå¾€ä¸‹ã€ä»Žå·¦åˆ°å³è¿›è¡Œ Z å­—å½¢æŽ’åˆ—ã€‚ æ¯”å¦‚è¾“å…¥å­—ç¬¦ä¸²ä¸º â€œLEETCODEISHIRINGâ€ è¡Œæ•°ä¸º 3 æ—¶ï¼ŒæŽ’åˆ—å¦‚ä¸‹ï¼š L C I R E T O E S I I G E D H N ä¹‹åŽï¼Œä½ çš„è¾“å‡ºéœ€è¦ä»Žå·¦å¾€å³é€è¡Œè¯»å–ï¼Œäº§ç”Ÿå‡ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ï¼šâ€LCIRETOESIIGEDHNâ€ã€‚ ç¤ºä¾‹ ç¤ºä¾‹ 1: è¾“å…¥: s = â€œLEETCODEISHIRINGâ€, numRows = 3 è¾“å‡º: â€œLCIRETOESIIGEDHNâ€ ç¤ºä¾‹ 2: è¾“å…¥: s = â€œLEETCODEISHIRINGâ€, numRows = 4 è¾“å‡º: â€œLDREOEIIECIHNTSGâ€ è§£é¢˜-å½’çº³æ³•ä¸»è¦æ€è·¯æ˜¯éåŽ†ä¸€æ¬¡å­—ç¬¦ä¸²,é€šè¿‡å½’çº³å¾—åˆ°çš„å…³ç³»ç›´æŽ¥ç”Ÿæˆæ¯è¡Œçš„å†…å®¹. å›¾è§£ç›¸å…³æ€è·¯ä¸‹å›¾æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º23çš„å­—ç¬¦ä¸²åœ¨è¡Œæ•°ä¸º5çš„æƒ…å†µä¸‹å…¶å…ƒç´ å¯¹åº”çš„æƒ…å†µ æˆ‘ä»¬å¯ä»¥å°†å…¶åˆ†å‰²ä¸ºä¸‰ä¸ªéƒ¨åˆ†,setp(åˆ†å‰²çš„æ­¥é•¿) = 2 * (numRows - 1),è‡³æ­¤æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ç”¨length(så­—ç¬¦ä¸²çš„é•¿åº¦)/stepæ¥å¾—åˆ°æ­¤æ—¶æˆ‘ä»¬åˆ†å‰²äº†å‡ éƒ¨åˆ† æˆ‘ä»¬é’ˆå¯¹ç¬¬ä¸€éƒ¨åˆ†ç»§ç»­åˆ†å‰²,æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç¬¬ä¸€è¡Œå’Œæœ€åŽä¸€è¡Œéƒ½æ˜¯åªæœ‰ä¸€ä¸ªå…ƒç´ ,å’Œä¸­é—´æœ‰ä¸¤ä¸ªå…ƒç´ çš„è¡Œä¸­,ä¸¤ä¸ªå…ƒç´ ä¹‹å’Œæ­¥é•¿. ä¸è¿‡å½“æˆ‘ä»¬å½’çº³ä¸‹ä¸€ç»„æ—¶,æˆ‘ä»¬å‘çŽ°éžé¦–ä½è¡Œä¸­ä¸¤ä¸ªå…ƒç´ å’Œå¹¶ä¸ç®€å•çš„æ˜¯æ­¥é•¿,å› ä¸ºå†éžé¦–ç»„ä¸­,å…¶æ•°æ®ç»è¿‡stepé•¿åº¦çš„å¹³ç§»,å½’çº³åŽæˆ‘ä»¬å¯ä»¥å‘çŽ°,éžé¦–ä½è¡Œçš„ç¬¬äºŒä¸ªå…ƒç´ (15)å…¶å€¼ç­‰äºŽä¸‹ä¸€ç»„é¦–ä½(16)å‡åŽ»å½“å‰æ‰€åœ¨è¡Œæ•°(1) é‚£ä¹ˆæœ€åŽå¦‚ä½•å®žçŽ°å°±ååˆ†æ˜Žäº†äº†,ä¸è¿‡è®°å¾—åœ¨é‡Œå±‚å¾ªçŽ¯çš„æ—¶å€™,æ¯æ¬¡å¢žåŠ çš„é•¿åº¦ä¸ºstep.åœ¨éžé¦–å°¾è¡Œä¸­,ç¬¬äºŒä¸ªå…ƒç´ éœ€è¦éªŒè¯å…¶æ˜¯å¦å°äºŽlength ä»£ç å®žçŽ°123456789101112131415161718192021public String convert(String s, int numRows) &#123; if (numRows == 1)&#123; return s; &#125; int length = s.length(); StringBuffer result = new StringBuffer(); int step = 2 * (numRows - 1); for (int i = 0; i &lt; numRows; i++) &#123; for (int j = 0; j + i &lt; length; j += step) &#123; result.append(s.charAt(j + i)); if (i != 0 &amp;&amp; i != numRows - 1 &amp;&amp; j + step - i &lt; length)&#123; result.append(s.charAt(j + step - i )); &#125; &#125; &#125; return result.toString(); &#125; ç›¸å…³ä»£ç æ¬¢è¿Žå¤§å®¶å…³æ³¨å¹¶æå‡ºæ”¹è¿›çš„å»ºè®®]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Leetcode5: Longest Palindromic Substring(æœ€é•¿å›žæ–‡å­ä¸²)]]></title>
      <url>%2F2019%2F01%2F11%2FLeetcode5-LongestPalindromicSubstring%2F</url>
      <content type="text"><![CDATA[Leetcode5: Longest Palindromic Substring(æœ€é•¿å›žæ–‡å­ä¸²)LeetCode:https://leetcode.com/problems/longest-palindromic-substring/ LeetCodeCn:https://leetcode-cn.com/problems/longest-palindromic-substring/ é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œæ‰¾åˆ° s ä¸­æœ€é•¿çš„å›žæ–‡å­ä¸²ã€‚ä½ å¯ä»¥å‡è®¾ s çš„æœ€å¤§é•¿åº¦ä¸º 1000ã€‚ ç¤ºä¾‹ ç¤ºä¾‹ 1ï¼š è¾“å…¥: â€œbabadâ€ è¾“å‡º: â€œbabâ€ æ³¨æ„: â€œabaâ€ ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆã€‚ ç¤ºä¾‹ 2ï¼š è¾“å…¥: â€œcbbdâ€ è¾“å‡º: â€œbbâ€ è§£é¢˜æ–¹æ³• æ„Ÿè§‰æš´åŠ›æ³•ä»€ä¹ˆçš„,å¯ä»¥ä¸å†è¯´äº† ä¸­å¿ƒæ‰©å±•æ³•å¦‚æžœä¸€ä¸ªå­ä¸²æ˜¯å›žæ–‡,é‚£ä¹ˆå®ƒæœ¬äº‹æ˜¯ä¸€ä¸ªå·¦å³å¯¹ç§°çš„å½¢å¼,é•¿åº¦ä¸ºnçš„å­ä¸²,å…¶ä¸­å¿ƒæœ‰2n-1ä¸ª,å› ä¸ºé•¿åº¦ä¸ºå¶æ•°çš„å­ä¸²,å…¶ä¸­å¿ƒå¯èƒ½åœ¨ä¸¤ä¸ªæ–‡å­—ä¸­é—´.æŽ¥ä¸‹æ¥æˆ‘ä»¬åªè¦ä¾æ¬¡æŸ¥æ‰¾æ¯ä¸ªå­ä¸²å…ƒç´ å’Œä¸¤ä¸ªå…ƒç´ ä¸­é—´ä½œä¸ºå›žæ–‡å­ä¸²çš„ä¸­å¿ƒ,è®°å½•å…¶ä¸­æœ€é•¿çš„å­ä¸²ä¿¡æ¯. å›¾è§£ç›¸å…³æ€è·¯åœ¨æ­£å¼å¼€å§‹ä¹‹å‰,æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹å¦‚ä½•æŸ¥æ‰¾ä¸€ä¸ªä¸­å¿ƒèƒ½åŒ¹é…çš„å›žæ–‡æœ€é•¿é•¿åº¦æ˜¯å¦‚ä½•å¾—åˆ°çš„. å‰é¢æåˆ°,å¥‡æ•°é•¿åº¦çš„å›žæ–‡ä¸²å’Œå¶æ•°é•¿åº¦çš„å›žæ–‡ä¸²å…¶ä¸­å¿ƒæ˜¯ä¸åŒ,åœ¨æŸ¥æ‰¾çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬è¦åˆ†åˆ«åŒºåˆ†ä¸¤ç§æƒ…å†µæ¥ç†è§£. å‡è®¾å…¶é•¿åº¦ä¸ºå¥‡æ•°,è¯´æ˜Žä¸­å¿ƒä½ç½®çš„å…ƒç´ æ— éœ€å’Œå…¶å®ƒå…ƒç´ åŒ¹é…(å› ä¸ºæœ¬èº«å’Œæœ¬èº«ä¸€å®šç›¸ç­‰),æ£€æµ‹å…¶å·¦å³ç›¸åŒé•¿åº¦çš„å…ƒç´ æ˜¯å¦ç›¸ç­‰,å¦‚ä¸‹å›¾,å‡è®¾ä¸­å¿ƒä½ç½®æ˜¯ç¬¬1ä½çš„a,å…¶å·¦å³å…ƒç´ ç›¸åŒ,åˆ†åˆ«å‡å°‘lå’Œå¢žåŠ r,å½“æ—¶æ­¤æ—¶l = -1,å¹¶ä¸åˆæ³•,æ‰€ä»¥ç¬¬1ä½ä½œä¸ºä¸­å¿ƒçš„æœ€é•¿å›žæ–‡é•¿åº¦ä¸º3. å‡è®¾å…¶é•¿åº¦ä¸ºå¶æ•°,ç›¸å½“äºŽå…¶ä¸­å¿ƒæ˜¯ä¸€ä¸ªç©ºå…ƒç´ ,ä¹Ÿä¸€å®šä¸Žæœ¬èº«ç›¸åŒ,æˆ‘ä»¬ç›´æŽ¥æ£€æµ‹å…¶ä¸¤ä¾§çš„å…ƒç´ æ˜¯å¦ç›¸åŒ,æ­¥éª¤åŒä¸Š. æˆ‘ä»¬å°†â€bababâ€ä½œä¸ºå‚æ•°,æ­¤æ—¶start(æœ€é•¿å­ä¸²çš„å¼€å§‹ä½ç½®)é»˜è®¤ä¸º0,end(æœ€é•¿å­ä¸²çš„ç»“æŸä½ç½®)é»˜è®¤ä¸º0. å½“æˆ‘ä»¬æœç´¢ç¬¬0ä½æ—¶,len(å¥‡) = 1, len(å¶) = 0,å…¶æœ€å¤§å›žæ–‡å­ä¸²é•¿åº¦ä¸º1,å¤§äºŽå½“å‰startå’Œendä¹‹é—´çš„å·®.æˆ‘ä»¬éœ€è¦æ›´æ–°statrå’Œendçš„å†…å®¹.endéœ€è¦åœ¨içš„åŸºç¡€ä¸Šå¢žåŠ len/2,startéœ€è¦åœ¨içš„åŸºç¡€ä¸Šå‡åŽ»(len - 1) /2,(é˜²æ­¢å¶æ•°å­ä¸²å¼•èµ·çš„è¶Šç•Œé—®é¢˜). æˆ‘ä»¬ç»§ç»­ç§»åŠ¨i,å½“i = 1æ—¶,æ­¤æ—¶å…¶æœ€é•¿å­ä¸²ä¸º3,æ›´æ–°startå€¼ä¸º0,endå€¼ä¸º2. åŽè¾¹å†…å®¹ä¸é‡å¤, å› ä¸ºæ¯æ¬¡è®¡ç®—ç›¸å¯¹æ¥è¯´éƒ½æ˜¯ç‹¬ç«‹,åªéœ€è¦å°†æ­¤ä¸ºå¾—åˆ°çš„æœ€é•¿å›žæ–‡å­ä¸²é•¿åº¦å’Œå·²çŸ¥çš„æ¯”å¯¹å³å¯ ä»£ç å®žçŽ°123456789101112131415161718192021222324public String longestPalindrome(String s) &#123; if (s == null || s.length() &lt; 1)&#123; return ""; &#125; int start = 0, end = 0; for (int i = 0; i &lt; s.length(); i++) &#123; int len = Math.max(isCenterNum(s, i , i), isCenterNum(s , i, i+1)); if (len &gt; end - start)&#123; start = i - (len - 1) / 2; end = i + len / 2; &#125; &#125; return s.substring(start, end + 1);&#125;//è®¡ç®—æŸä½ä¸­ä¸­å¿ƒçš„æœ€é•¿å›žæ–‡å­ä¸²æ–¹æ³•public int isCenterNum(String s, int l, int r)&#123; while (l &gt;= 0 &amp;&amp; r &lt; s.length() &amp;&amp; (s.charAt(l) == s.charAt(r))) &#123; l--; r++; &#125; return r - l - 1;&#125; ç›¸å…³ä»£ç æ¬¢è¿Žå¤§å®¶å…³æ³¨å¹¶æå‡ºæ”¹è¿›çš„å»ºè®®]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[LeetCode3:Longest Substring Without Repeating Characters(æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²)]]></title>
      <url>%2F2019%2F01%2F11%2FLeetCode3-Longest-Child%2F</url>
      <content type="text"><![CDATA[LeetCode3:Longest Substring Without Repeating Characters(æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²)LeetCode:https://leetcode.com/problems/longest-substring-without-repeating-characters/ LeetCodeCn:https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/ é¢˜ç›®è¯´æ˜Žç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ æœ€é•¿å­ä¸² çš„é•¿åº¦ã€‚ ç¤ºä¾‹ ç¤ºä¾‹ 1: è¾“å…¥: â€œabcabcbbâ€ è¾“å‡º: 3 è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ â€œabcâ€ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚ ç¤ºä¾‹ 2: è¾“å…¥: â€œbbbbbâ€ è¾“å‡º: 1 è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ â€œbâ€ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚ ç¤ºä¾‹ 3: è¾“å…¥: â€œpwwkewâ€ è¾“å‡º: 3 è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ â€œwkeâ€ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚ è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œâ€pwkeâ€ æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚ è§£é¢˜æ–¹æ³•æ—¥å¸¸æš´åŠ›æ³• éåŽ†æ¯ä¸ªå…ƒç´ ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²å¼€å§‹,æŸ¥æ‰¾å½“å‰å­—ç¬¦ä¸²æ˜¯å¦å…ƒç´ ä¸é‡å¤,å¦‚æžœä¸é‡å¤åˆ™å¾—åˆ°å…¶é•¿åº¦,å…¨éƒ¨éåŽ†å¾—åˆ°å…¶æœ€é•¿æ— é‡å¤è‡ªä¸²é•¿åº¦. æ»‘åŠ¨çª—å£(HaskMapè¾…åŠ©è¡¨) HaskMapçœŸæ˜¯ä¸ªå¥½ä¸œè¥¿,æœ€è¿‘å†æ•´ç†ä¸‹HashMapç›¸å…³çš„èµ„æ–™ æ­¤æ–¹æ³•åªéœ€è¦ä¸€æ¬¡éåŽ†å³å¯,ä¸»è¦æ€è·¯ä¸ºåœ¨éåŽ†è¿‡ç¨‹ä¸­è®¡ç®—å½“å‰éåŽ†ä½ç½®åˆ°æœ€åŽä¸€ä¸ªé‡å¤å…ƒç´ çš„ä¸‹ä¸€ä½ä½ç½®çš„é•¿åº¦(ä¹Ÿå¯ä»¥è¯´æ˜¯å°†æœ€åŽä¸€æ¬¡é‡å¤çš„å…ƒç´ çš„ä¸‹ä¸€ä½ä½œä¸ºä¸€ä¸ªå­ä¸²çš„å¼€å§‹,å½“å‰éåŽ†ä½ç½®ä½œä¸ºå­ä¸²çš„ç»“æŸ,è®¡ç®—æ­¤å­ä¸²çš„é•¿åº¦),å°†å…¶ä¸Žå·²å­˜åœ¨çš„æœ€é•¿å­ä¸²é•¿åº¦å¯¹æ¯”,å¾—åˆ°å½“å‰æœ€é•¿æœªé‡å¤å…ƒç´ å­ä¸²çš„é•¿åº¦.ä¸‹é¢é€šè¿‡å›¾ç¤ºè§£æžç›¸å…³æ€è·¯. å›¾è§£ç›¸å…³æ€è·¯æˆ‘ä»¬è¾“å…¥â€pwwkewâ€ä½œä¸ºå‚æ•°,æ­¤æ—¶é»˜è®¤æœ€é•¿æ— é‡å¤å­ä¸²é•¿åº¦(result)ä¸º0,HashMapè¾…åŠ©è¡¨checkä¸ºç©º. é»˜è®¤éåŽ†ä½ç½®i = 0, é»˜è®¤æœ€åŽä¸€ä¸ªé‡å¤å…ƒç´ çš„ä¸‹ä¸€ä½ä½ç½®index = 0; æŸ¥æ‰¾è¾…åŠ©è¡¨checkä¸­ä¸å­˜åœ¨iä½ç½®å¯¹åº”çš„å…ƒç´ p å½“å‰æœ€é•¿æ— é‡å¤å…ƒç´ å­ä¸²é•¿åº¦result = i(0) - index(0) + 1 = 1 æ›´æ–°checkè¡¨,å°†(p,0)åŠ å…¥åˆ°checkè¡¨ä¸­ ç»§ç»­éåŽ†æ­¤ä¸²,å½“i = 1æ—¶,checkä¸­ä¾æ—§æŸ¥æ‰¾ä¸åˆ°iä½ç½®å¯¹åº”çš„å…ƒç´ w result = i(1) - index(0) + 1 = 2 æ›´æ–°checkè¡¨,å°†(w,1)åŠ å…¥åˆ°checkè¡¨ä¸­ ç»§ç»­éåŽ†å½“i = 2æ—¶,æ­¤æ—¶iå¯¹åº”çš„å…ƒç´ wåœ¨checkè¡¨ä¸­å¯ä»¥è¢«æ‰¾åˆ°,è¯´æ˜Žæ­¤å…ƒç´ æ˜¯ä¸€ä¸ªé‡å¤å…ƒç´ ,æˆ‘ä»¬éœ€è¦æ›´æ–°indexçš„å€¼,åœ¨è¿™é‡Œæˆ‘ä»¬æ¯”è¾ƒå½“å‰indexçš„å€¼å’Œcheckä¸­å‡ºçŽ°çš„æœ€åŽä¸€æ¬¡é‡å¤å…ƒç´ çš„ä¸‹ä¸€ä½ä¸­çš„è¾ƒå¤§å€¼(é˜²æ­¢â€abbaâ€è¿™æ ·çš„åœ¨éåŽ†æœ€åŽä¸€ä¸ªaçš„æ—¶å€™å–åˆ°é¦–ä½açš„ä½ç½®). æ­¤æ—¶index = max(index(0), check.get(key(â€œwâ€)) (1 + 1 = 2)) = 2 è®¡ç®—å½“å‰çš„result = i(2) - index(2) + 1 = 1,å°äºŽä¹‹å‰çš„result(2),æ­¤æ—¶resultä¾ç„¶ä¸º2. æ›´æ–°checkè¡¨çš„å†…å®¹,å°†keyä¸ºwçš„valueæ›´æ”¹ä¸º2 ç»§ç»­éåŽ†,å½“i = 3æ—¶,checkè¡¨ä¸­æ‰¾ä¸åˆ°â€™kâ€™ result = i(3) - index(2) + 1 = 2 æ›´æ–°checkè¡¨,å°†(k,3)åŠ å…¥åˆ°checkè¡¨ä¸­ ç»§ç»­éåŽ†,å½“i = 4æ—¶,checkè¡¨ä¸­æ‰¾ä¸åˆ°â€™eâ€™ result = i(4) - index(2) + 1 = 3, æ­¤æ—¶çš„resultå¤§äºŽåŽŸæœ‰çš„result,åˆ™æ›´æ–°resultçš„å€¼ä¸º3 æ›´æ–°checkè¡¨,å°†(e,4)åŠ å…¥åˆ°checkè¡¨ä¸­ ç»§ç»­éåŽ†å½“i = 5æ—¶,æ­¤æ—¶iå¯¹åº”çš„å…ƒç´ wåœ¨checkè¡¨ä¸­å¯ä»¥è¢«æ‰¾åˆ°, æ­¤æ—¶index = max(index(5), check.get(key(â€œwâ€)) (2 + 1 = 3)) = 5 è®¡ç®—å½“å‰çš„result = i(5) - index(2) + 1 = 3,å¤§äºŽä¹‹å‰çš„result(2),æ­¤æ—¶resultæ›´æ–°ä¸º3. æ›´æ–°checkè¡¨çš„å†…å®¹,å°†keyä¸ºwçš„valueæ›´æ”¹ä¸º5 è‡³æ­¤,éåŽ†ç»“æŸ,æ­¤æ—¶reslutçš„å€¼å°±æ˜¯sä¸­æœ€é•¿ä¸ºé‡å¤å­ä¸²çš„é•¿åº¦. ä»£ç å®žçŽ°12345678910111213public int lengthOfLongestSubstring(String s) &#123; int result = 0; Map&lt;Character, Integer&gt; check = new HashMap&lt;&gt;(); for (int i = 0, index = 0; i &lt; s.length(); i++) &#123; if (check.containsKey(s.charAt(i)))&#123; index = Math.max(index, check.get(s.charAt(i)) + 1); &#125; result = Math.max(result, i - index + 1); check.put(s.charAt(i), i); &#125; return result;&#125; ç›¸å…³ä»£ç æ¬¢è¿Žå¤§å®¶å…³æ³¨å¹¶æå‡ºæ”¹è¿›çš„å»ºè®®]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[LeetCode2: Add two numbers(ä¸¤æ•°ç›¸åŠ )]]></title>
      <url>%2F2019%2F01%2F09%2FLeetCode2-Add-two-numbers%2F</url>
      <content type="text"><![CDATA[LeetCode-2: Add two numbers(ä¸¤æ•°ç›¸åŠ )LeetCode:https://leetcode-cn.com/problems/add-two-numbers/ LeetCodeCn:https://leetcode-cn.com/problems/add-two-numbers/ é¢˜ç›®è¯´æ˜Žç»™å‡ºä¸¤ä¸ª éžç©º çš„é“¾è¡¨ç”¨æ¥è¡¨ç¤ºä¸¤ä¸ªéžè´Ÿçš„æ•´æ•°ã€‚å…¶ä¸­ï¼Œå®ƒä»¬å„è‡ªçš„ä½æ•°æ˜¯æŒ‰ç…§ é€†åº çš„æ–¹å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”å®ƒä»¬çš„æ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜å‚¨ ä¸€ä½ æ•°å­—ã€‚å¦‚æžœï¼Œæˆ‘ä»¬å°†è¿™ä¸¤ä¸ªæ•°ç›¸åŠ èµ·æ¥ï¼Œåˆ™ä¼šè¿”å›žä¸€ä¸ªæ–°çš„é“¾è¡¨æ¥è¡¨ç¤ºå®ƒä»¬çš„å’Œã€‚æ‚¨å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°éƒ½ä¸ä¼šä»¥ 0 å¼€å¤´ã€‚ ç¤ºä¾‹ï¼šè¾“å…¥ï¼š(2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4) è¾“å‡ºï¼š7 -&gt; 0 -&gt; 8 è¾“å…¥ï¼š(8 -&gt; 4 -&gt; 9) + (5 -&gt; 6 -&gt; 3) è¾“å‡ºï¼š3 -&gt; 1 -&gt; 3 -&gt; 1 è§£é¢˜æ–¹æ³•åˆç­‰æ•°å­¦ç®€å•çš„æ•°å­¦ç›¸åŠ å³å¯,ä¸è¿‡éœ€è¦å¤„ç†å‡ ä¸ªç‰¹æ®Šæƒ…å†µ,å½“ä¸¤ä¸ªé“¾è¡¨é•¿åº¦ä¸åŒæ—¶,çŸ­é“¾è¡¨ä¸‹ä¸€ä½æ•°æ®ç”¨0å¡«å…… åœ¨ä¸¤ä¸ªé“¾æŽ¥ç›¸åŠ çš„è¿‡ç¨‹ä¸­,å¢žåŠ ä¸€ä¸ªå˜é‡,ç”¨äºŽè®°å½•ä½Žä½å’Œåƒé«˜ä½çš„è¿›ä½æƒ…å†µ,åœ¨ä¸¤ä¸ªé“¾è¡¨éåŽ†åŽ,åœ¨æŸ¥çœ‹æ­¤å€¼,å†³å®šæ˜¯å¦æ·»åŠ é«˜ä½. å›¾è§£ç›¸å…³æ€è·¯è¿™é‡Œè¾“å…¥çš„ä¸¤ä¸ªé“¾è¡¨åˆ†åˆ«ä¸º8-&gt;4-&gt;9å’Œ5-&gt;6-&gt;3 åŒæ—¶å–å‡ºä¸¤ä¸ªé’Ÿåˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ,è®¡ç®—sum =13,å› ä¸ºresultåªè®°å½•å½“å‰ä¸ªä½æ•°æ®,é€šè¿‡sum%10å¾—åˆ°ä¸ªä½å†…å®¹,æ·»åŠ åˆ°ç»“æžœé“¾è¡¨å°¾éƒ¨,åŒæ—¶è®¡ç®—è¿›ä½æ ‡è¯†carry = sum/10 = 1. é‡å¤ä¸Šé¢æ­¥éª¤,å°†1æ’å…¥ç»“æžœé“¾è¡¨å°¾éƒ¨,è®¡ç®—carry = 1 é‡å¤ä¸Šé¢æ­¥éª¤,å°†3æ’å…¥ç»“æžœé“¾è¡¨å°¾éƒ¨,è®¡ç®—carry = 1 å½“L1å’ŒL2éƒ½éåŽ†ç»“æŸåŽ,æ£€æŸ¥carryçš„å†…å®¹,å‘çŽ°æ­¤æ—¶carryéž0,åˆ™å°¾æ’ä¸€ä¸ªcarryä½œä¸ºé«˜ä½çš„å†…å®¹ ä»£ç å®žçŽ°123456789101112131415161718192021222324public ListNode addTwoNumbers(ListNode l1, ListNode l2) &#123; ListNode result = new ListNode(0); ListNode temp = result; int carry = 0; while (l1 != null || l2 != null) &#123; int a = (l1 != null) ? l1.val : 0; int b = (l2 != null) ? l2.val : 0; int sum = carry + a + b; carry = sum / 10; temp.next = new ListNode(sum % 10); temp = temp.next; if (l1 != null) l1 = l1.next; if (l2 != null) l2 = l2.next; &#125; if (carry &gt; 0) &#123; temp.next = new ListNode(carry); &#125; return result.next;&#125; ç›¸å…³ä»£ç æ¬¢è¿Žå¤§å®¶å…³æ³¨å¹¶æå‡ºæ”¹è¿›çš„å»ºè®®]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[LeetCode 1: Two sum(ä¸¤æ•°ä¹‹å’Œ)]]></title>
      <url>%2F2019%2F01%2F08%2FLeetCode-Two-sum%2F</url>
      <content type="text"><![CDATA[LeetCode-1: Two sum(ä¸¤æ•°ä¹‹å’Œ) æ—¥å¸¸æ–°å‘,æ²‰è¿·å­¦ä¹ ,æ— æ³•è‡ªæ‹” è‡ªå·±å®žçŽ°çš„ä»£ç ,åœ¨å¯è§£è¯»çš„å‰æä¸‹å°½åŠ›ä¼˜åŒ–. LeetCode:https://leetcode.com/problems/two-sum/ LeetCodeCn:https://leetcode-cn.com/problems/two-sum/submissions/ é¢˜ç›®è¯´æ˜Žç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›žä»–ä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œä½ ä¸èƒ½é‡å¤åˆ©ç”¨è¿™ä¸ªæ•°ç»„ä¸­åŒæ ·çš„å…ƒç´ ã€‚ ç¤ºä¾‹ç»™å®š nums = [2, 7, 11, 15], target = 9 å› ä¸º nums[0] + nums[1] = 2 + 7 = 9æ‰€ä»¥è¿”å›ž [0, 1] è§£é¢˜æ–¹æ³•æš´åŠ›æžšä¸¾éåŽ†numsä¸­çš„æ¯ä¸ªå…ƒç´ x,æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨target-xçš„å…ƒç´  å“ˆå¸Œè¡¨è¾…åŠ©(ä¸€æ¬¡éåŽ†)ç®€å•æ¥è¯´å°±æ˜¯åœ¨éåŽ†çš„æ—¶å€™å°†éåŽ†è¿‡çš„xå­˜å…¥HashMapä¸­,å·²xçš„å€¼ä¸ºkey,xæ‰€åœ¨çš„ä½ç½®ä¸ºvaue.åœ¨éåŽ†æ–°çš„å…ƒç´ çš„æ—¶å€™æ£€æŸ¥target-xæ‰€å¯¹åº”çš„å…ƒç´ æ˜¯å¦åŒ…å«åœ¨HashMapä¸­,å¦‚æžœå­˜åœ¨çš„è¯å°±èƒ½ç›´æŽ¥èŽ·å–åˆ°å½“å‰xçš„ä½ç½®å’Œtarget-xçš„ä½ç½®. å›¾è§£ç›¸å…³æ€è·¯ä»¥ä¸‹æ˜¯ä¸ªæµ‹è¯•ç”¨ä¾‹,çŽ°åœ¨[1,2,7,11,15]çš„æ•°ç»„ä¸­å¯»æ‰¾å…¶ä¸­å“ªä¸¤ä¸ªå…ƒç´ å’Œä¸º9. æ ¹æ®æ€è·¯,æˆ‘ä»¬å¼€å§‹éåŽ†æ­¤æ•°ç»„ å½“x = 0æ—¶å€™, ç›®æ ‡target - x = 8, æˆ‘ä»¬åœ¨checkä¸­æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨keyä¸º8çš„å…ƒç´ . æ­¤æ—¶æˆ‘ä»¬å‘çŽ°æ²¡æœ‰keyä¸º8çš„å…ƒç´ ,å°†key = 1,value = 0å­˜å…¥checkçš„HashMapä¸­. ç§»åˆ°ä¸‹ä¸€ä¸ªå…ƒç´ , x = 2,å¼¥è¡¥target - x = 7, åœ¨checkä¸­ä¹Ÿæ²¡æœ‰æ‰¾åˆ°keyä¸º7çš„å…ƒç´ ,å’Œä¸Šä¸€æ­¥ä¸€æ ·,å°†key = 2, value = 1å­˜å…¥checkä¸­. ç§»åˆ°ä¸‹ä¸€ä¸ªå…ƒç´ , x = 7, ç›®æ ‡target - x = 2,åœ¨checkä¸­æ‰¾åˆ°äº†keyä¸º2çš„æ•°æ®,æ­¤æ—¶å½“å‰ x = 7çš„ä½ç½®ä¸º2,checkä¸­keyä¸º2å¯¹åº”çš„valueä¸º1, ä¹Ÿå°±æ˜¯è¯´æ¬¡æ•°ç»„ç¬¬1é¡¹ç›®å’Œç¬¬2é¡¹æ‰€å¯¹åº”çš„å€¼ä¹‹å’Œä¸ºtarget ä»£ç å®žçŽ°123456789101112131415public int[] twoSum(int[] nums, int target) &#123; HashMap&lt;Integer, Integer&gt; check = new HashMap&lt;&gt;(); int[] position = new int[2]; for (int i = 0; i &lt; nums.length; i++) &#123; int index = target - nums[i]; if (check.containsKey(index)) &#123; position[0] = check.get(index); position[1] = i; return position; &#125; else &#123; check.put(nums[i], i); &#125; &#125; return position;&#125; ç›¸å…³ä»£ç æ¬¢è¿Žå¤§å®¶å…³æ³¨å¹¶æå‡ºæ”¹è¿›çš„å»ºè®®]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ä¸ƒç‰›å›¾åºŠå›¾ç‰‡è½¬ç§»]]></title>
      <url>%2F2018%2F11%2F19%2FqiniuImage%2F</url>
      <content type="text"><![CDATA[ä¸ƒç‰›å›¾åºŠå›¾ç‰‡è½¬ç§» ç¦»èŒåŠ å››å¤„æµªçš„çš„æˆ‘ç»ˆäºŽåˆå¼€å§‹å·¥ä½œäº†,è¿˜æ˜¯æµªçš„å¼€å¿ƒå•Š å‰ä¸¤å¤©æ•´ç†åšå®¢çš„æ—¶å€™å‘çŽ°,å­˜åœ¨ä¸ƒç‰›å›¾åºŠçš„å›¾ç‰‡â€¦åŸºæœ¬éƒ½æŒ‚äº†,æƒ³åˆ°äº†å‰æ®µæ—¶é—´ä¸€ç›´æŽ¥å—çš„ä¸ƒç‰›æç¤ºæµ‹è¯•åŸŸååˆ°æœŸçš„äº‹æƒ…â€¦å½“æˆ‘å¼€å§‹ä¸Šç­æ•´ç†çš„æ—¶å€™å‘çŽ°,éƒ½æŒ‚äº†â€¦è¾—è½¬å‡ å¤©,æŠŠå›¾ç‰‡éƒ½è½¬ç§»åˆ°é˜¿é‡ŒOSSä¸­.(å…³äºŽä¸ƒç‰›å°æµ‹è¯•åŸŸåçš„äº‹æƒ…,ä¸€è¨€éš¾å°½,ç”¨åˆ«äººæä¾›çš„æ–¹ä¾¿,ä¹Ÿåˆ«ç»™åˆ«äººå¸¦æ¥éº»çƒ¦ä¸æ˜¯.) å¦‚ä½•è½¬ç§»è½¬ç§»çš„ä¸»è¦é—®é¢˜æ˜¯å½“æµ‹è¯•åŸŸåè¿‡æœŸåŽ,å½“å‰ç©ºé—´ä¸‹çš„å›¾ç‰‡æ— æ³•è®¿é—®ä¹Ÿæ— æ³•é¢„è§ˆ.å¦‚æžœåˆä¸€ä¸ªå¤‡æ¡ˆè¿‡çš„åŸŸåå€’æ˜¯å¾ˆå®¹æ˜“è§£å†³,ä¸è¿‡ä¸€èˆ¬è°é—²ç€æ²¡äº‹åŽ»åšå…¬å®‰çš„åŸŸåå¤‡æ¡ˆä¸æ˜¯.åªèƒ½é€šè¿‡ä¸ƒç‰›æä¾›çš„qshellè¿›è¡Œå¤‡ä»½å’Œè½¬ç§». è½¬ç§»æ­¥éª¤ æ–°å»ºå‚¨å­˜ç©ºé—´ åœ¨ä¸ƒç‰›ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„å‚¨å­˜ç©ºé—´,å‘½åä¸ºbackup(å½“ç„¶ä»€ä¹ˆåå­—éƒ½å¥½) æ“ä½œqshell ä¸‹è½½qshell(è¿™ä¸ªæ˜¯ä¸ƒç‰›æä¾›çš„shellå·¥å…·) 12345678# AccessKey/SecretKey éœ€è¦åœ¨ä¸ªäººä¸­å¿ƒ-&gt;å¯†é’¥ç®¡ç†ä¸­æŸ¥çœ‹,Nameä¸ºå½“å‰éœ€è¦å¤‡ä»½çš„ç©ºé—´(æˆ‘ä¹Ÿä¸çŸ¥é“æä¾›è¿™ä¸ªæ˜¯ä¸ªä»€ä¹ˆé€»è¾‘)./qshell account [&lt;AccessKey&gt; &lt;SecretKey&gt; &lt;Name&gt;]# oldNameä¸ºéœ€è¦å¤‡ä»½çš„ç©ºé—´å./qshell_darwin_x64 listbucket &lt;oldName&gt; -o list.txt#èŽ·å–æ‰€ä»¥æ–‡ä»¶åcat list.txt | awk -F &apos;\t&apos; &apos;&#123;print $1&#125;&apos; &gt; list_final.txt# å°†oldNameç©ºé—´ä¸­çš„æ–‡ä»¶è½¬ç§»åˆ°newName(backup)ç©ºé—´ä¸­./qshell batchcopy &lt;oldName&gt; &lt;newName&gt; -i list_final.txt ä¸‹è½½å›¾ç‰‡ å¯ä»¥é€šè¿‡qshellä¸­çš„qdownloadæ–¹æ³•æ¥ä¸‹è½½,ä¸è¿‡å¹¶ä¸åœ¨å…è´¹æµé‡ä¸‹è½½ä¸­,å½“ç„¶å¦‚æžœå›¾ç‰‡é‡æ¯”è¾ƒå°çš„è¯å¯ä»¥ç›´æŽ¥ä¸‹è½½. å¦‚æžœå›¾ç‰‡é‡è¿‡å¤§çš„è¯,å¯ä»¥æŸ¥çœ‹å®˜æ–¹å…æµé‡é…ç½®æ–‡æ¡£. é‡æ–°ä¸Šä¼  å› ä¸ºå¹³æ—¶ä½¿ç”¨çš„æ˜¯æžç®€å›¾åºŠ,æ‰€ä»¥æœ€åŽæˆ‘ä½¿ç”¨çš„æ˜¯é˜¿é‡ŒOSS.ä¸Šä¼ çš„æ–¹æ³•ä¹Ÿå¯ä»¥é€šè¿‡ç»ˆç«¯,æˆ–è€…ç›´æŽ¥ç½‘é¡µä¸­æ‰¹é‡ä¸Šä¼ ä¹Ÿå¯. å†™åœ¨æœ€åŽ è™½ç„¶å¹³æ—¶çš„ä¸œè¥¿éƒ½æ¯”è¾ƒæ°´,æœ€åŽè¿˜æ˜¯å¸Œæœ›æ‰¾åˆ°ç‚¹çŠ¶æ€,å¤šç»™è‡ªå·±ç•™ç‚¹ä¸œè¥¿.]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Androidè‡ªå®šä¹‰viewä¹‹emojié”®ç›˜]]></title>
      <url>%2F2018%2F05%2F05%2FAndroid%E8%87%AA%E5%AE%9A%E4%B9%89view%E4%B9%8Bemoji%E9%94%AE%E7%9B%98%2F</url>
      <content type="text"><![CDATA[ä¸»è¦è¿˜æ˜¯æœ€è¿‘åšäº†ä¸€ä¸ªemojié”®ç›˜çš„éœ€æ±‚,æ„Ÿè§‰å¯ä»¥ç®€å•å°è£…ä¸€ä¸‹é¡ºä¾¿æ•´ç†ä¸‹emojiç›¸å…³çš„çŸ¥è¯† Androidä¸­çš„ emojiæœ‰å…³Androidä¸­emojiçš„æ–‡ç« æœ‰å¾ˆå¤šäº†,æˆ‘å°±ä¸ç®€å•ç½—åˆ—ç›¸å…³å†…å®¹äº†,åœ¨è¿™è®°å½•ä¸€ä¸‹å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›å‘â€¦ é¦–å…ˆæ˜¯TextViewé¦–æ¬¡ç»˜åˆ¶ä¸­emojiçš„é¢œè‰²ä¼šåæµ…,å®˜æ–¹çš„demoä¸­ä¾ç„¶å­˜åœ¨è¿™ç§é—®é¢˜â€¦ (è¯¦æƒ…å¯ä»¥å‚è€ƒhttps://github.com/googlesamples/android-EmojiCompat) ,ä¸Šå›¾ä¸­å¯ä»¥çœ‹åˆ°å…¶ä¸­ä¸¤ä¸ªTextviewçš„emojié¢œè‰²åæµ…,ä½†æ˜¯EditViewä¸­å°±ä¸ä¼šå‡ºçŽ°è¿™ä¸ªé—®é¢˜â€¦ è§£å†³æ–¹æ³•çš„è¯æš‚æ—¶æœ‰ä¸¤ç§,ä¸€æ˜¯é’ˆå¯¹ä¸èƒ½å¼•å…¥EmojiCompatçš„é¡¹ç›®,å¯ä»¥è€ƒè™‘é’ˆå¯¹textviewå¤šæ¬¡ç»˜åˆ¶,ä½†æ˜¯å¯¹æ­¤Textviewè®¾ç½®backgroundçš„æ—¶å€™ä¼šå¤±æ•ˆâ€¦äºŒæ˜¯å¯ä»¥é’ˆå¯¹å¯ä»¥å¼•å…¥EmojiCompatçš„é¡¹ç›®,ä½†æ˜¯ç®€å•çš„ç›´æŽ¥è®¾ç½®EmojiCompatä»ç„¶ä¸å¥½ç”¨â€¦é€šè¿‡è‡ªå®šä¹‰Viewå³demoä¸­çš„Custom TextViewå³åˆ»è§£å†³è¿™ä¸ªé—®é¢˜ åŽŸç”Ÿemojiçš„é€‚é…é—®é¢˜ ä¸åŒç‰ˆæœ¬çš„ç³»ç»Ÿä¸­é€‚é…çš„emojiæ˜¯ä¸åŒçš„,ä¸€èˆ¬æ¥è¯´é«˜ç‰ˆæœ¬å…¼å®¹ä½Žç‰ˆæœ¬çš„emoji. å¦ä¸€ä¸ªå°±æ˜¯å›½äº§romçš„é—®é¢˜,éƒ¨åˆ†romä¸­ä¼šå°†androidçš„emojiå›¾æ ‡æ›¿æ¢æˆiosçš„emoji.ä¼šç»™äººä¸€ç§ä¹Ÿæ²¡ä»€ä¹ˆå·®åˆ«çš„é”™è§‰â€¦ä½†æ˜¯,å¥½æ­¹éƒ½é€‚é…äº†å•Š,éƒ¨åˆ†å›¾æ ‡è¿˜æ˜¯androidçš„emojié£Žæ ¼,å°±å¾ˆè¿· emojiçš„å¤§å°é—®é¢˜ emojiçš„å¤§å°â€¦æ˜¯è·ŸéšTextViewçš„textSize,æ‰€ä»¥è¦æƒ³è°ƒæ•´emojiçš„å¤§å°,éœ€è¦æ›´æ”¹textViewçš„textSizeå€¼. EditTextçš„åˆ é™¤é—®é¢˜ é”®ç›˜å˜›,éœ€è¦å¯¹editTextè¿›è¡Œæ“ä½œ,å…¶ä¸­å°±åŒ…æ‹¬äº†åˆ é™¤çš„æ“ä½œ,ç„¶è€Œ,emojiæœ‰çš„å ä¸¤ä¸ªå­—èŠ‚,æœ‰çš„å ä¸€ä¸ªè‡ªå·±.æ‰€ä»¥å†åˆ é™¤çš„æ—¶å€™éœ€è¦éªŒè¯å†…å®¹å†åˆ é™¤å¯¹åº”çš„å­—èŠ‚ ç®€å•æ¥è¯´,åŠæ—¶æ›´æ–°è®¾å¤‡æˆ–è€…å¼€å‘å·¥å…·çš„è¯emojiå±•ç¤ºå¹¶ä¸æ˜¯ä»€ä¹ˆé—®é¢˜,æ„¿æœ›æ˜¯ç¾Žå¥½çš„,çŽ°å®žå´æ€»æ˜¯ä¸è¿›å¦‚äººæ„.(åªæœ‰æˆ‘è§‰å¾—Androidçš„æžœå†»äººemojiçœ‹ç€è¿˜å¯ä»¥ä¹ˆâ€¦) Emojié”®ç›˜å…ˆå±•ç¤ºæ•ˆæžœå›¾, ä¸€ä¸ªemojié”®ç›˜çš„ä¸»è¦åŠŸèƒ½éƒ½å®žçŽ°äº†,åŒ…æ‹¬äº†emojiçš„è¾“å…¥åŠåˆ é™¤,å¤šä¸ªemojiæ ‡ç­¾é¡µä¹‹é—´çš„åˆ‡æ¢åŠåº•éƒ¨æ»‘åŠ¨æŒ‡ç¤ºå™¨çš„æ›´æ”¹.éœ€è¦å±•ç¤ºåº•éƒ¨æ ‡ç­¾é¡µè¶…è¿‡å±å¹•èŒƒå›´çš„æ•ˆæžœ,æ‰€ä»¥å±•ç¤ºçš„éƒ¨åˆ†æ•°æ®æ˜¯é‡å¤çš„. è®¾è®¡è¿‡ç¨‹ æœ€åˆçš„è®¾è®¡ä¸­æ˜¯æ²¡æœ‰åº•éƒ¨å¤šä¸ªemojiæ ‡ç­¾é¡µçš„,æ„Ÿè§‰åŠŸèƒ½æœ‰ç‚¹å•è–„,æ‰€ä»¥åŽæœŸåŠ å…¥äº†åº•éƒ¨è¿‡ä¸ªitemåˆ‡æ¢çš„åŠŸèƒ½ æ•´ä¸ªViewè®¾è®¡å¦‚ä¸‹, emojiå±•ç¤ºä¸Žé€‰æ‹©åŒºåŸŸ: ä¸»è¦æ˜¯ç”¨äºŽå±•ç¤ºemojiçš„å†…å®¹,è¿™é‡Œä½¿ç”¨äº†ViewPager,åœ¨åˆå§‹åŒ–çš„æ—¶å€™ä¼šå¯¹emojiå±•ç¤ºåˆ—è¡¨è¿›è¡Œè®¡ç®—,æœ€ç»ˆå¡«å……åˆ°ViewPagerä¸­.å¯¹äºŽæ•´ä¸ªViewæ¥è¯´,åœ¨åˆå§‹åŒ–ViewPagerçš„Adapterçš„æ—¶å€™å°±å°†æ‰€æœ‰çš„emojiå¡«å…¥,åœ¨æ»‘åŠ¨æˆ–è€…é€‰æ‹©åº•éƒ¨itemçš„æ—¶å€™ä¼šæ ¹æ®åˆå§‹åŒ–ä¸­è®¡ç®—å¥½çš„å„ä¸ªé¡µé¢çš„å±•ç¤ºä¿¡æ¯æŽ§åˆ¶æŒ‡ç¤ºå™¨åŠåº•éƒ¨item. ViewPagerçš„æŒ‡ç¤ºå™¨: å®žé™…ä¸Šæ˜¯ä¸€ä¸ªLinearLayout,æ ¹æ®è®¾ç½®å±•ç¤ºå¯¹åº”çš„æ•°é‡åŠä½ç½®,æ­¤å¤„å±•ç¤ºçš„æ˜¯å½“å‰itemçš„ç›¸å…³æŒ‡ç¤ºå™¨,å½“é€‰æ‹©æ–°çš„itemæˆ–è€…æ»‘åŠ¨åˆ°æ–°çš„itemåŽ,æŒ‡ç¤ºå™¨çš„æ•°é‡ä¼šè¿›è¡Œæ›´æ–°,è€Œå½“ä¸Šé¢çš„ViewPageræ»‘åŠ¨å´æ²¡æœ‰åˆ‡æ¢åˆ°æ–°çš„itemçš„æ—¶å€™åªæ˜¯æ›´æ–°æŒ‡ç¤ºå™¨æŒ‡ç¤ºçš„å†…å®¹. emojiæ ‡ç­¾éƒ¨åˆ†: ä½¿ç”¨äº†ä¸€ä¸ªRecycleView,æ˜¯å› ä¸ºå½“æ ‡ç­¾æ¯”è¾ƒå¤šæ—¶å€™æ»‘åŠ¨æ•ˆæžœå’Œå®šä½å±•ç¤ºæ¯”è¾ƒæ–¹ä¾¿. è®¾è®¡ç¼ºé™· æš‚åªæ”¯æŒemojié€‰æ‹©,ä¸èƒ½æä¾›è‡ªå®šä¹‰å›¾ç‰‡è¾“å…¥(æ„Ÿè§‰æ›´æ”¹å®Œäº†å°±ä¸åªæ˜¯emojiè¾“å…¥å™¨äº†,ä¸‹ä¸ªå°±åšè¿™ä¸ªäº†) åº•éƒ¨æŒ‡ç¤ºå™¨çŽ°åœ¨æ›´æ–°çš„è¿‡ç¨‹ä¸­æ˜¯å…¨éƒ¨ç§»é™¤viewå†æ ¹æ®æ–°å‚æ•°è®¾ç½®æ–°viewæ²¡æœ‰åŠ¨ç”»æ•ˆæžœ åº•éƒ¨emojiæ ‡ç­¾é¡µå†å½“é€‰æ‹©çš„itemæ‰‹åŠ¨æ»‘åŠ¨è¶…å‡ºå±å¹•æ˜¾ç¤ºå¤–åŽ,å†æ¬¡æ»‘åŠ¨é¡¶éƒ¨ViewPageré¡µé¢,åº•éƒ¨itemå¤ä½åŠ¨ç”»æœ‰ç‚¹åƒµ,ä»æœ‰ä¼˜åŒ–çš„ä½™åœ° ä»£ç å®žçŽ° emojiå±•ç¤ºä¸Žé€‰æ‹©åŒºåŸŸ: ä¸»è¦æ˜¯é’ˆå¯¹é¡¶éƒ¨ViewPagerçš„Adapterå¤„ç† EditTextæ–‡æœ¬æŽ§åˆ¶ å†å°†EditTextç»‘å®šåˆ°viewä¸­åŽ,å¯¹viewè¿›è¡Œæ“ä½œåŽä¼šæ›´æ”¹EditTextçš„å†…å®¹ éœ€è¦æ³¨æ„çš„æ˜¯å†åˆ é™¤çš„æ—¶å€™æ˜¯è¦å…ˆéªŒè¯åŽä¸¤ä½æ˜¯å¦æ˜¯ä¸€ä¸ªå®Œæ•´emoji,å¦‚æžœæ˜¯åˆ™åˆ é™¤åŽä¸¤ä¸ªå­—èŠ‚,åä¹‹åˆ™åªåˆ é™¤ä¸€ä¸ªå­—èŠ‚. åº•éƒ¨æ ‡ç­¾é¡µæŒ‡ç¤ºå™¨ ç®€å•çš„ä¸€ä¸ªLinearLayoutæ¥å±•ç¤ºæŒ‡ç¤ºå™¨,æ²¡æœ‰åˆ‡æ¢çš„åŠ¨ç”»æ•ˆæžœ,å¯ä»¥ä¼˜åŒ–ä¸€æ³¢. åº•éƒ¨æ ‡ç­¾é€‰æ‹©å™¨ é€šè¿‡ä¸€ä¸ªRecycleViewæ¥å®žçŽ°çš„åº•éƒ¨æ ‡ç­¾é€‰æ‹©å™¨ ç›‘å¬ViewPageræ»‘åŠ¨åŠåº•éƒ¨æ ‡ç­¾é€‰æ‹© æ·»åŠ ViewPagerçš„addOnPageChangeListeneræ–¹æ³•æ¥ç›‘å¬æ»‘åŠ¨åŠåº•éƒ¨æ ‡ç­¾é€‰æ‹©çš„ç‚¹å‡»å›žè°ƒ ç›¸å…³ä»£ç å¯ä»¥è®¿é—®æˆ‘çš„GitHubæ¥èŽ·å–,æ¬¢è¿Žå¤§å®¶startæˆ–è€…æä¾›å»ºè®®.]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Androidè‡ªå®šä¹‰Viewä¹‹æ˜Ÿçƒè¿åŠ¨]]></title>
      <url>%2F2018%2F02%2F25%2Fandroid%E8%87%AA%E5%AE%9A%E4%B9%89View%E4%B9%8B%E6%98%9F%E7%90%83%E8%BF%90%E5%8A%A8%2F</url>
      <content type="text"><![CDATA[Androidè‡ªå®šä¹‰View æ˜Ÿçƒè¿åŠ¨ åœ¨dribbbleé—²é€›çš„æ—¶å€™å‘çŽ°çš„ä¸€ä¸ªæœ‰æ„æ€çš„æ˜Ÿçƒè¿åŠ¨çš„åŠ¨ç”»,åˆšå¥½æœ€è¿‘æ—¶é—´å°šå¯,å°±ç®€å•å®žçŽ°äº†ä¸€ä¸‹ä¸­é—´è¿åŠ¨çš„éƒ¨åˆ†,åˆæ˜¯å› ä¸ºæ—¶é—´çš„åŽŸå› ,å¼€å¤´ä½ç§»çš„éƒ¨åˆ†æ²¡æœ‰å®Œæˆ. è¿™æ˜¯åœ¨dribbbleä¸­å‘çŽ°çš„åŠ¨ç”» è¿™æ˜¯æˆ‘è‡ªå·±å®žçŽ°çš„æ•ˆæžœâ€¦ æ€»è§‰å¾—æˆ‘è¿™ä¸ªæ˜Ÿçƒæœ‰ç‚¹èƒ–â€¦ å› ä¸ºèƒ–æ‰€ä»¥è½¬çš„æ…¢ä¹ˆè¿™æ˜¯.é€Ÿåº¦ç­‰ç»†èŠ‚è¿˜æœ‰ä¼˜åŒ–çš„ä½™åœ° è®¾è®¡è¿‡ç¨‹è€åŠžæ³•,å…ˆåˆ†è§£åŠ¨ç”»çš„æž„æˆ.æ•´ä¸ªåŠ¨ç”»å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªè‡ªæ—‹çš„æ˜Ÿçƒä»Žå³ä¸Šè§’ç”±å°å˜å¤§çš„ç§»åŠ¨åˆ°å±å¹•çš„ä¸­å¤®çš„. æ˜Ÿçƒçš„ä½ç§»åŠç¼©æ”¾ä¸è¯´(å…¶å®žæ˜¯æœ€è¿‘æœ‰éœ€æ±‚,æš‚æ—¶æ²¡æ—¶é—´å®Œå–„),ä¸»è¦å®Œå–„äº†æ˜Ÿçƒçš„æ—‹è½¬åŠå°¾éƒ¨çš„å¤„ç†. æœ€åº•å±‚æ˜¯èƒŒæ™¯çš„æ˜Ÿæ˜Ÿé—ªçƒ,æ¯æ¬¡åœ¨æ˜Ÿçƒä¸€å®šèŒƒå›´å†…éšæœºå‡ºçŽ°,å¹¶ç¼©æ”¾å°±å¥½ æœ€å¼€å§‹è®¾è®¡å°¾éƒ¨æ•ˆæžœçš„æ—¶å€™,æ˜¯åœ¨æ²¡åˆ—ä¸­è®¾è®¡äº†ä¸¤ç«¯çº¿.å†ä¸æ–­çš„è¿è¡ŒåŠç§»åŠ¨.ä½†æ˜¯å®žçŽ°èµ·æ¥å¾ˆä¹±.æœ€åŽé‡‡ç”¨äº†å…ˆç»˜åˆ¶æ‰€æœ‰å°¾éƒ¨å±•ç¤ºçš„å†…å®¹,ç„¶åŽåœ¨ç”¨å’ŒèƒŒæ™¯ä¸€æ ·çš„é¢œè‰²éƒ¨åˆ†é®ç›–å¹¶ç§»åŠ¨æ­¤éƒ¨åˆ†å½¢æˆè§†è§‰ä¸Šçš„æ•ˆæžœçš„æ–¹æ³•.(ä¹Ÿå¯ä»¥è®¾ç½®PorterDuffæ¨¡å¼æ¥å±•ç¤º).è®¾è®¡è¿‡ç¨‹ä¸­çš„æ•ˆæžœå¦‚ä¸‹ æ˜Ÿçƒçš„è®¾è®¡,æ˜Ÿçƒçš„æœ¬èº«ä½¿ç”¨ç®€å•çš„é®ç›–å’Œè´å¡žå°”æ›²çº¿å°±èƒ½å®Œæˆä¸€ä¸ªè¾ƒä¸ºæ»¡æ„çš„æ˜ŸçƒèƒŒæ™¯. é‡ç‚¹æ˜¯æ˜Ÿçƒåœ°è¡¨çš„è®¾è®¡ä»¥åŠæ˜Ÿçƒè‡ªè½¬ä¸‹çš„åœ°è¡¨æ ·å¼çš„ç§»åŠ¨.è§£å†³çš„æ–¹æ³•æ˜¯æ˜¯å…ˆç»˜åˆ¶ä¸‰ä¸ªé‡å¤å¹¶è¿žç»­çš„åœ°è¡¨æ ·å¼,é€šè¿‡ç§»åŠ¨æ•´ä¸ªåœ°è¡¨æ ·å¼æ¨¡æ‹Ÿæ˜Ÿçƒçš„è½¬åŠ¨.æœ€åŽé€šè¿‡PorterDuffæ¥æŽ§åˆ¶å±•ç¤ºçš„éƒ¨åˆ†å’Œæ˜Ÿçƒçš„ä½ç½®é‡åˆ. æœªå¼€å¯PorterDuffæ¨¡å¼æ—¶ç»˜åˆ¶çš„æ ·å¼å¦‚ä¸‹: å¼€å¯PorterDuffæ¨¡å¼åŽå†æŒ‡å®šä½ç½®å±•ç¤ºæŒ‡å®šå½¢çŠ¶çš„å›¾å½¢å¦‚ä¸‹: æœ€åŽå†ç§»åŠ¨è®¾ç½®å¥½çš„æ˜Ÿçƒåœ°è²Œå°±å¯ä»¥æ¨¡æ‹Ÿå‡ºæ˜Ÿçƒè½¬åŠ¨çš„æ•ˆæžœäº† ä»£ç å®žçŽ°èƒŒæ™¯çš„æ˜Ÿæ˜Ÿ12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061private fun drawStarts(canvas: Canvas, perIndexInAll: Float) &#123; //èƒŒæ™¯çš„æ˜Ÿæ˜Ÿåœ¨æ˜Ÿçƒé™„è¿‘çš„ä¸€å®šèŒƒå›´å†…éšæœºå‡ºçŽ° val maxRand = 800 canvas.translate(-maxRand / 2F , -maxRand / 2F) val Random = Random(perIndexInAll.toInt().toLong()) //ç»˜åˆ¶èƒŒæ™¯çš„æ˜Ÿæ˜Ÿ for (index in 0..4)&#123; drawStart(canvas , Random.nextFloat() * maxRand , Random.nextFloat() * maxRand , perIndex) &#125; canvas.translate(maxRand / 2F , maxRand / 2F)&#125;//ç»˜åˆ¶èƒŒæ™¯çš„æ˜Ÿæ˜Ÿå†…å®¹//ç»˜åˆ¶èƒŒæ™¯çš„æ˜Ÿæ˜Ÿå†…å®¹private fun drawStart(canvas: Canvas, x: Float, y: Float, per: Float) &#123; var per = per //è¿™ä¸ªéƒ¨åˆ†æ˜¯ä¸ºäº†è®©æ˜Ÿæ˜Ÿå®žçŽ°ä»Žå°åˆ°å¤§åŽå†ä»Žå¤§åˆ°å°çš„å˜åŠ¨ if (per &gt;= 1.0F)&#123; per -= 1F &#125; if (per &lt;= 0.5F)&#123; per *= 2 &#125;else&#123; per = (1 - per) * 2 &#125; canvas.save() canvas.translate(x , y) canvas.scale(per , per) val paint = Paint() paint.color = 0xff78D8DF.toInt() val startLength = 30F val startOffset = startLength / 3F //é€šè¿‡è·¯å¾„æç»˜æ˜Ÿæ˜Ÿçš„å½¢çŠ¶ val path = Path() path.moveTo(0F , startLength) path.lineTo(startOffset , startOffset ) path.lineTo(startLength , 0F) path.lineTo(startOffset , -startOffset ) path.lineTo(0F , -startLength) path.lineTo(-startOffset , -startOffset ) path.lineTo(-startLength , 0F) path.lineTo(-startOffset , startOffset ) path.lineTo(0F , startLength) canvas.drawPath(path , paint) paint.color = viewBackgroundColor //é€šè¿‡ç¼©å°ç»˜åˆ¶æ˜Ÿæ˜Ÿå†…éƒ¨å½¢çŠ¶ canvas.scale(0.3F , 0.3F) canvas.drawPath(path , paint) canvas.restore()&#125; æ˜Ÿçƒå¤–éƒ¨1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586private fun drawGas(canvas: Canvas, index: Float) &#123; canvas.save() canvas.rotate(45F) val gasWidth = 18F val baseR = baseR * 0.7F val absBaseR = baseR / 5F val paint = Paint() paint.strokeWidth = gasWidth paint.style = Paint.Style.STROKE paint.color = 0xff2F3768.toInt() val paintArc = Paint() paintArc.color = 0xff2F3768.toInt() val gasLength = baseR * 2F canvas.save() val gsaL = gasWidth / 2F * 3 var maxGasLength = (gasLength + gsaL ) / 2 var index = index canvas.scale(1F , -1F) //ç»˜åˆ¶æ˜ŸçƒåŽé¢çš„æ°”æµæƒ…å†µ //èˆä¸å¾—é‚£ä¹ˆå¤šå®šä¹‰å¥½çš„å˜é‡ //åˆä¸æƒ³å†™ä¸ªå‚æ•°å¾ˆå¤šçš„å‡½æ•°,å°±è¿™ä¹ˆå®žçŽ°äº† canvas.save() canvas.translate(baseR , baseR * 1.2F) canvas.translate(0F , absBaseR) //drawLineså‡½æ•°ä¸€ä¸ªç»˜åˆ¶ä¸¤å¤´å¸¦åŠåœ†çš„çº¿æ®µ drawLines(0F, maxGasLength, canvas, paint) drawWhite( maxGasLength * index, gasWidth , gsaL * 2 , canvas) drawWhite( maxGasLength * (index - 1 ) * 1.1F, gasWidth , gsaL * 2 , canvas) drawWhite( maxGasLength * (index + 1 ) * 1.1F, gasWidth , gsaL * 2 , canvas) canvas.restore() index = index + 0.3F //.....æ²¡æœ‰å†™å‡½æ•°å°±ä¸ä¸Šé‡å¤çš„ä»£ç äº† val rectf = RectF(-baseR , -baseR , baseR ,baseR) canvas.drawArc(rectf , 0F , 180F , false , paint) canvas.drawLine(baseR ,0F , baseR , -baseR, paint) canvas.drawLine(-baseR ,0F , -baseR , -baseR, paint) canvas.restore()&#125;//ç»˜åˆ¶å°¾éƒ¨ç©ºç™½éƒ¨åˆ†private fun drawWhite(offset: Float, gasWidth: Float, gsaL : Float , canvas: Canvas) &#123; val r = gasWidth / 2F canvas.save() canvas.translate( 0F , offset - 2 * gsaL ) val pointPaint = Paint() pointPaint.strokeWidth = 20F pointPaint.color = Color.RED //é€šè¿‡è´å¡žå°”æ›²çº¿ç»˜åˆ¶åŠåœ†æ•ˆæžœ val path = Path() path.moveTo(-r , gsaL) path.cubicTo( - r * C , gsaL - r, r * C , gsaL - r, r , gsaL ) path.lineTo(r , - gsaL) path.cubicTo( r * C , - gsaL + r, -r * C , - gsaL + r, -r , - gsaL ) path.lineTo(-r , gsaL * 1.5F) val paint = Paint() paint.color = viewBackgroundColor canvas.drawPath(path , paint) canvas.restore()&#125; æ˜Ÿçƒ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128private fun drawPlanet(canvas: Canvas , index : Float) &#123; //è®¾ç½®åŽŸå›¾å±‚ val srcB = makeSrc(index) //è®¾ç½®é®ç½©å±‚ //é®ç½©å±‚åªæœ‰ä¸€å’Œæ˜Ÿçƒå¤§å°ä¸€æ ·çš„åœ† val dstB = makeDst(index) val paint = Paint() canvas.saveLayer(-baseR, -baseR, baseR , baseR, null, Canvas.ALL_SAVE_FLAG) //ç»˜åˆ¶é®ç½©å±‚ canvas.drawBitmap(dstB, -baseR / 2F, -baseR / 2F , paint) //è®¾ç½®é®ç½©æ¨¡å¼ä¸ºSRC_INæ˜¾ç¤ºåŽŸå›¾å±‚ä¸­åŽŸå›¾å±‚ä¸Žé®ç½©å±‚ç›¸äº¤éƒ¨åˆ† paint.xfermode = PorterDuffXfermode(PorterDuff.Mode.SRC_IN) canvas.drawBitmap(srcB, width / -2F, height / -2F , paint) paint.xfermode = null&#125;//è®¾ç½®æºå›¾å±‚fun makeSrc(index :Float): Bitmap &#123; val bm = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888) val canvas = Canvas(bm) canvas.translate(width.toFloat() / 2F , height.toFloat() / 2F) val paint = Paint() paint.color = 0xff57BEC6.toInt() paint.style = Paint.Style.FILL val rectf = RectF(-baseR / 2F, -baseR / 2F, baseR / 2F, baseR / 2F) canvas.drawArc(rectf , 0F , 360F , true , paint) canvas.save() //ç»˜åˆ¶æ˜ŸçƒèƒŒæ™¯ paint.color = 0xff78D7DE.toInt() var baseR = baseR * 0.9.toFloat() val rectf2 = RectF(-baseR / 2F, -baseR / 2F, baseR / 2F, baseR / 2F) canvas.translate(baseR / 6F , baseR / 6F) canvas.drawArc(rectf2 , 0F , 360F , true , paint) canvas.restore() canvas.rotate(-45F) canvas.save() val bottomBaseR = baseR / 0.9F / 2 val path = Path() path.moveTo(-bottomBaseR , 0F) path.cubicTo(-bottomBaseR , bottomBaseR * 2, bottomBaseR , bottomBaseR * 2, bottomBaseR , 0F) path.cubicTo( bottomBaseR * C,bottomBaseR , -bottomBaseR * C,bottomBaseR , -bottomBaseR , 0F ) //ç»˜åˆ¶æ˜ŸçƒèƒŒæ™¯çš„é˜´å½±æ•ˆæžœ paint.color = 0xffAAEEF2.toInt() paint.style = Paint.Style.FILL canvas.drawPath(path , paint) //ç»˜åˆ¶æ˜Ÿçƒçš„åœ°è²Œ drawPoints(index , canvas) canvas.restore() paint.strokeWidth = 30F paint.color = 0xff2F3768.toInt() paint.style = Paint.Style.STROKE canvas.drawArc(rectf , 0F , 360F , true , paint) return bm&#125;private fun drawPoints(index: Float, canvas: Canvas) &#123; val paintB = Paint() val paintS = Paint() paintS.style = Paint.Style.FILL paintS.color = 0xffE7F2FB.toInt() paintB.style = Paint.Style.FILL paintB.color = 0xff2F3768.toInt() val baseRB = baseR / 2F / 3 val baseRS = baseR / 2F / 3 / 3 val rectfB = RectF(-baseRB, -baseRB, baseRB, baseRB) val rectfS = RectF(-baseRS, -baseRS, baseRS, baseRS) val pointPaint = Paint() pointPaint.color = Color.BLACK pointPaint.strokeWidth = 50F val coverWidth = baseR //é€šè¿‡ç§»åŠ¨åæ ‡åŽŸç‚¹æ¨¡æ‹Ÿæ˜Ÿçƒçš„è‡ªè½¬æ•ˆæžœ canvas.translate(-coverWidth / 2F , coverWidth * 1.5F) val index = index canvas.translate(0F , coverWidth * index ) //é‡å¤ç»˜åˆ¶ä¸‰æ¬¡æ˜Ÿçƒçš„åœ°è²Œä½¿å¾—æ˜Ÿçƒçš„è‡ªè½¬æ— ç¼è¿žæŽ¥ for (i in 0..2)&#123; canvas.save() canvas.translate(coverWidth / 3F / 2 , -coverWidth / 3F * 2) canvas.drawArc(rectfB , 0F , 360F , true , paintB) canvas.drawArc(rectfS , 0F , 360F , true , paintS) canvas.restore() canvas.save() canvas.translate(coverWidth / 3F *2 , -coverWidth / 3F) canvas.drawArc(rectfB , 0F , 360F , true , paintB) canvas.drawArc(rectfS , 0F , 360F , true , paintS) canvas.restore() canvas.save() canvas.translate(coverWidth / 3F *2 , -coverWidth / 8F * 7 + -coverWidth / 10F ) canvas.drawArc(rectfS , 0F , 360F , true , paintB) canvas.restore() canvas.save() canvas.translate(coverWidth / 3F *2 , -coverWidth / 8F * 7 - -coverWidth / 10F ) canvas.drawArc(rectfS , 0F , 360F , true , paintB) canvas.restore() canvas.translate(0F , -coverWidth) &#125; &#125; ç›¸å…³ä»£ç å¯ä»¥è®¿é—®æˆ‘çš„GitHubæ¥èŽ·å–,æ¬¢è¿Žå¤§å®¶startæˆ–è€…æä¾›å»ºè®®.]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Android è‡ªå®šä¹‰è´å¡žå°”æ›²çº¿å·¥å…·]]></title>
      <url>%2F2018%2F01%2F26%2F%E8%B4%9D%E5%A1%9E%E5%B0%94%E6%9B%B2%E7%BA%BF%2F</url>
      <content type="text"><![CDATA[Android è‡ªå®šä¹‰è´å¡žå°”æ›²çº¿å·¥å…· ä¹‹å‰åœ¨å­¦ä¹ è´å¡žå°”æ›²çº¿çš„ç›¸å…³å†…å®¹,åœ¨æŸ¥æ‰¾ç›¸å…³èµ„æ–™çš„æ—¶å€™å‘çŽ°ç½‘ä¸Šçš„èµ„æ–™é‡å¤çš„å¤ªå¤šäº†,è€Œä¸”å› ä¸ºandroidçš„canvasåªæä¾›äº†quadTo,cubicToä¸¤ç§æ–¹æ³•æ¥ç»˜åˆ¶äºŒé˜¶å’Œä¸‰é˜¶çš„è´å¡žå°”æ›²çº¿.åœ¨çº¿çš„è´å¡žå°”æ›²çº¿ç»˜åˆ¶ç½‘ç«™ä¹Ÿå¾ˆå°‘,(åœ¨è¿™æä¾›ä¸€ä¸ªåœ¨çº¿è´å¡žå°”æ›²çº¿çš„ç½‘ç«™,æ ¹æ®ç½‘ä¸Šçš„èµ„æ–™æ•´ç†çš„),è€Œåœ¨androidæ‰‹æœºä¸­ç¼ºæ²¡æœ‰ç±»ä¼¼çš„å·¥å…·,åœ¨è®¾è®¡æˆ–è€…ä½¿ç”¨è´å¡žå°”æ›²çº¿çš„æ—¶å€™å¢žåŠ äº†å¾ˆå¤šçš„å·¥ä½œ,åˆšå¥½åœ¨å­¦ä¹ ç›¸å…³çš„çŸ¥è¯†,å°±åšäº†ä¸€ä¸ªè¾ƒä¸ºå®Œå–„çš„androidç«¯çš„è´å¡žå°”æ›²çº¿å·¥å…·. è´å¡žå°”æ›²çº¿åŸºæœ¬çš„è´å¡žå°”æ›²çº¿çš„çŸ¥è¯†å°±ä¸å¤šè¯´äº†,æœ‰å…´è¶£çš„å¯ä»¥å‚è€ƒä¸‹æˆ‘ä¹‹åŽä¼šå®Œæˆçš„è´å¡žå°”æ›²çº¿çš„è®°å½• å…¶å®žç†è§£è´å¡žå°”æ›²çº¿ååˆ†å®¹æ˜“,å¯ä»¥å°†å…¶ç†è§£ä¸ºä¸€ç§é€’å½’çš„å½¢å¼.æ ¹æ®æ¯”ä¾‹ç³»æ•°è®¡ç®—å½“å‰çº¿æ®µä¸­çš„ç‚¹,å¾—åˆ°æ‰€æœ‰ç‚¹ä¹‹åŽå†æŒ‰ç…§é¡ºåºè¿žæŽ¥çº¿æ®µ,é‡å¤ä»¥ä¸Šæ­¥éª¤,ç›´è‡³åªå‰©ä¸‹ä¸€ä¸ªç‚¹,æ­¤ç‚¹å°±åœ¨è´å¡žå°”æ›²çº¿ä¸­,è®¡ç®—å„ä¸ªæ¯”ä¾‹ç³»æ•°ä¸‹çš„ç‚¹,è¿™äº›ç‚¹çš„é›†åˆå°±æ˜¯è´å¡žå°”æ›²çº¿. åŸºæœ¬åŠŸèƒ½ç»˜åˆ¶å¸¸è§çš„è´å¡žå°”æ›²çº¿å¯ä»¥ç»˜åˆ¶å¸¸è§çš„äºŒé˜¶,ä¸‰é˜¶è´å¡žå°”æ›²çº¿ ç»˜åˆ¶å¤šé˜¶çš„è´å¡žå°”æ›²çº¿å¯ä»¥ç»˜åˆ¶ä¸å¸¸è§çš„è´å¡žå°”æ›²çº¿ å¼€å¯/å…³é—­è¾…åŠ©çº¿å¯ä»¥å¼€å¯ä¸åŒé¢œè‰²å±‚çº§çš„è¾…åŠ©çº¿æ®µ ç»˜åˆ¶æ— ä¸Šé™åˆ¶çš„è´å¡žå°”æ›²çº¿çªç ´15ä¸ªå…³é”®ç‚¹çš„é™åˆ¶ ç»˜åˆ¶æ— ä¸Šé™(è™½ç„¶ç”¨å¤„ä¸å¤§ ä½†æ˜¯å¼€å¯è¾…åŠ©çº¿åŽâ€¦è¿·ä¹‹å¥½çŽ©) å¾®è°ƒå…³é”®ç‚¹ç»˜åˆ¶æ–°çš„è´å¡žå°”æ›²çº¿å¾®è°ƒå…³é”®ç‚¹æ¥ç»˜åˆ¶æ–°çš„è´å¡žå°”æ›²çº¿ è®¾ç½®è´å¡žå°”æ›²çº¿çš„ç»˜åˆ¶æ—¶é—´è®¾ç½®è´å¡žå°”æ›²çº¿çš„ç»˜åˆ¶æ—¶é—´,ç»˜åˆ¶æ—¶é—´è¶Šé•¿è´å¡žå°”æ›²çº¿è¶Šæµç•… è®¾è®¡è¿‡ç¨‹è®¾è®¡äº†ä¸¤ä¸ªè‡ªå®šä¹‰view,å…¶ä¸­ä¸€ä¸ªè‡ªå®šä¹‰viewç”¨äºŽæ”¶é›†å±å¹•çš„è§¦æ‘¸äº‹ä»¶,å¹¶å±•ç¤ºæ·»åŠ çš„æŽ§åˆ¶ç‚¹å’ŒæŽ§åˆ¶ç‚¹ä¹‹é—´çš„è¿žçº¿,å®žçŽ°é•¿æŒ‰å±å¹•æ‹–åŠ¨ä¸€å®šèŒƒå›´å†…æœ€è¿‘çš„ç‚¹.å¦ä¸€ä¸ªè‡ªå®šä¹‰viewç”¨äºŽæŽ¥æ”¶æŽ§åˆ¶ç‚¹çš„å‚æ•°,å¹¶æ ¹æ®æŽ§åˆ¶ç‚¹ç»˜åˆ¶è´å¡žå°”æ›²çº¿åŠè¾…åŠ©ä¿¡æ¯. è´å¡žå°”æ›²çº¿ç»˜åˆ¶å±‚é€šè¿‡é€’å½’çš„æ–¹æ³•,æ¯ä¸€å±‚ä¸­ç»˜åˆ¶å½“å‰æŽ§åˆ¶ç‚¹æŽ§åˆ¶ç‚¹ä¹‹é—´çš„çº¿æ®µ.é™¤äº†ç¬¬ä¸€å±‚çš„æ ·å¼æ˜¯å›ºå®šçš„ä¹‹å¤–,ä¸€å®šé˜¶æ•°ä¸‹çš„è¾…åŠ©çº¿æ®µåŠæŽ§åˆ¶ç‚¹éƒ½å¯ä»¥è¢«æŽ§åˆ¶æ˜¯å¦å±•ç¤º.è€Œå½“å¼€å¯æ— é™åˆ¶æ¨¡å¼çš„æ—¶å€™,å½“å‰ç»˜åˆ¶çš„è´å¡žå°”æ›²çº¿çš„æŽ§åˆ¶ç‚¹æ²¡æœ‰ä¸Šé™,ä½†æ˜¯ä¸ºäº†å±•ç¤ºçš„æ•ˆæžœå½“å‰æ¨¡å¼ä¸‹çš„è¾…åŠ©çº¿æ®µçš„æ ·å¼éƒ½æ˜¯ä¸€è‡´çš„. å±å¹•è§¦æ‘¸äº‹ä»¶ç›‘æµ‹å±‚ç›‘æµ‹å±å¹•çš„ç‚¹å‡»äº‹ä»¶,å¢žåŠ æŽ§åˆ¶ç‚¹,é™¤æ­¤ä¹‹å¤–,åœ¨é•¿æ—¶é—´è§¦æ‘¸å±å¹•åŽè¿˜ä¼šå¼€å¯æ˜¯å¦éœ€è¦ç§»åŠ¨ä¸€å®šèŒƒå›´å†…æœ€è¿‘çš„ç‚¹ç§»åŠ¨åˆ°è§¦ç¢°çš„ä½ç½®çš„ç›‘æµ‹.å¹¶èƒ½æä¾›å½“å‰ç‚¹çš„åˆ—è¡¨ç”¨äºŽè´å¡žå°”æ›²çº¿ç»˜åˆ¶å±‚ç»˜åˆ¶è´å¡žå°”æ›²çº¿ç»˜åˆ¶å±‚æ¥ç»˜åˆ¶è´å¡žå°”æ›²çº¿. ä»£ç å®žçŽ°å±å¹•è§¦æ‘¸äº‹ä»¶ç›‘æµ‹å±‚ä¸»è¦åœ¨äºŽå¯¹å±å¹•çš„è§¦ç¢°äº‹ä»¶çš„ç›‘æµ‹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960override fun onTouchEvent(event: MotionEvent): Boolean &#123; touchX = event.x touchY = event.y when (event.action) &#123; MotionEvent.ACTION_DOWN -&gt; &#123; toFindChageCounts = true findPointChangeIndex = -1 //å¢žåŠ ç‚¹å‰ç‚¹å‡»çš„ç‚¹åˆ°å±å¹•ä¸­ if (controlIndex &lt; maxPoint || isMore == true) &#123; addPoints(BezierCurveView.Point(touchX, touchY)) &#125; invalidate() &#125; MotionEvent.ACTION_MOVE -&gt;&#123; checkLevel++ //åˆ¤æ–­å½“å‰æ˜¯å¦éœ€è¦æ£€æµ‹æ›´æ¢ç‚¹åæ ‡ if (inChangePoint)&#123; //åˆ¤æ–­å½“å‰æ˜¯å¦é•¿æŒ‰ ç”¨äºŽå¼€å§‹æŸ¥æ‰¾é™„ä»¶çš„ç‚¹ if (touchX == lastPoint.x &amp;&amp; touchY == lastPoint.y)&#123; changePoint = true lastPoint.x = -1F lastPoint.y = -1F &#125;else&#123; lastPoint.x = touchX lastPoint.y = touchY &#125; //å¼€å§‹æŸ¥æ‰¾é™„è¿‘çš„ç‚¹ if (changePoint)&#123; if (toFindChageCounts)&#123; findPointChangeIndex = findNearlyPoint(touchX , touchY) &#125; &#125; //åˆ¤æ–­æ˜¯å¦å­˜åœ¨é™„è¿‘çš„ç‚¹ if (findPointChangeIndex == -1)&#123; if (checkLevel &gt; 1)&#123; changePoint = false &#125; &#125;else&#123; //æ›´æ–°é™„è¿‘çš„ç‚¹çš„åæ ‡ å¹¶é‡æ–°ç»˜åˆ¶é¡µé¢å†…å®¹ points[findPointChangeIndex].x = touchX points[findPointChangeIndex].y = touchY toFindChageCounts = false invalidate() &#125; &#125; &#125; MotionEvent.ACTION_UP -&gt;&#123; checkLevel = -1 changePoint = false toFindChageCounts = false &#125; &#125; return true&#125; å…³äºŽæœ€è¿‘çš„ç‚¹çš„æ£€æµ‹,å‹¾è‚¡å®šç†å°±å¯ä»¥å¾—åˆ°äº†.123456789101112131415161718192021//åˆ¤æ–­å½“å‰è§¦ç¢°çš„ç‚¹é™„è¿‘æ˜¯å¦æœ‰ç»˜åˆ¶è¿‡çš„ç‚¹private fun findNearlyPoint(touchX: Float, touchY: Float): Int &#123; Log.d("bsr" , "touchX: $&#123;touchX&#125; , touchY: $&#123;touchY&#125;") var index = -1 var tempLength = 100000F for (i in 0..points.size - 1)&#123; val lengthX = Math.abs(touchX - points[i].x) val lengthY = Math.abs(touchY - points[i].y) val length = Math.sqrt((lengthX * lengthX + lengthY * lengthY).toDouble()).toFloat() if (length &lt; tempLength)&#123; tempLength = length if (tempLength &lt; minLength)&#123; toFindChageCounts = false index = i &#125; &#125; &#125; return index&#125; ç›¸å¯¹æ¥è¯´,ä¸»è¦çš„éš¾ç‚¹æ˜¯å±å¹•çš„è§¦ç¢°æ£€æµ‹,éœ€è¦æŽ§åˆ¶æ—¶é—´å’Œæ˜¯å¦é•¿å®‰åŽæ‰¾åˆ°åˆé€‚çš„ç‚¹ä¹‹åŽçš„ç§»åŠ¨.é™¤æ­¤ä¹‹å¤–å°±æ˜¯ç®€å•çš„æ›´åŠ è§¦ç¢°ç‚¹æ·»åŠ çº¿æ®µå°±å¥½. è´å¡žå°”æ›²çº¿ç»˜åˆ¶å±‚ä¸»è¦çš„è´å¡žå°”æ›²çº¿æ˜¯é€šè¿‡é€’å½’å®žçŽ°çš„1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586//é€šè¿‡é€’å½’æ–¹æ³•ç»˜åˆ¶è´å¡žå°”æ›²çº¿private fun drawBezier(canvas: Canvas, per: Float, points: MutableList&lt;Point&gt;) &#123; val inBase: Boolean //åˆ¤æ–­å½“å‰å±‚çº§æ˜¯å¦éœ€è¦ç»˜åˆ¶çº¿æ®µ if (level == 0 || drawControl)&#123; inBase = true &#125;else&#123; inBase = false &#125; //æ ¹æ®å½“å‰å±‚çº§å’Œæ˜¯å¦ä¸ºæ— é™åˆ¶æ¨¡å¼é€‰æ‹©çº¿æ®µåŠæ–‡å­—çš„é¢œè‰² if (isMore)&#123; linePaint.color = 0x3F000000 textPaint.color = 0x3F000000 &#125;else &#123; linePaint.color = colorSequence[level].toInt() textPaint.color = colorSequence[level].toInt() &#125; //ç§»åŠ¨åˆ°å¼€å§‹çš„ä½ç½® path.moveTo(points[0].x , points[0].y) //å¦‚æžœå½“å‰åªæœ‰ä¸€ä¸ªç‚¹ //æ ¹æ®è´å¡žå°”æ›²çº¿å®šä¹‰å¯ä»¥å¾—çŸ¥æ­¤ç‚¹åœ¨è´å¡žå°”æ›²çº¿ä¸Š //å°†æ­¤ç‚¹æ·»åŠ åˆ°è´å¡žå°”æ›²çº¿ç‚¹é›†ä¸­(é¡µé¢é‡æ–°ç»˜åˆ¶åŽä¹‹å‰ç»˜åˆ¶çš„æ•°æ®ä¼šä¸¢å¤± éœ€è¦é‡æ–°å›žåŽ»å‰æ®µçš„æ›²çº¿è·¯å¾„) //å°†å½“å‰ç‚¹ç»˜åˆ¶åˆ°é¡µé¢ä¸­ if (points.size == 1)&#123; bezierPoints.add(Point(points[0].x , points[0].y)) drawBezierPoint(bezierPoints , canvas) val paint = Paint() paint.strokeWidth = 10F paint.style = Paint.Style.FILL canvas.drawPoint(points[0].x , points[0].y , paint) return &#125; val nextPoints: MutableList&lt;Point&gt; = ArrayList() //æ›´æ–°è·¯å¾„ä¿¡æ¯ //è®¡ç®—ä¸‹ä¸€çº§æŽ§åˆ¶ç‚¹çš„åæ ‡ for (index in 1..points.size - 1)&#123; path.lineTo(points[index].x , points[index].y) val nextPointX = points[index - 1].x -(points[index - 1].x - points[index].x) * per val nextPointY = points[index - 1].y -(points[index - 1].y - points[index].y) * per nextPoints.add(Point(nextPointX , nextPointY)) &#125; //ç»˜åˆ¶æŽ§åˆ¶ç‚¹çš„æ–‡æœ¬ä¿¡æ¯ if (!(level !=0 &amp;&amp; (per==0F || per == 1F) )) &#123; if (inBase) &#123; if (isMore &amp;&amp; level != 0)&#123; canvas.drawText("0:0", points[0].x, points[0].y, textPaint) &#125;else &#123; canvas.drawText("$&#123;charSequence[level]&#125;0", points[0].x, points[0].y, textPaint) &#125; for (index in 1..points.size - 1)&#123; if (isMore &amp;&amp; level != 0)&#123; canvas.drawText( "$&#123;index&#125;:$&#123;index&#125;" ,points[index].x , points[index].y , textPaint) &#125;else &#123; canvas.drawText( "$&#123;charSequence[level]&#125;$&#123;index&#125;" ,points[index].x , points[index].y , textPaint) &#125; &#125; &#125; &#125; //ç»˜åˆ¶å½“å‰å±‚çº§ if (!(level !=0 &amp;&amp; (per==0F || per == 1F) )) &#123; if (inBase) &#123; canvas.drawPath(path, linePaint) &#125; &#125; path.reset() //æ›´æ–°å±‚çº§ä¿¡æ¯ level++ //ç»˜åˆ¶ä¸‹ä¸€å±‚ drawBezier(canvas, per, nextPoints)&#125; é™¤æ­¤ä¹‹å¤–,å› ä¸ºæ¯æ¬¡è®¡ç®—å¾—åˆ°çš„æ˜¯è´å¡žå°”æ›²çº¿çš„ç‚¹,æ‰€ä»¥éœ€è¦å°†è¿™äº›ç‚¹æ”¶é›†èµ·æ¥,å¹¶å°†ä¹‹å‰æ”¶é›†åˆ°çš„æ‰€æœ‰çš„ç‚¹ç»˜åˆ¶å‡ºæ¥1234567891011121314151617//ç»˜åˆ¶å‰æ®µè´å¡žå°”æ›²çº¿éƒ¨åˆ†private fun drawBezierPoint(bezierPoints: MutableList&lt;Point&gt; , canvas: Canvas) &#123; val paintBse = Paint() paintBse.color = Color.RED paintBse.strokeWidth = 5F paintBse.style = Paint.Style.STROKE val path = Path() path.moveTo(bezierPoints[0].x , bezierPoints[0].y) for (index in 1..bezierPoints.size -1)&#123; path.lineTo(bezierPoints[index].x , bezierPoints[index].y) &#125; canvas.drawPath(path , paintBse)&#125; ç›¸å…³çš„ä»£ç å¯ä»¥è®¿é—®æˆ‘çš„Github,æ¬¢è¿Žå¤§å®¶staræˆ–æå‡ºå»ºè®®.]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Androidè‡ªå®šä¹‰Viewä¹‹å…ƒç´ æŒ‰é’®]]></title>
      <url>%2F2018%2F01%2F16%2Fview03%2F</url>
      <content type="text"><![CDATA[#Androidè‡ªå®šä¹‰Viewä¹‹å…ƒç´ æŒ‰é’® ä¹‹å‰åœ¨dribbbleçœ‹åˆ°çš„ä¸‰ä¸ªå…ƒç´ çš„æŒ‰é’®,å‚è€ƒäº†è®¾è®¡çš„åˆ›æ„,æ·»åŠ äº†è‡ªå·±å®šä¹‰çš„åŠ¨ç”»æ•ˆæžœæ¥å®žçŽ°.å…ˆçœ‹æ•ˆæžœ åˆ†åˆ«æ˜¯æ°´ç«ç”µä¸‰ä¸ªå…ƒç´ çš„æŒ‰é’®å®žçŽ°.å…¶ä¸­ç”µçš„å®žçŽ°æœ€ç®€å•,æ°´çš„æ¬¡ä¹‹,ç«çš„å®žé™…è¿˜å¹¶ä¸æ»¡æ„,æ²¡æœ‰ç«ç„°æ‰°åŠ¨çš„æ„Ÿè§‰,å°è¯•è¿‡å‡ æ¬¡ä½†æ˜¯æ•ˆæžœéƒ½ä¸ç†æƒ³,æœ€åŽåªä¿ç•™äº†è‡ªä¸‹å‘ä¸Šçš„æ‰‡å½¢é®ç½©.å¦‚æžœæœ‰å¥½çš„æ•ˆæžœå†ä¼˜åŒ–å®žçŽ°. é—ªç”µç¯‡è®¾è®¡è¿‡ç¨‹é€šè¿‡é—ªç”µçš„ä½ç½®å°†æ•´ä½“åˆ’åˆ†æˆä¸ƒä¸ªéƒ¨åˆ†(ä¸ƒä¸ªéƒ¨åˆ†çš„ä¸»è¦åŽŸå› æ˜¯æœ€åˆè®¾è®¡äº†ä¸€ä¸ªä¸­éƒ¨æ”¾å¤§çš„é€é•œæ•ˆæžœ,ä½†æ˜¯æ²¡èƒ½å®žçŽ°),ä»Žå³ä¸Šè§’è¿›å…¥,åœ¨ä¸­å¿ƒç‚¹é™„è¿‘è¿åŠ¨,ç›´åˆ°åœåœ¨ä¸­å¿ƒç‚¹.é—ªç”µæœ¬èº«å¯ä»¥çœ‹åšä¸€ä¸ªä¸­å¿ƒå¯¹ç§°çš„å›¾å½¢,æ•´ç†å°±ç®€åŒ–æˆäº†çŽ°å°†canvasæ—‹è½¬ä¸€å®šè§’åº¦,ç„¶åŽç»˜åˆ¶ä¸­å¿ƒå¯¹ç§°çš„é—ªç”µå½¢çŠ¶,æœ€åŽåœ¨xè½´ä¸Šè¿åŠ¨å°±å¯ä»¥äº†. é»„çº¿æ˜¯æ—‹è½¬åŽçš„åæ ‡,å¯ä»¥çœ‹å‡ºç®€åŒ–åŽå®žçŽ°èµ·æ¥å¾ˆç®€å•. ä»£ç å®žçŽ° èƒŒæ™¯éƒ¨åˆ† 123456789101112131415161718//ç»˜åˆ¶é—ªç”µèƒŒæ™¯private fun drawBaseButton(canvas: Canvas , index: Float) &#123; //è®¾ç½®ç”»ç¬” val paint = Paint() //æ·»åŠ é—ªç”µç§»åŠ¨åˆ°æŒ‡å®šä½ç½®æ—¶çš„èƒŒæ™¯é¢œè‰²è®¾ç½® if ((index &lt;= 0.45F &amp;&amp; index &gt;= 0.35F) || (index &gt;= 0.65F &amp;&amp; index &lt;= 0.75F)) &#123; paint.color = Color.parseColor("#ACADAC") &#125;else&#123; paint.color = Color.parseColor("#595A59") &#125; paint.style = Paint.Style.FILL //ç»˜åˆ¶é—ªç”µèƒŒæ™¯ canvas.drawArc(RectF(-baseR, -baseR, baseR, baseR), 0F , 360F,true , paint)&#125; é—ªç”µéƒ¨åˆ† 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576private fun drawLighting(canvas: Canvas , index: Float) &#123; val baseR = baseR * coefficient var index = index var changeR = 0F //å°†æ•´ä¸ªé—ªç”µçš„è¿åŠ¨æ‹†æˆä¸ƒä¸ªéƒ¨åˆ† if (index &lt;= 0.25)&#123; changeR = this.baseR + baseR changeR = (changeR * (1 - index / 0.25)).toFloat() &#125;else if (index &lt;= 0.4)&#123; index = index - 0.25F changeR = this.baseR changeR = -(changeR * (index / (0.4F - 0.25F))) &#125;else if (index &lt;= 0.6F)&#123; index = index - 0.4F changeR = this.baseR changeR = -changeR * (1 - index / 0.2F) &#125;else if (index &lt;= 0.7F)&#123; index = index - 0.6F changeR = baseR changeR = changeR * index / 0.1F &#125;else if (index &lt;= 0.8F)&#123; index = index - 0.7F changeR = baseR changeR = baseR - changeR * index / 0.1F &#125;else if (index &lt;= 0.9F)&#123; index = index - 0.8F changeR = baseR changeR = -changeR * index / 0.1F &#125;else if (index &lt;= 1F)&#123; index = index - 0.9F changeR = baseR changeR = -changeR + changeR * (index / 0.1F) &#125; //è®¾ç½®ç”»ç¬” val path = Path() val paint = Paint() paint.strokeWidth = 5F paint.style = Paint.Style.FILL paint.color = viewBackgroundColor val points :MutableList&lt;Point&gt; = ArrayList() //è®¾ç½®ç»˜åˆ¶é—ªç”µçš„è·¯å¾„ç‚¹ points.add(pointFactory(60 , baseR)) points.add(pointFactory(-45 , baseR / 2F)) points.add(pointFactory(-45 - 90 , baseR / 5F)) points.add(pointFactory(-30 - 90 , baseR)) points.add(pointFactory(45 + 90 , baseR / 2F)) points.add(pointFactory(45 , baseR / 5F)) points.add(pointFactory(60 , baseR)) //è®¾ç½®é—ªç”µçš„åç§»é‡(æ¨¡æ‹Ÿè¿åŠ¨æƒ…å†µ) //åŽŸæœ¬è¿˜æƒ³å®žçŽ°ä¸€ä¸ªä¸­å¿ƒæ”¾å¤§çš„é€é•œæ•ˆæžœ,ä½†æ˜¯æ•ˆæžœå¾ˆåƒµç¡¬,åªèƒ½ç§»é™¤äº† for (i in 0..points.size - 1)&#123; points.set(i , Point(points[i].x + changeR , points[i].y)) &#125; path.moveTo(points[0].x , points[0].y) for (index in 1..points.size - 1)&#123; path.lineTo(points[index].x , points[index].y) &#125; canvas.drawPath(path , paint) //é—ªç”µç»˜åˆ¶è¾…åŠ©åæ ‡ç³»// val paint2 = Paint()// paint2.strokeWidth = 5F// paint2.color = Color.YELLOW// canvas.drawLine(1000F , 0F ,-1000F , 0F , paint2)// canvas.drawLine( 0F ,-1000F , 0F , 1000F , paint2)&#125; é—ªç”µçš„å®žçŽ°è¿˜æ˜¯å¾ˆç®€å•çš„,å› ä¸ºä¸æ¶‰åŠåˆ°å›¾å½¢çš„å˜åŒ–,åªæœ‰ä¸€ä¸ªç®€å•çš„ä½ç§»æ•ˆæžœ éœœ(æ°´)ä¹‹å“€ä¼¤ç¯‡è®¾è®¡æ€è·¯æ°´æ»´çš„å®žçŽ°ç›¸å¯¹å¯¹äºŽé—ªç”µæ¥è¯´éº»çƒ¦ä¸€äº›,ä¸€æ˜¯æ°´æ»´æœ¬èº«ä¸æ˜¯å¾ˆå¥½ç»˜åˆ¶,åˆå› ä¸ºæ°´æ»´åœ¨ä¸‹è½çš„è¿‡ç¨‹ä¸­å­˜åœ¨å˜åŒ–,æœ€åŽé€‰æ‹©é€šè¿‡è´å¡žå°”æ›²çº¿å®žçŽ°.äºŒæ˜¯æ°´æ»´å’ŒèƒŒæ™¯ä¹‹é—´çš„äº¤äº’,åœ¨æ°´æ»´æœªå®Œå…¨ä¸‹è½åˆ°èƒŒæ™¯ä¸­çš„æ—¶å€™,æ°´æ»´èƒŒæ™¯çš„ä¸Šéƒ¨æœ‰ä¸ªå‘ä¸‹å‡¹é™·çš„è¿‡ç¨‹,è¿™ä¸ªä¸æ˜¯é—ªç”µèƒŒæ™¯çš„ç®€å•å˜åŒ–å¯èƒ½åšåˆ°çš„.æœ€åŽä¹Ÿæ˜¯ä½¿ç”¨è´å¡žå°”æ›²çº¿ç»˜åˆ¶çš„ä¸€ä¸ªåœ†å¼§çš„åŒºåŸŸé®ç›–æ¥å®žçŽ°. æ•´ç†éœ€è¦å˜åŒ–çš„å…ƒç´ æ˜¯æ°´æ»´åŠé¡¶éƒ¨çš„é®ç›–.éƒ½æ˜¯ä½¿ç”¨è´å¡žå°”æ›²çº¿å®žçŽ°çš„.é¡¶éƒ¨çš„å‡¹é™·éšç€æ°´æ»´çš„ä¸‹è½ä¸æ–­å‡¹é™·,ç›´è‡³æ°´æ»´è„±ç¦»é¡¶éƒ¨åŽå†æ¸æ¸å›žè½.ä¸»è¦æ˜¯æ‰¾åˆ°æ°´æ»´å®Œå…¨è„±ç¦»çš„æ—¶é—´å½“åšé¡¶éƒ¨å‡¹é™·çš„å…³é”®ç‚¹å°±å¥½.æ°´æ»´ä¸‹è½çš„è¿‡ç¨‹ä¸­æ˜¯éœ€è¦å˜åŒ–,æœ€å¼€å§‹å¯èƒ½ç¨å¾®ç˜¦é•¿ä¸€äº›,ç„¶åŽç›¸å¯¹å˜æ‰. ä»£ç å®žçŽ° æ°´æ»´èƒŒæ™¯çš„å®žçŽ° 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152//ç»˜åˆ¶æ°´æ»´èƒŒæ™¯ private fun drawBaseButton(canvas: Canvas , index: Float) &#123; //è®¡ç®—æ°´æ»´åŠè¿›å…¥åŒºé—´(ç¡®å®šæ°´æ»´èƒŒæ™¯ä¸Šéƒ¨å˜åŒ–èŒƒå›´) val waterRand = (baseR * 1.25 * coefficient) / ((baseR * 1.25 * coefficient) + baseR) //è®¾ç½®ç”»ç¬” val paint = Paint() paint.color = Color.parseColor("#45AAE1") paint.style = Paint.Style.FILL //ç»˜åˆ¶æ°´æ»´èƒŒæ™¯ä¸‹åŠéƒ¨åˆ†çš„(æ­¤éƒ¨åˆ†ä¸éœ€è¦å˜æ¢) canvas.drawArc(RectF(-baseR, -baseR, baseR, baseR), 180F , 180F,true , paint) //è®¾ç½®ç‚¹list é¡ºåºå­˜å‚¨ç›¸å…³è·¯å¾„åŠå…³é”®ç‚¹ val points : MutableList&lt;Point&gt; = ArrayList() points.add(Point(-baseR , 0F)) points.add(Point(-baseR , baseR * C)) points.add(Point(-baseR * C , baseR )) var baseButtonTop : Float //æ ¹æ®indexåˆ¤æ–­ä¸Šéƒ¨çš„å½¢æ€ if (index &lt;= waterRand)&#123; baseButtonTop = baseR - (baseR * coefficient * index) * 2 &#125;else&#123; baseButtonTop = baseR - (baseR * coefficient) * 2 + (baseR * coefficient * index) * 2 if (baseButtonTop &gt; baseR)&#123; baseButtonTop = baseR &#125; &#125; points.add(Point(0F, baseButtonTop)) points.add(Point(baseR * C , baseR)) points.add(Point(baseR , baseR * C )) points.add(Point(baseR , 0F)) val path = Path() //ç”»ç¬”ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®(ä¸ç§»åŠ¨çš„è¯é€šè¿‡è´å¡žå°”ç»˜åˆ¶çš„å›¾å½¢ä¼šæœ‰è¯¯å·®) path.moveTo(points[0].x , points[0].y) //è®¾ç½®è´å¡žå°”æ›²çº¿ path.cubicTo( points[1].x , points[1].y , points[2].x , points[2].y , points[3].x , points[3].y) path.cubicTo( points[4].x , points[4].y , points[5].x , points[5].y , points[6].x , points[6].y) //ç»˜åˆ¶ canvas.drawPath(path, paint) &#125; æ°´æ»´çš„å®žçŽ° 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667private fun drawDrops(canvas: Canvas , index: Float) &#123; //è®¾ç½®æ°´æ»´åŠå¾„ val baseR = baseR * coefficient val index = 1 - index //æ ¹æ®indexå°†ç”»å¸ƒä¸­å¿ƒç§»åŠ¨åˆ°å¯¹åº”ä½ç½® canvas.translate( 0F , (this.baseR * 1.125F + baseR)* index - this.baseR / 8) //è®¾ç½®ç”»ç¬” val paint = Paint() paint.style = Paint.Style.FILL paint.color = viewBackgroundColor //å­˜å‚¨å…³é”®ç‚¹åæ ‡ val points : MutableList&lt;Point&gt; = ArrayList() points.add(Point(-baseR , 0F)) //æ°´æ»´é¡¶éƒ¨å˜æ¢ç³»æ•° val topCoefficient = 1.5F points.add(Point(-baseR , baseR * C)) points.add(Point(-baseR * C , baseR )) points.add(Point(0F, (1.5 * baseR + baseR * topCoefficient * index).toFloat())) points.add(Point(baseR * C , baseR)) points.add(Point(baseR , baseR * C )) points.add(Point(baseR , 0F)) //æ°´æ»´åº•éƒ¨å˜æ¢ç³»æ•° //è¿™ä¸¤ä¸ªå˜æ¢ç³»æ•°ä½¿å¾—æ°´æ»´åœ¨ä¸‹è½çš„è¿‡ç¨‹ä¸­æ¸æ¸å˜æ‰ val bottomCoefficient = 0.3F val tempBaseR = (baseR - baseR * bottomCoefficient * index) points.add(Point(baseR , -tempBaseR * C)) points.add(Point(baseR * C , -tempBaseR )) points.add(Point(0F, -tempBaseR)) points.add(Point(-baseR * C , -tempBaseR)) points.add(Point(-baseR , -tempBaseR * C )) points.add(Point(-baseR , 0F)) //è®¾ç½®å››ä¸ªéƒ¨åˆ†(90Â°ä¸€ä¸ªéƒ¨åˆ†)çš„è´å¡žå°”æ›²çº¿ //å…³äºŽè´å¡žå°”æ›²çº¿çš„äº‹æƒ…... æ„Ÿè§‰å¯ä»¥å†åšç‚¹è®°å½• val path = Path() path.moveTo(points[0].x , points[0].y) path.cubicTo( points[1].x , points[1].y , points[2].x , points[2].y , points[3].x , points[3].y) path.cubicTo( points[4].x , points[4].y , points[5].x , points[5].y , points[6].x , points[6].y) path.cubicTo( points[7].x , points[7].y , points[8].x , points[8].y , points[9].x , points[9].y) path.cubicTo( points[10].x , points[10].y , points[11].x , points[11].y , points[12].x , points[12].y) //ç»˜åˆ¶å›¾å½¢ canvas.drawPath(path, paint) &#125; å·æ‡’çš„åŽŸå› æ‰€ä»¥ç›´æŽ¥ä½¿ç”¨èƒŒæ™¯è‰²åšçš„ä¸€ä¸ªç®€å•çš„é®ç›–,æ²¡æœ‰ä½¿ç”¨é®ç½©(å…¶å®žé—ªç”µçš„éƒ¨åˆ†ä¹Ÿæ˜¯). ç›¸å¯¹æ¥è¯´æ°´æ»´çš„å®žçŽ°æœ€ä¸ºæ»¡æ„,ä¸»è¦çš„é¢„æœŸæ•ˆæžœéƒ½æˆåŠŸçš„å®žçŽ°å‡ºæ¥äº†,æ•´ä½“çœ‹æ¥æ•ˆæžœè¿˜æ˜¯å¯ä»¥çš„ ç«ä¹‹é«˜å…´ç¯‡è®¾è®¡æ€è·¯è™½ç„¶æ•´ä½“çœ‹æ¥,åº”è¯¥æ˜¯ä¸€ä¸ªéš¾åº¦ä¸­ç­‰çš„åŠ¨ç”»,ä½†æ˜¯åœ¨è®¾è®¡çš„è¿‡ç¨‹ä¸­ç»åŽ†äº†ç©ºæ‰‹ç”¨è´å¡žå°”ç”»ç«ç„°(æœ€å¼€å§‹çš„æƒ³æ³•æœ¬æ˜¯ç«ç„°æœ¬èº«ä¹Ÿæ˜¯ä¼šåŠ¨çš„),ç«ç„°æ‰°åŠ¨æ•ˆæžœçš„å®žçŽ°(è¿™ä¸ªæœ€ä¸ºè‰°éš¾,ä¸»è¦æ˜¯ä¸çŸ¥é“æ€Žä¹ˆæŽ§åˆ¶ç«ç„°æ‰°åŠ¨çš„æ•ˆæžœ,å…¶æ¬¡æ˜¯é®ç½©å±‚çš„ä½¿ç”¨,å…·ä½“çš„å‘ä¼šå¦å¼€æ–‡å­—æ¥è®²è§£),æœ€åŽåªèƒ½ç®€å•åšäº†ä¸ªåº•éƒ¨å‘ä¸Šçš„é®ç½©å±‚æ¥å½“åšç«ç„°çš„æ‰°åŠ¨æƒ…å†µ æ‰€ä»¥å…¶å®žå°±æ˜¯ç»˜åˆ¶ä¸€ä¸ªç«ç„°çš„å½¢çŠ¶,ç„¶åŽå†ç”¨ä¸ªé®ç½©å±‚æ¥é®ç›–å®žçŽ°ç«ç„°çš„æ‰°åŠ¨ ä»£ç å®žçŽ°å› ä¸ºèƒŒæ™¯æ²¡æœ‰ä»€ä¹ˆç‰¹æ•ˆ,å°±ä¸è´´èƒŒæ™¯çš„ä»£ç äº† æ•´ä½“ç«ç„°æ•ˆæžœæŽ§åˆ¶ å› ä¸ºç«ç„°éœ€è¦å±•ç¤ºç»˜åˆ¶å®Œæˆçš„ç«ç„°å’Œé®ç½©å±‚ä¸­ç›¸äº¤çš„éƒ¨åˆ†,è¦ä½¿ç”¨PorterDuffXfermodeç›¸å…³çš„æ–¹æ³•,æ‰€ä»¥åœ¨ç»˜åˆ¶ä¸­å°†åŽŸå›¾å±‚å’Œé®ç½©å±‚åˆ†å¼€è®¾è®¡ 1234567891011121314151617181920private fun drawFires(canvas: Canvas , index: Float) &#123; //è®¾ç½®ç«ç„°åŠå¾„ //è®¾ç½®åŽŸå›¾å±‚(ç«ç„°ç»˜åˆ¶) val srcB = makeSrc(2 * baseR.toInt(), 2 * baseR.toInt(), index) //è®¾ç½®é®ç½©å±‚ val dstB = makeDst(2 * baseR.toInt(), 2 * baseR.toInt(), index) val paint = Paint() canvas.saveLayer(-baseR, -baseR, baseR , baseR, null, Canvas.ALL_SAVE_FLAG) //ç»˜åˆ¶é®ç½©å±‚ canvas.drawBitmap(dstB, -baseR/2, -baseR/2, paint) //è®¾ç½®é®ç½©æ¨¡å¼ä¸ºSRC_INæ˜¾ç¤ºåŽŸå›¾å±‚ä¸­åŽŸå›¾å±‚ä¸Žé®ç½©å±‚ç›¸äº¤éƒ¨åˆ† paint.xfermode = PorterDuffXfermode(PorterDuff.Mode.SRC_IN) canvas.drawBitmap(srcB, -baseR/2, -baseR/2, paint) paint.xfermode = null&#125; ç»˜åˆ¶åŽŸå›¾å±‚(ç«ç„°æœ¬èº«çš„ç»˜åˆ¶) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960fun makeSrc(w: Int, h: Int , index :Float): Bitmap &#123; val bm = Bitmap.createBitmap(w, h, Bitmap.Config.ARGB_8888) val canvas = Canvas(bm) canvas.translate(baseR / 2F, baseR / 2F) // å°†åæ ‡ç³»ç§»åŠ¨åˆ°ç”»å¸ƒä¸­å¤® val index = index * 0.5F + 0.5F val baseR = baseR * coefficient * index //è®¾ç½®ç”»ç¬” val paint = Paint() paint.style = Paint.Style.FILL paint.color = viewBackgroundColor paint.strokeWidth = 10F //å­˜å‚¨å…³é”®ç‚¹åæ ‡ val points : MutableList&lt;Point&gt; = ArrayList() //æ•´ä½“ç«ç„°æ˜¯ç”±å…­ä¸ªè´å¡žå°”æ›²çº¿ç»˜åˆ¶æˆçš„ points.add(pointFactory( 190F , baseR)) points.add(pointFactory( 280F , baseR / 3F * 4)) points.add(pointFactory( 320F , baseR / 6F)) points.add(pointFactory( 350F , baseR)) points.add(pointFactory( 10F , baseR)) points.add(pointFactory( 30F , baseR / 3F* 2)) points.add(pointFactory( 50F , baseR / 3F )) points.add(pointFactory( 60F , baseR / 6F * 3)) points.add(pointFactory( 60F , baseR / 6F * 4)) points.add(pointFactory( 50F , baseR / 6F * 5)) points.add(pointFactory( 85F , baseR / 6F * 5)) points.add(pointFactory( 120F , baseR / 6F * 5)) points.add(pointFactory( 150F , baseR )) points.add(pointFactory( 160F , baseR / 9F * 7)) points.add(pointFactory( 170F , baseR / 9F * 5)) points.add(pointFactory( 180F , baseR / 9F * 3)) points.add(pointFactory( 200F , baseR / 3F)) points.add(pointFactory( 195F , baseR / 3F * 2)) points.add(pointFactory( 190F , baseR )) val path = Path() path.moveTo(points[0].x , points[0].y) for (index in 0..((points.size - 1) / 3 - 1) )&#123; path.cubicTo( points[3 * index + 1].x , points[3 * index + 1].y , points[3 * index + 2].x , points[3 * index + 2].y , points[3 * index + 3].x , points[3 * index + 3].y) &#125; //ç»˜åˆ¶å›¾å½¢ canvas.drawPath(path, paint) return bm &#125; ç»˜åˆ¶é®ç½©å±‚(ç«ç„°çš„æ‰°åŠ¨æ•ˆæžœ) 123456789101112131415161718fun makeDst(w: Int, h: Int, index :Float): Bitmap &#123; val bm = Bitmap.createBitmap(w, h, Bitmap.Config.ARGB_8888) val canvas = Canvas(bm) canvas.translate(baseR / 2F, 0F) val paint = Paint() paint.color = Color.YELLOW val dstLength = baseR * coefficient * index * 2 val rectf = RectF(-dstLength, -dstLength, dstLength, dstLength) //æ²¡æ‰¾åˆ°åˆé€‚çš„æ‰°åŠ¨æ•ˆæžœ,åªèƒ½ç®€å•å®žçŽ°ä¸€ä¸ªé®ç½©æ•ˆæžœ canvas.drawArc(rectf , 0F , 360F , true, paint) return bm&#125; ç«ç„°æ¥è¯´,è™½ç„¶éœ€è¦çš„æ•ˆæžœä»£ç éƒ½å®žçŽ°äº†,ä½†æ˜¯ç¼ºå°‘è®¾è®¡,æ•´ä½“çš„æ•ˆæžœåˆ°æ—¶ä¸å°½å¦‚äººæ„.é’ˆå¯¹æ•ˆæžœæ¥è¯´è¿˜æœ‰å¾ˆå¤šçš„ä¼˜åŒ–ç©ºé—´]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Androidè‡ªå®šä¹‰Viewä¹‹é²¨é±¼å’Œå°é±¼çš„ç­‰å¾…åŠ¨ç”»]]></title>
      <url>%2F2018%2F01%2F13%2FAndroid%E8%87%AA%E5%AE%9A%E4%B9%89View%E4%B9%8B%E9%B2%A8%E9%B1%BC%E5%92%8C%E5%B0%8F%E9%B1%BC%E7%9A%84%E7%AD%89%E5%BE%85%E5%8A%A8%E7%94%BB%2F</url>
      <content type="text"><![CDATA[Androidè‡ªå®šä¹‰Viewä¹‹é²¨é±¼å’Œå°é±¼çš„ç­‰å¾…åŠ¨ç”» ä¹‹å‰åœ¨çœ‹æ–‡ç« çš„æ—¶å€™å‘çŽ°äº†ä¸€ä¸ªgifåŠ¨ç”»,æ„Ÿè§‰å¾ˆæœ‰æ„æ€,é€‚é€¢æœ€è¿‘å­¦ä¹ kotlin,å°±æ‰“ç®—ç”¨kotlinåœ¨androidä¸­å®žçŽ°ä¸€æ¬¡,éƒ¨åˆ†è§’åº¦åŠå‚æ•°è®¾ç½®çš„æ¯”è¾ƒéšæ„,å¦‚æœ‰éœ€è¦å¯ä»¥å¯éšæ„ä¿®æ”¹ å…ˆçœ‹æ•ˆæžœå›¾ éƒ¨åˆ†è§’åº¦åŠé€ŸçŽ‡è¿˜æœ‰ä¼˜åŒ–çš„ç©ºé—´,ä¸è¿‡ä¸»è¦çš„æ•ˆæžœéƒ½å·²ç»å®žçŽ°å‡ºæ¥äº† è®¾è®¡è¿‡ç¨‹å› ä¸ºæ˜¯ä¸ªåŠ¨ç”»,åˆšçœ‹çš„æ—¶å€™æ„Ÿè§‰æ— ä»Žä¸‹æ‰‹,ä»”ç»†åˆ†æžè¿‡åŽ,å‘çŽ°â€¦å…¶å®žå¾ˆç®€å•çš„ é¦–å…ˆæ˜¯ä¸€ä¸ªå¾ªçŽ¯çš„åŠ¨ç”»,å…ˆè¦æ‰¾åˆ°æŸä¸ªå¾ªçŽ¯çš„å¼€å§‹æˆ–è€…ç»“æŸ,æˆ‘æˆªå–çš„æŸä¸ªå¾ªçŽ¯éƒ¨åˆ†æ˜¯é²¨é±¼é³åœ¨å³ä¾§,æœ¬åœ°å·¦å³å˜åŒ–å‡ ä¸‹,ç„¶åŽå‘å·¦è¿½é€å°é±¼åˆ°å·¦ä¾§éƒ¨åˆ†.å‘å³çš„éƒ¨åˆ†,é€šè¿‡å°†å‘å·¦çš„éƒ¨åˆ†xé•œåƒä¸€ä¸‹å°±å¯ä»¥å¾—åˆ°. ç”±æ­¤å¯ä»¥å°†æ•´ä¸ªç”»é¢æ‹†æˆä¸‰ä¸ªéƒ¨åˆ†: å…¶ä¸€æ˜¯æ°´é¢çš„éƒ¨åˆ†,æ°´é¢ä»¥ä¸‹åŠæ°´é¢å’Œé±¼æŽ¥è§¦çš„éƒ¨åˆ†çš„ç•™ç™½å¤„ç†éƒ½æ˜¯åœ¨åŽé¢é²¨é±¼å’Œå°é±¼å¤„è¿›è¡Œçš„,æ‰€ä»¥æœ€åŽç»˜åˆ¶çš„æ˜¯ä¸€ä¸ªæ°´é¢ä»¥ä¸‹éƒ¨åˆ†çš„é®æŒ¡,è¿™ä¸ªéƒ¨åˆ†ä¹Ÿæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½ç»˜åˆ¶çš„éƒ¨åˆ† å…¶äºŒæ˜¯é²¨é±¼é³çš„éƒ¨åˆ†, è¿™ä¸ªéƒ¨åˆ†éš¾åº¦ä¸­ç­‰,ä¸»è¦çš„éš¾åº¦æ˜¯ä¸¤ä¸ªåœ†æ‰¾äº¤ç‚¹çš„è®¡ç®—è¿‡ç¨‹â€¦å¦‚æžœæœ‰éœ€è¦å¯ä»¥æ ¹æ®ä»£ç è®¾è®¡ç›¸å…³å‚æ•°è¿›è¡Œè°ƒæ•´ å…¶ä¸‰æ˜¯å°é±¼çš„éƒ¨åˆ†,è¿™ä¸ªæ˜¯ç”»é¢ä¸­æœ€éš¾å®žçŽ°çš„éƒ¨åˆ†,ä¸»è¦æ¶‰åŠå°é±¼çš„ç»˜åˆ¶(æ¤­åœ†åŠä¸‰è§’å½¢),å°é±¼çš„æ°´é¢çš„æŽ¥è§¦æ—¶æ°´é¢çš„ç•™ç™½,å°é±¼å…¥æ°´çš„æ—¶å€™æº…èµ·çš„æ°´èŠ± ä»£ç å®žçŽ°æ°´é¢éƒ¨åˆ†ä»£ç å°±ä¸æ”¾äº†,å› ä¸ºåªæ˜¯å•çº¯çš„ç»˜åˆ¶ä¸ªçº¿å’Œä¸‹éƒ¨çš„é®ç›–,å¯ä»¥çœ‹çœ‹æ•ˆæžœå›¾ æ°´é¢ ä¸ºåŠ é®ç›–çš„æ°´é¢(å¯ä»¥çœ‹åˆ°æ°´é¢ä¹‹ä¸‹çš„å°é±¼) é²¨é±¼éƒ¨åˆ†é²¨é±¼é³çš„ä¸»è¦è®¾è®¡æ€è·¯å°±æ˜¯å…ˆç»˜åˆ¶ä¸¤ä¸ªåœ†,å†æ ¹æ®ä¸¤ä¸ªåœ†çš„äº¤ç‚¹å†³å®šç»˜åˆ¶çš„åœ†å¼§èŒƒå›´,æ³¨æ„ç»˜åˆ¶çš„æ—¶å€™é®ç›–ä¸‹éƒ¨çš„æ°´é¢ æ•ˆæžœå›¾ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758//ç»˜åˆ¶é²¨é±¼é³//é²¨é±¼é³ç”±ä¸¤ä¸ªåœ†å¼§ç»„æˆprivate fun drawShark(index: Float, canvas: Canvas) &#123; //åˆå§‹åŒ–ç”»ç¬”ç›¸å…³ val p = Paint() p.strokeWidth = 5F p.color = Color.BLACK p.style = Paint.Style.STROKE //è®¾ç½®å¤–é¢é±¼é³çš„åŠå¾„ val r = 100F //è®¾ç½®åç§»é‡ var xofset = -65 //å‘å³ä¸ºæ­£ var yofset = 0 //å‘ä¸‹ä¸ºæ­£ //ç»˜åˆ¶å¤–é¢é±¼é³ drawSharkOut(canvas , index , r , xofset , yofset , isRight , p) //ç»˜åˆ¶å†…éƒ¨é±¼é³ drawSharkIn(canvas , index , r , xofset , yofset , isRight , p) p.color = viewBackgroundColor //å°†é±¼é³å‡ºçŽ°çš„æ°´é¢éƒ¨åˆ†è®¾ç½®ä¸ºç©º canvas.drawLine(index - r - xofset - viewWidth/2, 0F , index + r + xofset - viewWidth/2, 0F, p) // p.color = Color.BLACK // //ç»˜åˆ¶å‰é¢çš„å°é±¼ // drawFish(canvas , index , p)&#125;//åŒºåˆ†é±¼é³çš„æ–¹å‘ç»˜åˆ¶å¤–éƒ¨é±¼é³fun drawSharkOut(canvas: Canvas , index: Float, r: Float, xofset: Int, yofset: Int, directionRight: Boolean, p: Paint) &#123; if (directionRight)&#123; val xofset = xofset - viewWidth/2 val rectf = RectF(index - r + xofset, -r + yofset , index + r + xofset , r + yofset) canvas.drawArc(rectf, -95F , 95F, false, p) &#125;else&#123; val xofset = 30 + xofset - viewWidth/2 val rectf = RectF(index + xofset + yofset , -r , index + 2 * r + xofset, r + yofset ) canvas.drawArc(rectf, -180F , 95F, false, p) &#125;&#125;//åŒºåˆ†é±¼é³æ–¹å‘ç»˜åˆ¶å†…éƒ¨é±¼é³fun drawSharkIn(canvas: Canvas , index: Float, r1: Float, xofset: Int, yofset: Int, directionRight: Boolean, p: Paint) &#123; val r = (1.5 * r1).toInt() if (directionRight) &#123; val xofset = (- (r - ( r - r1) * 0.6)).toInt() + xofset - viewWidth/2 val rectf = RectF(index - r + xofset, (- r + yofset).toFloat(), index + r + xofset, (+ r + yofset).toFloat()) canvas.drawArc(rectf, -42F, 42F, false, p) &#125;else&#123; val xofset = -45 + xofset - viewWidth/2 val rectf = RectF(index + r + xofset, (- r + yofset).toFloat(), index + 3 * r + xofset, (+ r + yofset).toFloat()) canvas.drawArc(rectf, -180F, 42F, false, p) &#125;&#125; å°é±¼éƒ¨åˆ†å°é±¼éƒ¨åˆ†è®¾è®¡ä¸‰ä¸ªéƒ¨åˆ†,é±¼èº«(æœ¬ä½“,çœ¼ç›,é±¼å°¾),é±¼çš„è¿åŠ¨,é±¼å…¥æ°´æ—¶çš„æ°´èŠ±. å°é±¼çš„è¿åŠ¨è½¨è¿¹å¯ä»¥çœ‹å‡ºæ¥æ˜¯ä¸€ä¸ªåœ†å¼§,æ¶‰åŠçš„éƒ¨åˆ†å°±æ˜¯è¦æ ¹æ®é²¨é±¼é³çš„ä½ç½®è°ƒæ•´åœ¨è¿åŠ¨åœ†çŽ¯ä¸Šçš„ä½ç½®,ç®€å•çš„canvaså˜æ¢å°±å¯ä»¥åšåˆ° é±¼èº«,ç›¸å¯¹æ¥è¯´æ¯”è¾ƒç®€å•,ä¸€ä¸ªæ¤­åœ†,ä¸€ä¸ªä¸‰è§’å½¢,ä¸€ä¸ªç‚¹å°±å¯ä»¥å®Œæˆäº†,å†å®žçŽ°çš„æ—¶å€™å…ˆç»˜åˆ¶äº†ä¸€ä¸ªå’ŒèƒŒæ™¯è‰²ç›¸åŒçš„å¡«å……å†…éƒ¨é¢œè‰²çš„é±¼,ç”¨æ¥å®žçŽ°é±¼çš„æ°´é¢æŽ¥è§¦çš„éƒ¨åˆ†ç•™ç™½. å°é±¼å…¥æ°´çš„æ°´èŠ±å®žé™…ä¸Šæ˜¯åœ¨é±¼çš„ä¸¤ä¾§æ²¡æµ‹ç”»ä¸¤ä¸ªåœ†å¼§,å½“å°é±¼å’Œå…¥æ°´è¶Šæ¥è¶Šæ·±(canvasçš„æ—‹è½¬çš„è§’åº¦è¶Šæ¥è¶Šå¤§çš„æ—¶å€™,åŒä¸€ä¾§çš„ä¸¤ä¸ªæ°´èŠ±ä¹‹é—´çš„é—´éš”ä¹Ÿä¼šå˜å¤§,ç”¨æ¥æ¨¡æ‹Ÿæ°´èŠ±çš„ä¸‹è½) å°é±¼è¿˜æœªå‡ºæ°´çš„éƒ¨åˆ†(å…³é—­æ°´é¢ä¸‹å‘çš„é®ç›–) å°é±¼å’Œæ°´é¢æŽ¥è§¦çš„éƒ¨åˆ†(é®ç›–æ°´é¢çš„ç»˜åˆ¶) å°é±¼å…¥æ°´æ—¶çš„æ°´èŠ±æ•ˆæžœ ä»£ç å®žçŽ° 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970//ç»˜åˆ¶å‰é¢é€ƒè·‘çš„å°é±¼private fun drawFish(canvas: Canvas, index: Float, p: Paint) &#123; //è®¾ç½®é±¼è¿åŠ¨è½¨è¿¹çš„åœ†å¿ƒ var xofsetFish = viewWidth / 5 * 2 var yofsetFish = 0F //è®¾ç½®é±¼çš„å®½åº¦åŠé«˜åº¦ val widthFish = 20F val heightFish = 12F //è®¾ç½®é±¼é³çš„å®½åº¦åŠé«˜åº¦ val widthFishTail = 20F val heightFishTail = 10F //å°†ç”»å¸ƒä¸­å¿ƒç§»åŠ¨åˆ°é±¼è½¨è¿¹çš„ä¸­å¿ƒä½ç½® canvas.translate(xofsetFish - viewWidth/2 , yofsetFish) //æ—‹è½¬ç”»å¸ƒæ—‹è½¬åˆ°èµ·å§‹è§’åº¦ canvas.rotate(90F) //æ ¹æ®å½“å‰çš„åæ ‡ä½ç½®è®¡ç®—é±¼çš„åç§»é‡åŠåç§»è§’åº¦ val per = (index - viewWidth / 5 * 2) / (viewWidth / 5 * 2) val degreesi =per * 360 + 10 canvas.rotate(degreesi) //å¦‚æžœå½“å‰perå°äºŽ0.4è¯´æ˜Žæ•´ä½“åœ¨æ°´é¢ä¸‹,åˆ™ä¸è¿›è¡Œç»˜åˆ¶ if (per &gt; 0.4) &#123; xofsetFish = 0F yofsetFish = -viewWidth / 5 //ç»˜åˆ¶é±¼çš„èº«ä½“éƒ¨åˆ†å¹¶é€šè¿‡èƒŒæ™¯é¢œè‰²å¡«å…… //é€šè¿‡è¿™ç§æ–¹æ³•æ¥è¦†ç›–æ°´é¢å’Œé±¼æŽ¥è§¦çš„éƒ¨åˆ† val rectF = RectF(xofsetFish - widthFish, yofsetFish - heightFish, xofsetFish + widthFish, yofsetFish + heightFish) p.color = viewBackgroundColor p.style = Paint.Style.FILL canvas.drawArc(rectF, 0F, 360F, true, p) //ç»˜åˆ¶é±¼çš„èº«ä½“éƒ¨åˆ† p.color = Color.BLACK p.style = Paint.Style.STROKE canvas.drawArc(rectF, 0F, 360F, true, p) //ç»˜åˆ¶é±¼å°¾çš„éƒ¨åˆ† canvas.drawLine(xofsetFish + widthFish, yofsetFish, xofsetFish + widthFish + widthFishTail, yofsetFish + heightFishTail, p) canvas.drawLine(xofsetFish + widthFish + widthFishTail, yofsetFish + heightFishTail, xofsetFish + widthFish + widthFishTail, yofsetFish - heightFishTail, p) canvas.drawLine(xofsetFish + widthFish + widthFishTail, yofsetFish - heightFishTail, xofsetFish + widthFish, yofsetFish, p) //ç»˜åˆ¶é±¼çš„çœ¼ç› canvas.drawPoint(xofsetFish - widthFish / 3, yofsetFish , p) //å½“peråœ¨[0.45,0.48]åŒºé—´ä¸­ç»˜åˆ¶æ°´é¢çš„æ°´èŠ± if (per &lt;= 0.48&amp;&amp; per &gt;= 0.45)&#123; val water = 50F val waterR = 30F canvas.translate(0F ,yofsetFish + water) p.color = Color.BLACK p.style = Paint.Style.STROKE val waterRectF = RectF(-waterR , -waterR , waterR , waterR) canvas.drawArc(waterRectF, -90F , 30F , false, p) //è®¡ç®—åŒºé—´çš„è·¨åº¦,è®¾ç½®ç»Ÿä¸€æ–¹å‘ä¸‹ä¸¤åŠæ°´èŠ±çš„åˆ†æ•£ç¨‹åº¦ val changeWater = ( 1 - (per - 0.45) / 0.03) * 45 canvas.drawArc(waterRectF, (-60 + changeWater).toFloat(), 30F , false, p) canvas.translate(0F , - 2 * water) canvas.drawArc(waterRectF, 90F , -30F , false, p) canvas.drawArc(waterRectF, (90 - changeWater).toFloat(), -30F , false, p) &#125; &#125;&#125; è‡³æ­¤è¿™ä¸ªå°åŠ¨ç”»å°±å¯ä»¥å®žçŽ°äº†,å…·ä½“çš„ä»£ç å¯ä»¥æŸ¥çœ‹æˆ‘çš„github]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[å†çœ‹æ±‚æœ€å¤§å…¬çº¦æ•°çš„ç®—æ³•]]></title>
      <url>%2F2018%2F01%2F13%2F%E5%86%8D%E7%9C%8B%E6%B1%82%E6%9C%80%E5%A4%A7%E5%85%AC%E7%BA%A6%E6%95%B0%E7%9A%84%E7%AE%97%E6%B3%95%2F</url>
      <content type="text"><![CDATA[å†çœ‹æ±‚æœ€å¤§å…¬çº¦æ•°çš„ç®—æ³• ç”±æ¸å…¥æ·±å­¦ä¹ å¤§å…¬çº¦æ•°çš„ç®—æ³•,ä»Žæœ€ç®€å•çš„éåŽ†å¾ªçŽ¯çš„æ–¹æ³•åˆ°é€šè¿‡ç§»ä½è¿ç®—å¤§å¹…æé«˜å¤§æ•°æƒ…å†µä¸‹çš„è®¡ç®—æ•ˆçŽ‡ å®žä¾‹ä»£ç å‡ä¸ºkotlin éåŽ†è®¡ç®—æ€è·¯éƒ½ç”¨éåŽ†äº†â€¦ è¿˜è¦ä»€ä¹ˆæ€è·¯ ä»£ç å®žçŽ° ä¼˜åŠ¿æ€è·¯ç®€æ´ åŠ£åŠ¿æ•ˆçŽ‡ååˆ†ä½Žä¸‹,å’Œå…¶å®ƒæ–¹æ³•èŠ±è´¹çš„æ—¶é—´å·²ä¸åœ¨ä¸€ä¸ªæ•°é‡çº§ä¸­ è¾—è½¬ç›¸é™¤æ³• è¾—è½¬ç›¸é™¤æ³•:åˆåæ¬§å‡ é‡Œå¾·ç®—æ³•ï¼ˆEuclidean algorithmï¼‰,æ˜¯æ±‚æœ€å¤§å…¬çº¦æ•°çš„ä¸€ç§æ–¹æ³•.è¾—è½¬ç›¸é™¤æ³•å¯ä»¥ç®—å¾—ä¸Šæ˜¯æœ€æ—©çš„ç®—æ³• æ€è·¯ç”¨è¾ƒå°æ•°é™¤è¾ƒå¤§æ•°ï¼Œå†ç”¨å‡ºçŽ°çš„ä½™æ•°ï¼ˆç¬¬ä¸€ä½™æ•°ï¼‰åŽ»é™¤é™¤æ•°ï¼Œå†ç”¨å‡ºçŽ°çš„ä½™æ•°ï¼ˆç¬¬äºŒä½™æ•°ï¼‰åŽ»é™¤ç¬¬ä¸€ä½™æ•°ï¼Œå¦‚æ­¤åå¤ï¼Œç›´åˆ°æœ€åŽä½™æ•°æ˜¯0ä¸ºæ­¢ã€‚å¦‚æžœæ˜¯æ±‚ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°ï¼Œé‚£ä¹ˆæœ€åŽçš„é™¤æ•°å°±æ˜¯è¿™ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°ã€‚ å¦‚æžœæˆ‘ä»¬è®¡ç®—49å’Œ21çš„æœ€å¤§å…¬çº¦æ•° 35 / 21 = 1â€¦14 ç”¨è¾ƒå¤§çš„æ•°é™¤ä»¥è¾ƒå°çš„æ•°,å¾—åˆ°çš„ä½™æ•°ä¸º14 21 / 14 = 1â€¦7 ç”¨ä¸Šä¸€æ­¥ä¸­çš„è¢«é™¤æ•°é™¤ä»¥ä¸Šä¸€æ­¥è®¡ç®—ä¸­å¾—åˆ°çš„ä½™æ•°ä¸º7 14 / 7 = 2 é‡å¤ä¸Šè¿°çš„è¿‡ç¨‹,ç›´åˆ°è®¡ç®—çš„ç»“æžœä¸­ä¸å­˜åœ¨ä½™æ•°.æ­¤æ—¶é™¤æ•°å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„æœ€å¤§å…¬çº¦æ•° ä»£ç å®žçŽ° ä¼˜åŠ¿å½“æ•°æ®è¾ƒå°çš„æ—¶å€™æ€§èƒ½æœ€å¥½ åŠ£åŠ¿éœ€è¦ç”¨åˆ°å–ä½™è¿ç®—.çŽ°é˜¶æ®µçš„ç¡¬ä»¶ä¸­,æ•´å½¢å¤šä¸º64ä½,å¦‚æžœéœ€è¦è®¡ç®—çš„æ•°æ®å¤šä½™ç¡¬ä»¶çš„æ•´å½¢ä½æ•°å°±éœ€è¦ä½¿ç”¨ç±»ä¼¼äºŽå¤šä½æ•°é™¤æ³•æ‰‹ç®—è¿‡ç¨‹ä¸­çš„è¯•å•†æ³•,è¿‡ç¨‹å¤æ‚è€Œä¸”éœ€è¦æ¶ˆè€—æ›´å¤šçš„æ—¶é—´ æ›´ç›¸å‡æŸæœ¯æ–¹æ³• æ›´ç›¸å‡æŸæœ¯æ˜¯å‡ºè‡ªã€Šä¹ç« ç®—æœ¯ã€‹çš„ä¸€ç§æ±‚æœ€å¤§å…¬çº¦æ•°çš„ç®—æ³•,å®ƒåŽŸæœ¬æ˜¯ä¸ºçº¦åˆ†è€Œè®¾è®¡çš„,ä½†å®ƒé€‚ç”¨äºŽä»»ä½•éœ€è¦æ±‚æœ€å¤§å…¬çº¦æ•°çš„åœºåˆ. æ€è·¯åŽŸæ–‡æ˜¯ï¼šå¯åŠè€…åŠä¹‹ï¼Œä¸å¯åŠè€…ï¼Œå‰¯ç½®åˆ†æ¯ã€å­ä¹‹æ•°ï¼Œä»¥å°‘å‡å¤šï¼Œæ›´ç›¸å‡æŸï¼Œæ±‚å…¶ç­‰ä¹Ÿã€‚ä»¥ç­‰æ•°çº¦ä¹‹ã€‚ å¦‚æžœæ˜¯å¶æ•°åˆ™å…ˆå‡åŠ,ä¸æ˜¯å¶æ•°çš„è¯ç”¨å¤§æ•°å‡å°æ•°,ç”¨å¾—åˆ°çš„å·®å’Œä¸Šä¸€æ­¥ä¸­è¾ƒå°çš„æ•°å†æ¬¡ç›¸å‡,çŸ¥é“å‡æ•°å’Œå·®ç›¸ç­‰ä½ç½®,æœ€åŽç›¸ç­‰çš„æ•°å­—å°±æ˜¯å¾—åˆ°æœ€å¤§å…¬çº¦æ•°. ä½†æ˜¯æ­¤æ–¹æ³•ä¸­å¦‚æžœä¸¤ä¸ªæ•°éƒ½æ˜¯å¶æ•°çš„æƒ…å†µä¸‹æœ€åŽçš„å¾—åˆ°çš„ç»“æžœéœ€è¦åœ¨åŠ ä¸€å€,ä¸‹é¢å®žçŽ°ä¸­å…ˆä¸æ¶‰åŠå–åŠæ“ä½œ,åªè¿›è¡Œäº’å‡æ“ä½œ å¦‚æžœæˆ‘ä»¬è®¡ç®—49å’Œ21çš„æœ€å¤§å…¬çº¦æ•° 49 - 21 = 28 49å’Œ21éƒ½ä¸æ˜¯å¶æ•°,ç›´æŽ¥ç”¨è¾ƒå¤§çš„æ•°å‡åŽ»è¾ƒå°çš„æ•° 28 - 21 = 7 å°†ä¸Šä¸€æ­¥ä¸­å¾—åˆ°çš„å·®å’Œä¸Šä¸€æ­¥ä¸­è¾ƒå°çš„æ•°å†æ¬¡ç›¸å‡(ç”¨äº¤å¤§æ•°å‡åŽ»è¾ƒå°æ•°) 21 - 7 = 14 14 - 7 = 7 7 - 7 = 0 é‡å¤ä»¥ä¸Šæ­¥éª¤ ç›´è‡³å·®å’Œè¾ƒå°çš„æ•°ç›¸ç­‰,æ­¤æ—¶ç›¸ç­‰çš„æ•°å°±æ˜¯éœ€è¦çš„æœ€å¤§å…¬çº¦æ•° ä»£ç å®žçŽ° ä¼˜åŠ¿åœ¨è®¡ç®—å¤§æ•°çš„æƒ…å†µä¸‹ä¾æ—§å¯ä»¥ä¿æŒè¾ƒå¿«çš„é€Ÿåº¦ åŠ£åŠ¿å› ä¸ºè¦ä¸æ–­äº’å‡,åœ¨ä¸¤ä¸ªæ•°è¾ƒä¸ºæŽ¥è¿‘çš„æ—¶å€™éœ€è¦çš„ç³»ç»Ÿèµ„æºè¾ƒå¤§ Steinç®—æ³• Steinç®—æ³•æ˜¯ä¸€ç§è®¡ç®—ä¸¤ä¸ªæ•°æœ€å¤§å…¬çº¦æ•°çš„ç®—æ³•ï¼Œæ˜¯é’ˆå¯¹æ¬§å‡ é‡Œå¾·ç®—æ³•åœ¨å¯¹å¤§æ•´æ•°è¿›è¡Œè¿ç®—æ—¶ï¼Œéœ€è¦è¯•å•†å¯¼è‡´å¢žåŠ è¿ç®—æ—¶é—´çš„ç¼ºé™·è€Œæå‡ºçš„æ”¹è¿›ç®—æ³•ã€‚ æ€è·¯ç›¸å¯¹äºŽè¾—è½¬æƒ³ç›¸é™¤æ³•,ç›¸å‡æŸæœ¯æ–¹æ³•å’ŒSteinç®—æ³•æ›´ä¸ºæŽ¥è¿‘. å¦‚æžœä¸¤ä¸ªæ•°éƒ½æ˜¯å¶æ•°åˆ™æƒ³å°†å…¶é™¤ä»¥2 æœ€åŽçš„ç»“æžœå†ä¹˜ä»¥2,å¦‚æžœå…¶ä¸­çš„ä¸€ä¸ªæ˜¯å¶æ•°,åˆ™å°†å…¶ä¸ºå¶æ•°çš„æ•°é™¤ä»¥2,å¦‚æžœä¸¤ä¸ªå‡ä¸ºå¥‡æ•°,åˆ™ç”¨è¾ƒå¤§çš„æ•°å†å‡åŽ»è¾ƒå°çš„æ•°,å¾—åˆ°çš„å·®å¿…ä¸ºå¶æ•°,å†é‡å¤ä¸Šè¿°è¿‡ç¨‹,ç›´åˆ°å…¶ä¸­è¾ƒå°çš„æ•°å’ŒæŸ¥ç›¸åŒ,æ­¤æ—¶ç›¸åŒçš„æ•°å°±æ˜¯éœ€è¦å¾—åˆ°çš„æœ€å¤§å…¬çº¦æ•° å¦‚æžœæˆ‘ä»¬è®¡ç®—49å’Œ21çš„æœ€å¤§å…¬çº¦æ•° 49 - 21 = 28 49åŠ21å‡ä¸ºå¥‡æ•°,åˆ™ç”¨è¾ƒå¤§çš„æ•°å‡åŽ»è¾ƒå°çš„æ•° 28 / 2 = 14 å…¶ä¸­å¾—åˆ°çš„å·®ä¸ºå¶æ•°,å°†å¶æ•°é™¤ä»¥2 14 / 2 = 7 å…¶ä¸­å¾—åˆ°çš„å·®ä¸ºå¶æ•°,å°†å¶æ•°é™¤ä»¥2 7 - 7 = 0 é‡å¤ä¸Šè¿°è¿‡ç¨‹ çŸ¥é“å·®å’Œä¸Šä¸€æ­¥ä¸­çš„è¾ƒå°æ•°ç›¸åŒ ç›¸åŒçš„å€¼å°±æ˜¯æœ€å¤§å…¬çº¦æ•° ä»£ç å®žçŽ° ä¼˜åŠ¿åªæ˜¯ç”¨äº†ç§»ä½è¿ç®—åŠåŠ å‡æ³• åœ¨è®¡ç®—å¤§æ•°çš„è¿‡ç¨‹ä¸­æ€§èƒ½æœ€ä½³ åŠ£åŠ¿æ•°æ®è¾ƒå°çš„æ—¶å€™,èŠ±è´¹çš„æ—¶é—´ç›¸å¯¹è¾—è½¬ç›¸é™¤æ³•åŠæ›´ç›¸å‡æŸæœ¯ç•¥å¤š,ä¸é€‚åˆè¾ƒå°çš„æ•°æ®çš„è®¡ç®— ä»£ç å¯è¯»æ€§åŸºæœ¬æ²¡æœ‰â€¦]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Httpsä»Žäº†è§£åˆ°ç®—äº†]]></title>
      <url>%2F2017%2F11%2F04%2Fhttps%2F</url>
      <content type="text"><![CDATA[Httpsä»Žäº†è§£åˆ°ç®—äº†Httpsçš„æ¦‚å¿µä»¥ä¸‹ç›¸å…³åè¯å‡æ‘˜è‡ªwikipedia Https è¶…æ–‡æœ¬ä¼ è¾“å®‰å…¨åè®®ï¼ˆè‹±è¯­ï¼šHypertext Transfer Protocol Secureï¼Œç¼©å†™ï¼šHTTPSï¼Œå¸¸ç§°ä¸ºHTTP over TLSï¼ŒHTTP over SSLæˆ–HTTP Secureï¼‰æ˜¯ä¸€ç§é€šè¿‡è®¡ç®—æœºç½‘ç»œè¿›è¡Œå®‰å…¨é€šä¿¡çš„ä¼ è¾“åè®®ã€‚HTTPSç»ç”±HTTPè¿›è¡Œé€šä¿¡ï¼Œä½†åˆ©ç”¨SSL/TLSæ¥åŠ å¯†æ•°æ®åŒ…ã€‚HTTPSå¼€å‘çš„ä¸»è¦ç›®çš„ï¼Œæ˜¯æä¾›å¯¹ç½‘ç«™æœåŠ¡å™¨çš„èº«ä»½è®¤è¯ï¼Œä¿æŠ¤äº¤æ¢æ•°æ®çš„éšç§ä¸Žå®Œæ•´æ€§ã€‚è¿™ä¸ªåè®®ç”±ç½‘æ™¯å…¬å¸ï¼ˆNetscapeï¼‰åœ¨1994å¹´é¦–æ¬¡æå‡ºï¼ŒéšåŽæ‰©å±•åˆ°äº’è”ç½‘ä¸Šã€‚ SSL å®‰å…¨å¥—æŽ¥å±‚ï¼ˆSecure Sockets Layerï¼‰æ˜¯netscapeè®¾è®¡çš„ä¸»è¦ç”¨äºŽWebçš„å®‰å…¨ä¼ è¾“åè®®,ä½äºŽå¯é çš„é¢å‘è¿žæŽ¥çš„ç½‘ç»œå±‚åè®®å’Œåº”ç”¨å±‚åè®®ä¹‹é—´çš„ä¸€ç§åè®®å±‚ã€‚ TLS ä¼ è¾“å±‚å®‰å…¨åè®®ï¼ˆè‹±è¯­ï¼šTransport Layer Securityï¼‰ ç”¨äºŽä¸¤ä¸ªåº”ç”¨ç¨‹åºä¹‹é—´æä¾›ä¿å¯†æ€§å’Œæ•°æ®å®Œæ•´æ€§ã€‚ IETF äº’è”ç½‘å·¥ç¨‹ä»»åŠ¡å°ç»„ï¼ˆè‹±è¯­ï¼šInternet Engineering Task Forceï¼Œç¸®å¯«ç‚ºIETFï¼‰è´Ÿè´£äº’è”ç½‘æ ‡å‡†çš„å¼€å‘å’ŒæŽ¨åŠ¨ã€‚ TLSä¸ŽSSLå…³ç³»TLSçš„å‰èº«æ˜¯ SSL3.0 åè®®ï¼Œæœ€æ—©ç”±netscapeå…¬å¸äºŽ 1995 å¹´å‘å¸ƒï¼Œ1999 å¹´ç»è¿‡ IETF è®¨è®ºå’Œè§„èŒƒåŽï¼Œæ”¹åä¸º TLSã€‚å¦‚æžœæ²¡æœ‰ç‰¹åˆ«è¯´æ˜Žï¼ŒSSL å’Œ TLS è¯´çš„éƒ½æ˜¯åŒä¸€ä¸ªåè®®ã€‚ ç›®å‰æœ‰ä»¥ä¸‹å‡ ä¸ªç‰ˆæœ¬ï¼šSSLv2ï¼ŒSSLv3ï¼ŒTLSv1ï¼ŒTLSv1.1ï¼ŒTLSv1.2ï¼ŒTLSv1.3(è‰æ¡ˆ)å½“å‰åŸºæœ¬ä¸å†ä½¿ç”¨ä½ŽäºŽ TLSv1 çš„ç‰ˆæœ¬ Httpsä¸ŽHttp TLS/SSLåè®®çš„åŸºæœ¬æ¦‚å¿µTLS/SSLçš„åŠŸèƒ½å®žçŽ°ä¸»è¦ä¾èµ–äºŽä¸‰ç±»åŸºæœ¬ç®—æ³•ï¼šæ•£åˆ—å‡½æ•° Hashã€å¯¹ç§°åŠ å¯†å’Œéžå¯¹ç§°åŠ å¯†ï¼Œå…¶åˆ©ç”¨éžå¯¹ç§°åŠ å¯†å®žçŽ°èº«ä»½è®¤è¯å’Œå¯†é’¥åå•†ï¼Œå¯¹ç§°åŠ å¯†ç®—æ³•é‡‡ç”¨åå•†çš„å¯†é’¥å¯¹æ•°æ®åŠ å¯†ï¼ŒåŸºäºŽæ•£åˆ—å‡½æ•°éªŒè¯ä¿¡æ¯çš„å®Œæ•´æ€§ æ•£åˆ—å‡½æ•°Hashï¼šå¸¸è§çš„æœ‰ MD5ã€SHA1ã€SHA256ï¼Œè¯¥ç±»å‡½æ•°ç‰¹ç‚¹æ˜¯å‡½æ•°å•å‘ä¸å¯é€†ã€å¯¹è¾“å…¥éžå¸¸æ•æ„Ÿã€è¾“å‡ºé•¿åº¦å›ºå®šï¼Œé’ˆå¯¹æ•°æ®çš„ä»»ä½•ä¿®æ”¹éƒ½ä¼šæ”¹å˜æ•£åˆ—å‡½æ•°çš„ç»“æžœï¼Œç”¨äºŽé˜²æ­¢ä¿¡æ¯ç¯¡æ”¹å¹¶éªŒè¯æ•°æ®çš„å®Œæ•´æ€§ï¼› å¯¹ç§°åŠ å¯†ï¼šå¸¸è§çš„æœ‰ AES-CBCã€DESã€3DESã€AES-GCMç­‰ï¼Œç›¸åŒçš„å¯†é’¥å¯ä»¥ç”¨äºŽä¿¡æ¯çš„åŠ å¯†å’Œè§£å¯†ï¼ŒæŽŒæ¡å¯†é’¥æ‰èƒ½èŽ·å–ä¿¡æ¯ï¼Œèƒ½å¤Ÿé˜²æ­¢ä¿¡æ¯çªƒå¬ï¼Œé€šä¿¡æ–¹å¼æ˜¯1å¯¹1ï¼› éžå¯¹ç§°åŠ å¯†ï¼šå³å¸¸è§çš„ RSAã€ECDHEã€DH ã€DHEç­‰ç®—æ³•ï¼Œç®—æ³•ç‰¹ç‚¹æ˜¯ï¼Œå¯†é’¥æˆå¯¹å‡ºçŽ°ï¼Œä¸€èˆ¬ç§°ä¸ºå…¬é’¥(å…¬å¼€)å’Œç§é’¥(ä¿å¯†)ï¼Œå…¬é’¥åŠ å¯†çš„ä¿¡æ¯åªèƒ½ç§é’¥è§£å¼€ï¼Œç§é’¥åŠ å¯†çš„ä¿¡æ¯åªèƒ½å…¬é’¥è§£å¼€ã€‚å› æ­¤æŽŒæ¡å…¬é’¥çš„ä¸åŒå®¢æˆ·ç«¯ä¹‹é—´ä¸èƒ½äº’ç›¸è§£å¯†ä¿¡æ¯ï¼Œåªèƒ½å’ŒæŽŒæ¡ç§é’¥çš„æœåŠ¡å™¨è¿›è¡ŒåŠ å¯†é€šä¿¡ï¼ŒæœåŠ¡å™¨å¯ä»¥å®žçŽ°1å¯¹å¤šçš„é€šä¿¡ï¼Œå®¢æˆ·ç«¯ä¹Ÿå¯ä»¥ç”¨æ¥éªŒè¯æŽŒæ¡ç§é’¥çš„æœåŠ¡å™¨èº«ä»½ã€‚ å¯¹ç§°åŠ å¯†çš„å¼Šç«¯ è¦æ±‚æä¾›ä¸€æ¡å®‰å…¨çš„é€šé“ä½¿é€šä¿¡åŒæ–¹åœ¨é¦–æ¬¡é€šä¿¡æ—¶åå•†ä¸€ä¸ªå…±åŒçš„å¯†é’¥ã€‚ç›´æŽ¥é¢å¯¹é¢åå•†å¯èƒ½éš¾äºŽå®žæ–½ï¼Œæ‰€ä»¥åŒæ–¹éœ€è¦å€ŸåŠ©äºŽé‚®ä»¶å’Œç”µè¯ç­‰å…¶ä»–ç›¸å¯¹ä¸å¤Ÿå®‰å…¨çš„æ‰‹æ®µæ¥è¿›è¡Œåå•†ã€‚ å¯†é’¥çš„æ•°ç›®éš¾äºŽç®¡ç†ã€‚å› ä¸ºå¯¹äºŽæ¯ä¸€ä¸ªåˆä½œè€…éƒ½éœ€è¦ä½¿ç”¨ä¸åŒçš„å¯†é’¥ï¼Œå¾ˆéš¾é€‚åº”å¼€æ”¾ç¤¾ ä¼šä¸­å¤§é‡çš„ä¿¡æ¯äº¤æµã€‚å¯¹ç§°åŠ å¯†ç®—æ³•ä¸€èˆ¬ä¸èƒ½æä¾›ä¿¡æ¯å®Œæ•´æ€§çš„é‰´åˆ«ã€‚å®ƒæ— æ³•éªŒè¯å‘é€è€…å’ŒæŽ¥å—è€…çš„èº«ä»½ã€‚ å¯¹ç§°å¯†é’¥çš„ç®¡ç†å’Œåˆ†å‘å·¥ä½œæ˜¯ä¸€ä»¶å…·æœ‰æ½œåœ¨å±é™©çš„ã€ç¹ççš„è¿‡ç¨‹ã€‚å¯¹ç§°åŠ å¯†æ˜¯åŸºäºŽå…±åŒä¿å®ˆç§˜å¯†æ¥å®žçŽ°çš„ï¼Œé‡‡ç”¨å¯¹ç§°åŠ å¯†æŠ€æœ¯çš„è´¸æ˜“åŒæ–¹å¿…é¡»ä¿è¯é‡‡ç”¨çš„æ˜¯ç›¸åŒçš„å¯†é’¥ï¼Œä¿è¯å½¼æ­¤å¯†é’¥çš„äº¤æ¢æ˜¯å®‰å…¨å¯é çš„ï¼ŒåŒæ—¶è¿˜è¦è®¾å®šé˜²æ­¢å¯†åŒæ³„å¯†å’Œæ›´æ”¹å¯†é’¥çš„ç¨‹åºã€‚ éžå¯¹ç§°åŠ å¯†çš„å¼Šç«¯å…ˆå¤©ä¸è¶³åœ¨å…¬å¼€å¯†é’¥å¯†ç ä½“åˆ¶ä¸­ï¼Œå¸¸ç”¨çš„ä¸€ç§æ˜¯RSAåŠ å¯†ç®—æ³•ã€‚å…¶æ•°å­¦åŽŸç†æ˜¯å°†ä¸€ä¸ªå¤§æ•°åˆ†è§£æˆä¸¤ä¸ªè´¨æ•°çš„ä¹˜ç§¯ï¼ŒåŠ å¯†å’Œè§£å¯†ç”¨çš„æ˜¯ä¸¤ä¸ªä¸åŒçš„å¯†é’¥ã€‚å³ä½¿å·±çŸ¥æ˜Žæ–‡ã€å¯†æ–‡å’ŒåŠ å¯†å¯†é’¥(å…¬é’¥)ï¼Œæƒ³è¦æŽ¨å¯¼å‡ºè§£å¯†å¯†é’¥(ç§é’¥)ï¼Œåœ¨è®¡ç®—ä¸Šæ˜¯ä¸å¯èƒ½çš„ã€‚æŒ‰çŽ°åœ¨çš„è®¡ç®—æœºæŠ€æœ¯æ°´å¹³ï¼Œè¦ç ´è§£ç›®å‰é‡‡ç”¨çš„1024ä½RSAå¯†é’¥ï¼Œéœ€è¦ä¸Šåƒå¹´çš„è®¡ç®—æ—¶é—´ã€‚å…¬å¼€å¯†é’¥æŠ€æœ¯è§£å†³äº†å¯†é’¥å‘å¸ƒçš„ç®¡ç†é—®é¢˜ï¼Œå•†å®¶å¯ä»¥å…¬å¼€å…¶å…¬å¼€å¯†é’¥ï¼Œè€Œä¿ç•™å…¶ç§æœ‰å¯†é’¥ã€‚åœ¨2010å¹´ä»¥åŽï¼Œå‡é‡‡ç”¨äº†2048ä½çš„ç­¾å èº«ä»½éªŒè¯å’Œå¯†é’¥åå•†æ˜¯TLSçš„åŸºç¡€åŠŸèƒ½ï¼Œè¦æ±‚çš„å‰ææ˜¯åˆæ³•çš„æœåŠ¡å™¨æŽŒæ¡ç€å¯¹åº”çš„ç§é’¥ã€‚ä½†RSAç®—æ³•æ— æ³•ç¡®ä¿æœåŠ¡å™¨èº«ä»½çš„åˆæ³•æ€§ï¼Œå› ä¸ºå…¬é’¥å¹¶ä¸åŒ…å«æœåŠ¡å™¨çš„ä¿¡æ¯ ä¸­é—´äººæ”»å‡»å’Œä¿¡æ¯æŠµèµ– å®¢æˆ·ç«¯Cå’ŒæœåŠ¡å™¨Sè¿›è¡Œé€šä¿¡ï¼Œä¸­é—´èŠ‚ç‚¹MæˆªèŽ·äº†äºŒè€…çš„é€šä¿¡ï¼› èŠ‚ç‚¹Mè‡ªå·±è®¡ç®—äº§ç”Ÿä¸€å¯¹å…¬é’¥pub_Må’Œç§é’¥pri_Mï¼› Cå‘Sè¯·æ±‚å…¬é’¥æ—¶ï¼ŒMæŠŠè‡ªå·±çš„å…¬é’¥pub_Må‘ç»™äº†Cï¼› Cä½¿ç”¨å…¬é’¥ pub_MåŠ å¯†çš„æ•°æ®èƒ½å¤Ÿè¢«Mè§£å¯†ï¼Œå› ä¸ºMæŽŒæ¡å¯¹åº”çš„ç§é’¥pri_Mï¼Œè€Œ Cæ— æ³•æ ¹æ®å…¬é’¥ä¿¡æ¯åˆ¤æ–­æœåŠ¡å™¨çš„èº«ä»½ï¼Œä»Žè€Œ Cå’Œ Mä¹‹é—´å»ºç«‹äº†â€å¯ä¿¡â€åŠ å¯†è¿žæŽ¥ï¼› ä¸­é—´èŠ‚ç‚¹ Må’ŒæœåŠ¡å™¨Sä¹‹é—´å†å»ºç«‹åˆæ³•çš„è¿žæŽ¥ï¼Œå› æ­¤ Cå’Œ Sä¹‹é—´é€šä¿¡è¢«Må®Œå…¨æŽŒæ¡ï¼ŒMå¯ä»¥è¿›è¡Œä¿¡æ¯çš„çªƒå¬ã€ç¯¡æ”¹ç­‰æ“ä½œã€‚ æœåŠ¡å™¨ä¹Ÿå¯ä»¥å¯¹è‡ªå·±çš„å‘å‡ºçš„ä¿¡æ¯è¿›è¡Œå¦è®¤ï¼Œä¸æ‰¿è®¤ç›¸å…³ä¿¡æ¯æ˜¯è‡ªå·±å‘å‡ºã€‚ æ¨ªç©ºå‡ºä¸–çš„CAéªŒè¯åŠè¯ä¹¦CA ï¼ˆCertification Authorityï¼‰è´Ÿè´£å®¡æ ¸ä¿¡æ¯ï¼Œç„¶åŽå¯¹å…³é”®ä¿¡æ¯åˆ©ç”¨ç§é’¥è¿›è¡Œâ€ç­¾åâ€ï¼Œå…¬å¼€å¯¹åº”çš„å…¬é’¥ï¼Œå®¢æˆ·ç«¯å¯ä»¥åˆ©ç”¨å…¬é’¥éªŒè¯ç­¾åã€‚CAä¹Ÿå¯ä»¥åŠé”€å·²ç»ç­¾å‘çš„è¯ä¹¦ï¼Œå…·ä½“çš„æµç¨‹å¦‚ä¸‹ï¼š ç›¸å…³ ç”³è¯·è¯ä¹¦ä¸éœ€è¦æä¾›ç§é’¥ï¼Œç¡®ä¿ç§é’¥æ°¸è¿œåªèƒ½æœåŠ¡å™¨æŽŒæ¡ï¼› è¯ä¹¦çš„åˆæ³•æ€§ä»ç„¶ä¾èµ–äºŽéžå¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œè¯ä¹¦ä¸»è¦æ˜¯å¢žåŠ äº†æœåŠ¡å™¨ä¿¡æ¯ä»¥åŠç­¾åï¼› å†…ç½® CA å¯¹åº”çš„è¯ä¹¦ç§°ä¸ºæ ¹è¯ä¹¦ï¼Œé¢å‘è€…å’Œä½¿ç”¨è€…ç›¸åŒï¼Œè‡ªå·±ä¸ºè‡ªå·±ç­¾åï¼Œå³è‡ªç­¾åè¯ä¹¦ï¼› è¯ä¹¦=å…¬é’¥+ç”³è¯·è€…ä¸Žé¢å‘è€…ä¿¡æ¯+ç­¾åï¼› å…¬é’¥æ”¾åœ¨æ•°å­—è¯ä¹¦ä¸­ã€‚åªè¦è¯ä¹¦æ˜¯å¯ä¿¡çš„ï¼Œå…¬é’¥å°±æ˜¯å¯ä¿¡çš„ã€‚ å¦‚ä½•éªŒè¯è¯ä¹¦çš„åˆæ³•æ€§å®¢æˆ·ç«¯é’ˆå¯¹æœåŠ¡ç«¯ç”¨ç§é’¥å¯¹è¯ä¹¦ä¿¡æ¯ç­¾åçš„æ ¡éªŒ å½“å®¢æˆ·ç«¯å¯¹æœåŠ¡ç«¯å‘é€client_helloä¹‹åŽ æœåŠ¡ç«¯ä¼šå°†å…¬å¼€çš„å¯†é’¥è¯ä¹¦å‘é€ç»™å®¢æˆ·ç«¯,è¯ä¹¦ä¸­åŒ…å«äº†å…¬é’¥,å„ç§ä¿¡æ¯,ç­¾å(caé’ˆå¯¹è¯ä¹¦çš„æ‘˜è¦ä¿¡æ¯è¿›è¡Œç§é’¥åŠ å¯†) å½“å®¢æˆ·ç«¯æŽ¥æ”¶åˆ°è¯ä¹¦åŽä¼šé€šè¿‡å†…ç½®caå…¬é’¥å¯¹ç­¾åè¿›è¡Œè§£å¯†å·²éªŒè¯è¯ä¹¦çš„åˆæ³•æ€§.å¦‚æžœå·²çŸ¥çš„caå…¬é’¥å‡æ— æ³•è§£å¯†è¯ä¹¦ç­¾å,åˆ™è®¤å®šå½“å‰è¯ä¹¦ä¸æ˜¯è¢«è®¤å¯çš„è¯ä¹¦(æ²¡æœ‰é¢å¸ƒæœ¬è¯ä¹¦æˆ–è€…è¯ä¹¦è¢«ä¼ªé€ ) è¯ä¹¦é“¾è¯ä¹¦é“¾ :æœåŠ¡å™¨è¯ä¹¦ã€ä¸­é—´è¯ä¹¦ä¸Žæ ¹è¯ä¹¦åœ¨ä¸€èµ·ç»„åˆæˆä¸€æ¡åˆæ³•çš„è¯ä¹¦é“¾ï¼Œè¯ä¹¦é“¾çš„éªŒè¯æ˜¯è‡ªä¸‹è€Œä¸Šçš„ä¿¡ä»»ä¼ é€’çš„è¿‡ç¨‹ã€‚ å¦‚ CAæ ¹è¯ä¹¦å’ŒæœåŠ¡å™¨è¯ä¹¦ä¸­é—´å¢žåŠ ä¸€çº§è¯ä¹¦æœºæž„ï¼Œå³ä¸­é—´è¯ä¹¦ï¼Œè¯ä¹¦çš„äº§ç”Ÿå’ŒéªŒè¯åŽŸç†ä¸å˜ï¼Œåªæ˜¯å¢žåŠ ä¸€å±‚éªŒè¯ï¼Œåªè¦æœ€åŽèƒ½å¤Ÿè¢«ä»»ä½•ä¿¡ä»»çš„CAæ ¹è¯ä¹¦éªŒè¯åˆæ³•å³å¯ã€‚ æœåŠ¡å™¨è¯ä¹¦ server.pem çš„ç­¾å‘è€…ä¸ºä¸­é—´è¯ä¹¦æœºæž„ interï¼Œinter æ ¹æ®è¯ä¹¦ inter.pem éªŒè¯ server.pem ç¡®å®žä¸ºè‡ªå·±ç­¾å‘çš„æœ‰æ•ˆè¯ä¹¦ï¼› ä¸­é—´è¯ä¹¦ inter.pem çš„ç­¾å‘ CA ä¸º rootï¼Œroot æ ¹æ®è¯ä¹¦ root.pem éªŒè¯ inter.pem ä¸ºè‡ªå·±ç­¾å‘çš„åˆæ³•è¯ä¹¦ï¼› å®¢æˆ·ç«¯å†…ç½®ä¿¡ä»» CA çš„ root.pem è¯ä¹¦ï¼Œå› æ­¤æœåŠ¡å™¨è¯ä¹¦ server.pem çš„è¢«ä¿¡ä»»ã€‚ è¯ä¹¦é“¾çš„ä¼˜åŠ¿ä¸Žç‰¹ç‚¹ å‡å°‘æ ¹è¯ä¹¦ç»“æž„çš„ç®¡ç†å·¥ä½œé‡ï¼Œå¯ä»¥æ›´é«˜æ•ˆçš„è¿›è¡Œè¯ä¹¦çš„å®¡æ ¸ä¸Žç­¾å‘ï¼› æ ¹è¯ä¹¦ä¸€èˆ¬å†…ç½®åœ¨å®¢æˆ·ç«¯ä¸­ï¼Œç§é’¥ä¸€èˆ¬ç¦»çº¿å­˜å‚¨ï¼Œä¸€æ—¦ç§é’¥æ³„éœ²ï¼Œåˆ™åŠé”€è¿‡ç¨‹éžå¸¸å›°éš¾ï¼Œæ— æ³•åŠæ—¶è¡¥æ•‘ï¼› ä¸­é—´è¯ä¹¦ç»“æž„çš„ç§é’¥æ³„éœ²ï¼Œåˆ™å¯ä»¥å¿«é€Ÿåœ¨çº¿åŠé”€ï¼Œå¹¶é‡æ–°ä¸ºç”¨æˆ·ç­¾å‘æ–°çš„è¯ä¹¦ï¼› è¯ä¹¦é“¾å››çº§ä»¥å†…ä¸€èˆ¬ä¸ä¼šå¯¹ HTTPS çš„æ€§èƒ½é€ æˆæ˜Žæ˜¾å½±å“ã€‚ åŒä¸€æœ¬æœåŠ¡å™¨è¯ä¹¦å¯èƒ½å­˜åœ¨å¤šæ¡åˆæ³•çš„è¯ä¹¦é“¾ã€‚å› ä¸ºè¯ä¹¦çš„ç”Ÿæˆå’ŒéªŒè¯åŸºç¡€æ˜¯å…¬é’¥å’Œç§é’¥å¯¹ï¼Œå¦‚æžœé‡‡ç”¨ç›¸åŒçš„å…¬é’¥å’Œç§é’¥ç”Ÿæˆä¸åŒçš„ä¸­é—´è¯ä¹¦ï¼Œé’ˆå¯¹è¢«ç­¾å‘è€…è€Œè¨€ï¼Œè¯¥ç­¾å‘æœºæž„éƒ½æ˜¯åˆæ³•çš„ CAï¼Œä¸åŒçš„æ˜¯ä¸­é—´è¯ä¹¦çš„ç­¾å‘æœºæž„ä¸åŒï¼› ä¸åŒè¯ä¹¦é“¾çš„å±‚çº§ä¸ä¸€å®šç›¸åŒï¼Œå¯èƒ½äºŒçº§ã€ä¸‰çº§æˆ–å››çº§è¯ä¹¦é“¾ã€‚ä¸­é—´è¯ä¹¦çš„ç­¾å‘æœºæž„å¯èƒ½æ˜¯æ ¹è¯ä¹¦æœºæž„ä¹Ÿå¯èƒ½æ˜¯å¦ä¸€ä¸ªä¸­é—´è¯ä¹¦æœºæž„ï¼Œæ‰€ä»¥è¯ä¹¦é“¾å±‚çº§ä¸ä¸€å®šç›¸åŒã€‚ è¯ä¹¦åŠé”€CA æœºæž„èƒ½å¤Ÿç­¾å‘è¯ä¹¦ï¼ŒåŒæ ·ä¹Ÿå­˜åœ¨æœºåˆ¶å®£å¸ƒä»¥å¾€ç­¾å‘çš„è¯ä¹¦æ— æ•ˆã€‚è¯ä¹¦ä½¿ç”¨è€…ä¸åˆæ³•ï¼ŒCA éœ€è¦åºŸå¼ƒè¯¥è¯ä¹¦ï¼›æˆ–è€…ç§é’¥ä¸¢å¤±ï¼Œä½¿ç”¨è€…ç”³è¯·è®©è¯ä¹¦æ— æ•ˆã€‚ä¸»è¦å­˜åœ¨ä¸¤ç±»æœºåˆ¶ï¼šCRLä¸ŽOCSPã€‚ CRLCertificate Revocation Listï¼Œ è¯ä¹¦åŠé”€åˆ—è¡¨ï¼Œæ˜¯ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶åŒ…å«äº† CA å·²ç»åŠé”€çš„è¯ä¹¦åºåˆ—å·(å”¯ä¸€)ä¸ŽåŠé”€æ—¥æœŸï¼ŒåŒæ—¶è¯¥æ–‡ä»¶åŒ…å«ç”Ÿæ•ˆæ—¥æœŸå¹¶é€šçŸ¥ä¸‹æ¬¡æ›´æ–°è¯¥æ–‡ä»¶çš„æ—¶é—´ï¼Œå½“ç„¶è¯¥æ–‡ä»¶å¿…ç„¶åŒ…å« CA ç§é’¥çš„ç­¾åä»¥éªŒè¯æ–‡ä»¶çš„åˆæ³•æ€§ã€‚ åœ¨è¯ä¹¦ä¸­ä¸€èˆ¬ä¼šåŒ…å«ä¸€ä¸ª URL åœ°å€ CRL Distribution Pointï¼Œé€šçŸ¥ä½¿ç”¨è€…åŽ»å“ªé‡Œä¸‹è½½å¯¹åº”çš„ CRL ä»¥æ ¡éªŒè¯ä¹¦æ˜¯å¦åŠé”€ã€‚è¯¥åŠé”€æ–¹å¼çš„ä¼˜ç‚¹æ˜¯ä¸éœ€è¦é¢‘ç¹æ›´æ–°ï¼Œä½†æ˜¯ä¸èƒ½åŠæ—¶åŠé”€è¯ä¹¦ï¼Œå› ä¸º CRL æ›´æ–°æ—¶é—´ä¸€èˆ¬æ˜¯å‡ å¤©ï¼Œè¿™æœŸé—´å¯èƒ½å·²ç»é€ æˆäº†æžå¤§æŸå¤±ã€‚ OCSPOnline Certificate Status Protocolï¼Œ è¯ä¹¦çŠ¶æ€åœ¨çº¿æŸ¥è¯¢åè®®ï¼Œä¸€ä¸ªå®žæ—¶æŸ¥è¯¢è¯ä¹¦æ˜¯å¦åŠé”€çš„æ–¹å¼ã€‚è¯·æ±‚è€…å‘é€è¯ä¹¦çš„ä¿¡æ¯å¹¶è¯·æ±‚æŸ¥è¯¢ï¼ŒæœåŠ¡å™¨è¿”å›žæ­£å¸¸ã€åŠé”€æˆ–æœªçŸ¥ä¸­çš„ä»»ä½•ä¸€ä¸ªçŠ¶æ€ã€‚ è¯ä¹¦ä¸­ä¸€èˆ¬ä¹Ÿä¼šåŒ…å«ä¸€ä¸ª OCSP çš„ URL åœ°å€ï¼Œè¦æ±‚æŸ¥è¯¢æœåŠ¡å™¨å…·æœ‰è‰¯å¥½çš„æ€§èƒ½ã€‚éƒ¨åˆ† CA æˆ–å¤§éƒ¨åˆ†çš„è‡ªç­¾ CA (æ ¹è¯ä¹¦)éƒ½æ˜¯æœªæä¾› CRL æˆ– OCSP åœ°å€çš„ï¼Œå¯¹äºŽåŠé”€è¯ä¹¦ä¼šæ˜¯ä¸€ä»¶éžå¸¸éº»çƒ¦çš„äº‹æƒ…ã€‚ TLS/SSLæ¡æ‰‹è¿‡ç¨‹X.509X.509 æ˜¯ä¸€ä¸ªæ ‡å‡†ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ•°å­—æ–‡æ¡£ï¼Œè¿™ä¸ªæ–‡æ¡£æ ¹æ®RFC 5280æ¥ç¼–ç å¹¶ç­¾å‘ï¼Œä¸€ä»½X.509è¯ä¹¦æ˜¯ä¸€äº›æ ‡å‡†å­—æ®µçš„é›†åˆï¼Œè¿™äº›å­—æ®µåŒ…å«æœ‰å…³ç”¨æˆ·æˆ–è®¾å¤‡åŠå…¶ç›¸åº”å…¬é’¥çš„ä¿¡æ¯ã€‚ ç¼–ç  (ä¹Ÿç”¨äºŽæ‰©å±•å) .DER - æ‰©å±•åDERç”¨äºŽäºŒè¿›åˆ¶DERç¼–ç çš„è¯ä¹¦ï¼Œä¸å¯è¯»ã€‚è¿™äº›è¯ä¹¦ä¹Ÿå¯ä»¥ç”¨CERæˆ–è€…CRTä½œä¸ºæ‰©å±•åã€‚ Javaå’ŒWindowsæœåŠ¡å™¨åå‘äºŽä½¿ç”¨è¿™ç§ç¼–ç æ ¼å¼ï¼Œæ¯”è¾ƒåˆé€‚çš„è¯´æ³•æ˜¯â€œæˆ‘æœ‰ä¸€ä¸ªDERç¼–ç çš„è¯ä¹¦â€ï¼Œè€Œä¸æ˜¯â€œæˆ‘æœ‰ä¸€ä¸ªDERè¯ä¹¦â€ã€‚ .PEM - æ‰©å±•åPEMç”¨äºŽASCII(Base64)ç¼–ç çš„å„ç§X.509 v3 è¯ä¹¦ã€‚ä»¥â€œâ€”â€“BEGINâ€¦â€å¼€å¤´ï¼Œ â€œâ€”â€“ENDâ€¦â€ç»“å°¾ï¼Œå†…å®¹æ˜¯BASE64ç¼–ç ï¼ŒApacheå’ŒLinuxæœåŠ¡å™¨åå‘äºŽä½¿ç”¨è¿™ç§ç¼–ç æ ¼å¼ã€‚ å¸¸ç”¨çš„æ‰©å±•å .KEY - é€šå¸¸ç”¨æ¥å­˜æ”¾ä¸€ä¸ªå…¬é’¥æˆ–è€…ç§é’¥ï¼Œå¹¶éžX.509è¯ä¹¦ï¼Œç¼–ç å¯èƒ½æ˜¯PEMï¼Œä¹Ÿå¯èƒ½æ˜¯DER. .CSR - æ˜¯Certificate Signing Requestçš„ç¼©å†™ï¼Œå³è¯ä¹¦ç­¾åè¯·æ±‚ï¼Œè¿™ä¸æ˜¯è¯ä¹¦ï¼Œæ˜¯ç”Ÿæˆè¯ä¹¦æ—¶è¦æŠŠè¿™ä¸ªæäº¤ç»™æƒå¨çš„è¯ä¹¦é¢å‘æœºæž„ã€‚å…¶æ ¸å¿ƒå†…å®¹æ˜¯ä¸€ä¸ªå…¬é’¥(å½“ç„¶è¿˜é™„å¸¦äº†ä¸€äº›åˆ«çš„ä¿¡æ¯)ï¼Œåœ¨ç”Ÿæˆè¿™ä¸ªç”³è¯·çš„æ—¶å€™ï¼ŒåŒæ—¶ä¹Ÿä¼šç”Ÿæˆä¸€ä¸ªç§é’¥ï¼Œç§é’¥è¦è‡ªå·±ä¿ç®¡å¥½.å½“æƒå¨è¯ä¹¦é¢å‘æœºæž„é¢å‘çš„è¯ä¹¦è¿‡æœŸçš„æ—¶å€™ï¼Œä½ è¿˜å¯ä»¥ç”¨åŒæ ·çš„csræ¥ç”³è¯·æ–°çš„è¯ä¹¦ï¼Œkeyä¿æŒä¸å˜. .CRT - certificateçš„ç¼©å†™ï¼Œå…¶å®žè¿˜æ˜¯è¯ä¹¦çš„æ„æ€ï¼Œå¸¸è§äºŽLinuxç³»ç»Ÿï¼Œæœ‰å¯èƒ½æ˜¯PEMæˆ–è€…DERç¼–ç ï¼Œå¤§å¤šæ•°åº”è¯¥æ˜¯PEMç¼–ç . .CER - certificateçš„ç¼©å†™ï¼Œå…¶å®žè¿˜æ˜¯è¯ä¹¦çš„æ„æ€ï¼Œå¸¸è§äºŽWindowsç³»ç»Ÿï¼Œæœ‰å¯èƒ½æ˜¯PEMæˆ–è€…DERç¼–ç ï¼Œå¤§å¤šæ•°åº”è¯¥æ˜¯DERç¼–ç . æ³¨æ„ï¼šCRTæ–‡ä»¶å’ŒCERæ–‡ä»¶åªæœ‰åœ¨ä½¿ç”¨ç›¸åŒç¼–ç çš„æ—¶å€™æ‰å¯ä»¥å®‰å…¨åœ°ç›¸äº’æ›¿ä»£ã€‚ .PFX/PKCS12 - predecessor of PKCS#12ï¼ŒåŒ…å«äº†è¯ä¹¦å’Œç§é’¥ï¼Œå¯¹LinuxæœåŠ¡å™¨æ¥è¯´ï¼Œä¸€èˆ¬æ¥è¯´CRTå’ŒKEYæ˜¯åˆ†å¼€å­˜æ”¾åœ¨ä¸åŒæ–‡ä»¶ä¸­çš„ï¼Œä½†Windowsçš„IISåˆ™å°†å®ƒä»¬å­˜åœ¨ä¸€ä¸ªPFXæ–‡ä»¶ä¸­ï¼Œå¹¶é€šè¿‡æå–å¯†ç æ¥ä¿æŠ¤ã€‚ .JKS/JCEKS - Javaå¯†é’¥åº“(KeyStore)çš„ä¸¤ç§æ¯”è¾ƒå¸¸è§ç±»åž‹ï¼ŒåŒ…å«äº†è¯ä¹¦å’Œç§é’¥ï¼Œåˆ©ç”¨Javaçš„â€œkeytoolâ€çš„å·¥å…·ï¼Œå¯ä»¥å°†PFXè½¬ä¸ºJKSï¼Œå½“ç„¶äº†ï¼Œkeytoolä¹Ÿèƒ½ç›´æŽ¥ç”ŸæˆJKSï¼ŒJCEKSåœ¨å®‰å…¨çº§åˆ«ä¸Šè¦æ¯”JKSå¼ºï¼Œä½¿ç”¨çš„Provideræ˜¯JCEKS(æŽ¨è)ï¼Œä½¿ç”¨ä½¿ç”¨TripleDES ä¿æŠ¤KeyStoreä¸­çš„ç§é’¥ï¼› .BKS â€“ Bouncy Castle Providerï¼ŒåŒ…å«äº†è¯ä¹¦å’Œç§é’¥ï¼Œ androidç³»ç»Ÿæ”¯æŒçš„ç±»åž‹ï¼Œå®ƒä½¿ç”¨çš„ä¹Ÿæ˜¯TripleDESæ¥ä¿æŠ¤å¯†é’¥åº“ä¸­çš„ç§é’¥ï¼Œå®ƒèƒ½å¤Ÿé˜²æ­¢è¯ä¹¦åº“è¢«ä¸å°å¿ƒä¿®æ”¹ï¼ˆKeystoreçš„keyentryæ”¹æŽ‰1ä¸ªbitéƒ½ä¼šäº§ç”Ÿé”™è¯¯ï¼‰ï¼ŒBKSèƒ½å¤Ÿè·ŸJKSäº’æ“ä½œã€‚ æ³¨æ„ï¼šé€šè¿‡å·¥å…· BKSã€JKSã€PFX ä¸‰ç§æ ¼å¼çš„è¯ä¹¦å‡å¯ä»¥ç›¸äº’è½¬æ¢ OpenSSLOpenSSLç®€å•åœ°è¯´ï¼ŒOpenSSLæ˜¯SSLçš„ä¸€ä¸ªå®žçŽ°ï¼ŒSSLåªæ˜¯ä¸€ç§è§„èŒƒç†è®ºä¸Šæ¥è¯´ï¼ŒSSLè¿™ç§è§„èŒƒæ˜¯å®‰å…¨çš„ï¼Œç›®å‰çš„æŠ€æœ¯æ°´å¹³å¾ˆéš¾ç ´è§£ï¼Œä½†SSLçš„å®žçŽ°å°±å¯èƒ½æœ‰äº›æ¼æ´žï¼Œå¦‚è‘—åçš„â€œå¿ƒè„å‡ºè¡€â€ã€‚OpenSSLè¿˜æä¾›äº†ä¸€å¤§å †å¼ºå¤§çš„å·¥å…·è½¯ä»¶ï¼Œå¼ºå¤§åˆ°90%æˆ‘ä»¬éƒ½ç”¨ä¸åˆ°. è¯ä¹¦ç¼–ç çš„è½¬æ¢PEMè½¬ä¸ºDER openssl x509 -in cert.crt -outform der -out cert.derDERè½¬ä¸ºPEM openssl x509 -in cert.crt -inform der -outform pem -out cert.pem(æç¤º:è¦è½¬æ¢KEYæ–‡ä»¶ä¹Ÿç±»ä¼¼ï¼Œåªä¸è¿‡æŠŠx509æ¢æˆrsaï¼Œè¦è½¬CSRçš„è¯ï¼ŒæŠŠx509æ¢æˆreqâ€¦) â€œå¿ƒè„å‡ºè¡€â€äº‹ä»¶2014å¹´æ›å…‰äº†OpenSSLçš„æºä»£ç ä¸­å­˜åœ¨ä¸€ä¸ªæ¼æ´žï¼Œå¯ä»¥è®©æ”»å‡»è€…èŽ·å¾—æœåŠ¡å™¨ä¸Š64Kå†…å­˜ä¸­çš„æ•°æ®å†…å®¹ OpenSSLå¿ƒè„å‡ºè¡€æ¼æ´žçš„å¤§æ¦‚åŽŸç†æ˜¯OpenSSLåœ¨2012å¹´å¼•å…¥äº†å¿ƒè·³(heartbeat)æœºåˆ¶æ¥ç»´æŒTLSé“¾æŽ¥çš„é•¿æœŸå­˜åœ¨ï¼Œå¿ƒè·³æœºåˆ¶æ˜¯ä½œä¸ºTLSçš„æ‰©å±•å®žçŽ°ï¼Œä½†åœ¨ä»£ç ä¸­åŒ…æ‹¬TLS(TCP)å’ŒDTLS(UDP)éƒ½æ²¡æœ‰åšè¾¹ç•Œçš„æ£€æµ‹ï¼Œæ‰€ä»¥å¯¼è‡´æ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ¼æ´žæ¥èŽ·å¾—TLSé“¾æŽ¥å¯¹ç«¯ï¼ˆå¯ä»¥æ˜¯æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥æ˜¯å®¢æˆ·ç«¯ï¼‰å†…å­˜ä¸­çš„ä¸€äº›æ•°æ®ï¼Œè‡³å°‘å¯ä»¥èŽ·å¾—16KBæ¯æ¬¡ï¼Œç†è®ºä¸Šè®²æœ€å¤§å¯ä»¥èŽ·å–64KBã€‚ AlexaæŽ’åå‰ç™¾ä¸‡çš„ç½‘ç«™ä¸­æœ‰40.9%çš„ç½‘ç«™æ”¶åˆ°å½±å“ Httpsä¸»è¦æµç¨‹ client server 1 Client Hello 2 Server Hello 3 certificate 4 server_key_exchange(DHåŠ å¯†éœ€è¦) 5 certificate_request(åŒå‘éªŒè¯éœ€è¦) 6 server_hello_done 7 certificate(åŒå‘éªŒè¯éœ€è¦) 8 client_key_exchange 9 certifiate_verify(åŒå‘éªŒè¯éœ€è¦) 10 change_cypher_spec 11 encrypted handshake message â€”-finishedâ€”- 12 change_cypher_spec 13 encrypted handshake message â€”-finishedâ€”- WiresharkæŠ“åŒ…å®žä¾‹ Client Hello (C-S) æä¾›æœ€é«˜æ”¯æŒçš„TLS/SSlç‰ˆæœ¬ å®¢æˆ·ç«¯ç”Ÿæˆéšæœºæ•°random_c å®¢æˆ·ç«¯æ”¯æŒçš„åŠ å¯†æ–¹å¼ Server Hello(S-C) åå•†åŽä½¿ç”¨çš„TLS/SSlç‰ˆæœ¬ æœåŠ¡ç«¯ç”Ÿæˆéšæœºæ•°random_s åå•†åŽä½¿ç”¨çš„åŠ å¯†æ–¹å¼ (ä¸Šå›¾ä¸­ä½¿ç”¨çš„æ˜¯RSAå’ŒDHæ··åˆä½¿ç”¨çš„æ–¹å¼,RSAéªŒè¯æœåŠ¡å™¨èº«ä»½,DHç®—æ³•åŠ å¯†å¯†é’¥) Certificate (S-C)/å¯é€‰ æä¾›æœåŠ¡å™¨çš„èº«ä»½è¯ä¹¦ç»™å®¢æˆ·ç«¯é‰´å®šï¼Œå¦‚æžœä¸ç”¨å…¬é’¥è¯ä¹¦ä½“ç³»éªŒè¯èº«ä»½å’Œäº¤æ¢å¯†é’¥ï¼Œè¯¥æ­¥éª¤å¯é€‰ï¼Œæ¯”å¦‚åœ¨ç”¨DHæ–¹æ³•äº¤æ¢çš„æ—¶å€™ã€‚ Server Key Exchange (S-C)/å¯é€‰ å¯†é’¥äº¤æ¢ç”¨åˆ°çš„æœåŠ¡å™¨æ–¹çš„ä¿¡æ¯ï¼Œä¸€èˆ¬æ˜¯è¡¥å……ä¸Šæ¬¡çš„ [Certificate]æŒ‡ä»¤çš„ä¿¡æ¯ï¼Œå¦‚æžœæ‰ç”¨DHåŠ å¯†ç®—ç®—æ³•éœ€è¦æä¾›. certificate_request(S-C)/å¯é€‰æœåŠ¡ç«¯è¦æ±‚å®¢æˆ·ç«¯æä¾›è¯ä¹¦,åŒ…æ‹¬å®¢æˆ·ç«¯å¯ä»¥æä¾›çš„è¯ä¹¦ç±»åž‹åŠæœåŠ¡å™¨æŽ¥å—çš„è¯ä¹¦distinguished nameåˆ—è¡¨ï¼Œå¯ä»¥æ˜¯root CAæˆ–è€…subordinate CA Server Hello Done (S-C)ç»“æŸæœåŠ¡å™¨ç«¯çš„æ¡æ‰‹è¿‡ç¨‹ certificate(C-S)/å¯é€‰å¦‚æžœæœåŠ¡ç«¯éœ€è¦å®¢æˆ·ç«¯æä¾›è¯ä¹¦,åˆ™åœ¨æ­¤æä¾›å®¢æˆ·ç«¯çš„è¯ä¹¦ Client Key Exchange (C-S)å®¢æˆ·ç«¯ä¼šåœ¨ç”Ÿæˆä¸€ä¸ªéšæœºæ•°pubkeyå¹¶å°†å®ƒå‘é€åˆ°æœåŠ¡ç«¯,å®¢æˆ·ç«¯ä¸ŽæœåŠ¡ç«¯å‡ä¼šæ ¹æ®ä¹‹å‰ç”Ÿæˆçš„random_c,random_s,pubkeyä¸‰ä¸ªéšæœºæ•°ç”Ÿæˆå¯¹ç§°åŠ å¯†çš„session secret certifiate_verify(C-S)/å¯é€‰å‘é€ä½¿ç”¨å®¢æˆ·ç«¯è¯ä¹¦ç»™åˆ°è¿™ä¸€æ­¥ä¸ºæ­¢æ”¶åˆ°å’Œå‘é€çš„æ‰€æœ‰æ¡æ‰‹æ¶ˆæ¯ç­¾åç»“æžœ Change Cipher Spec (C-S)é€šçŸ¥æœåŠ¡ç«¯æŽ¥ä¸‹æ¥çš„æ•°æ®å‡é‡‡ç”¨session secretä¸ºkeyå¯¹ç§°åŠ å¯†æ–¹å¼ Encrypted Handshake Message(C-S) å®¢æˆ·ç«¯éšåŽç«‹åˆ»å‘é€äº†ä¸€ä¸ªç»è¿‡åŠ å¯†çš„æ¶ˆæ¯, æœåŠ¡ç«¯åº”è¯¥å¯ä»¥æ ¹æ®ç”Ÿæˆçš„session secretæ¥è¿›è¡Œè§£å¯†,è¿™ä¸ªåŠ å¯†çš„æ¶ˆæ¯è§£å¯†ä»¥åŽæ˜¯æœ‰å›ºå®šæ ¼å¼çš„ï¼Œç¬¦åˆè¿™ä¸ªæ ¼å¼ï¼Œæˆ–åˆ™æ»¡è¶³ä¸€äº›å­—ç¬¦åŒ¹é…ï¼Œæ‰æ˜¯åˆæ³•çš„ã€‚ Change Cipher Spec(S-C)é€šçŸ¥å®¢æˆ·ç«¯æŽ¥ä¸‹æ¥çš„æ•°æ®å‡é‡‡ç”¨è¢«session secretåŠ å¯†çš„å¯¹ç§°åŠ å¯†æ–¹å¼ Encrypted Handshake Message(S-C)æœåŠ¡ç«¯éšåŽä¹Ÿç«‹åˆ»å‘é€äº†ä¸€ä¸ªç»è¿‡åŠ å¯†çš„æ¶ˆæ¯,è®©ç»™å®¢æˆ·ç«¯è¿›è¡ŒéªŒè¯ æ­£å¼çš„æ•°æ®äº¤äº’éšåŽä¸¤ç«¯éƒ½ä¼šé€šè¿‡å·²ç»åå•†å¥½çš„session secretä½œä¸ºkeyçš„å¯¹ç§°åŠ å¯†æ–¹å¼é€šè¿‡httpåè®®è¿›è¡Œæ•°æ®äº¤äº’ è‡ªç­¾åè¯ä¹¦çš„ä¸å®‰å…¨æ€§ è‡ªç­¾è¯ä¹¦æœ€å®¹æ˜“è¢«å‡å†’å’Œä¼ªé€ ï¼Œè€Œè¢«æ¬ºè¯ˆç½‘ç«™æ‰€åˆ©ç”¨ è‡ªç­¾è¯ä¹¦æœ€å®¹æ˜“å—åˆ°SSLä¸­é—´äººæ”»å‡» ä»¥ä¸Šè¿™ä¸¤ç‚¹éƒ½æ˜¯ç”±äºŽè‡ªç­¾è¯ä¹¦ä¸å—æµè§ˆå™¨ä¿¡ä»»ï¼Œè€Œç½‘ç«™å‘Šè¯‰ç”¨æˆ·è¦ä¿¡ä»»è€Œé€ æˆ è‡ªç­¾è¯ä¹¦æ”¯æŒä¸å®‰å…¨çš„SSLé€šä¿¡é‡æ–°åå•†æœºåˆ¶(DosåŠä¸­é—´äººæ”»å‡») è‡ªç­¾è¯ä¹¦æ”¯æŒéžå¸¸ä¸å®‰å…¨çš„SSL V2.0åè®® è‡ªç­¾è¯ä¹¦æ²¡æœ‰å¯è®¿é—®çš„åŠé”€åˆ—è¡¨ è‡ªç­¾è¯ä¹¦ä½¿ç”¨1024ä½çš„éžå¯¹ç§°å¯†é’¥å¯¹ è‡ªç­¾è¯ä¹¦è¯ä¹¦æœ‰æ•ˆæœŸå¤ªé•¿ï¼ŒçŸ­åˆ™5å¹´ï¼Œé•¿åˆ™20å¹´ã€30å¹´ HTTPSæ€§èƒ½æŸè€—å¢žåŠ å»¶æ—¶åˆ†æžå‰é¢çš„æ¡æ‰‹è¿‡ç¨‹ï¼Œä¸€æ¬¡å®Œæ•´çš„æ¡æ‰‹è‡³å°‘éœ€è¦ä¸¤ç«¯ä¾æ¬¡æ¥å›žä¸¤æ¬¡é€šä¿¡ï¼Œè‡³å°‘å¢žåŠ å»¶æ—¶2RTTï¼ˆRound-Trip Timeï¼Œå¾€è¿”æ—¶é—´ï¼‰ï¼Œåˆ©ç”¨ä¼šè¯ç¼“å­˜ä»Žè€Œå¤ç”¨è¿žæŽ¥ï¼Œå»¶æ—¶ä¹Ÿè‡³å°‘1 RTTã€‚ æ¶ˆè€—è¾ƒå¤šçš„CPUèµ„æºé™¤æ•°æ®ä¼ è¾“ä¹‹å¤–ï¼ŒHTTPSé€šä¿¡ä¸»è¦åŒ…æ‹¬å¯¹å¯¹ç§°åŠ è§£å¯†ã€éžå¯¹ç§°åŠ è§£å¯†(æœåŠ¡å™¨ä¸»è¦é‡‡ç”¨ç§é’¥è§£å¯†æ•°æ®)ï¼›åŽ‹æµ‹ TS8 æœºåž‹çš„å•æ ¸ CPUï¼šå¯¹ç§°åŠ å¯†ç®—æ³•AES-CBC-256 åžåé‡ 600Mbpsï¼Œéžå¯¹ç§° RSA ç§é’¥è§£å¯†200æ¬¡/sã€‚ä¸è€ƒè™‘å…¶å®ƒè½¯ä»¶å±‚é¢çš„å¼€é”€ï¼Œ10G ç½‘å¡ä¸ºå¯¹ç§°åŠ å¯†éœ€è¦æ¶ˆè€— CPU çº¦17æ ¸ï¼Œ24æ ¸CPUæœ€å¤šæŽ¥å…¥ HTTPS è¿žæŽ¥ 4800ï¼›é™æ€èŠ‚ç‚¹å½“å‰10G ç½‘å¡çš„ TS8 æœºåž‹çš„ HTTP å•æœºæŽ¥å…¥èƒ½åŠ›çº¦ä¸º10w/sï¼Œå¦‚æžœå°†æ‰€æœ‰çš„HTTPè¿žæŽ¥å˜ä¸ºHTTPSè¿žæŽ¥ï¼Œåˆ™æ˜Žæ˜¾RSAçš„è§£å¯†æœ€å…ˆæˆä¸ºç“¶é¢ˆã€‚å› æ­¤ï¼ŒRSAçš„è§£å¯†èƒ½åŠ›æ˜¯å½“å‰å›°æ‰°HTTPSæŽ¥å…¥çš„ä¸»è¦éš¾é¢˜ã€‚ HTTPSæŽ¥å…¥ä¼˜åŒ–CDNæŽ¥å…¥HTTPS å¢žåŠ çš„å»¶æ—¶ä¸»è¦æ˜¯ä¼ è¾“å»¶æ—¶ RTTï¼ŒRTT çš„ç‰¹ç‚¹æ˜¯èŠ‚ç‚¹è¶Šè¿‘å»¶æ—¶è¶Šå°ï¼ŒCDN å¤©ç„¶ç¦»ç”¨æˆ·æœ€è¿‘ï¼Œå› æ­¤é€‰æ‹©ä½¿ç”¨ CDN ä½œä¸º HTTPS æŽ¥å…¥çš„å…¥å£ï¼Œå°†èƒ½å¤Ÿæžå¤§å‡å°‘æŽ¥å…¥å»¶æ—¶ã€‚CDN èŠ‚ç‚¹é€šè¿‡å’Œä¸šåŠ¡æœåŠ¡å™¨ç»´æŒé•¿è¿žæŽ¥ã€ä¼šè¯å¤ç”¨å’Œé“¾è·¯è´¨é‡ä¼˜åŒ–ç­‰å¯æŽ§æ–¹æ³•ï¼Œæžå¤§å‡å°‘ HTTPS å¸¦æ¥çš„å»¶æ—¶ã€‚ ä¼šè¯ç¼“å­˜è™½ç„¶å‰æ–‡æåˆ° HTTPS å³ä½¿é‡‡ç”¨ä¼šè¯ç¼“å­˜ä¹Ÿè¦è‡³å°‘1*RTTçš„å»¶æ—¶ï¼Œä½†æ˜¯è‡³å°‘å»¶æ—¶å·²ç»å‡å°‘ä¸ºåŽŸæ¥çš„ä¸€åŠï¼Œæ˜Žæ˜¾çš„å»¶æ—¶ä¼˜åŒ–ï¼›åŒæ—¶ï¼ŒåŸºäºŽä¼šè¯ç¼“å­˜å»ºç«‹çš„ HTTPS è¿žæŽ¥ä¸éœ€è¦æœåŠ¡å™¨ä½¿ç”¨RSAç§é’¥è§£å¯†èŽ·å– Pre-master ä¿¡æ¯ï¼Œå¯ä»¥çœåŽ»CPU çš„æ¶ˆè€—ã€‚å¦‚æžœä¸šåŠ¡è®¿é—®è¿žæŽ¥é›†ä¸­ï¼Œç¼“å­˜å‘½ä¸­çŽ‡é«˜ï¼Œåˆ™HTTPSçš„æŽ¥å…¥èƒ½åŠ›è®²æ˜Žæ˜¾æå‡ã€‚å½“å‰TRPå¹³å°çš„ç¼“å­˜å‘½ä¸­çŽ‡é«˜å³°æ—¶æœŸå¤§äºŽ30%ï¼Œ10k/sçš„æŽ¥å…¥èµ„æºå®žé™…å¯ä»¥æ‰¿è½½13k/çš„æŽ¥å…¥ï¼Œæ”¶æ•ˆéžå¸¸å¯è§‚ã€‚ ç¡¬ä»¶åŠ é€Ÿä¸ºæŽ¥å…¥æœåŠ¡å™¨å®‰è£…ä¸“ç”¨çš„SSLç¡¬ä»¶åŠ é€Ÿå¡ï¼Œä½œç”¨ç±»ä¼¼ GPUï¼Œé‡Šæ”¾ CPUï¼Œèƒ½å¤Ÿå…·æœ‰æ›´é«˜çš„ HTTPS æŽ¥å…¥èƒ½åŠ›ä¸”ä¸å½±å“ä¸šåŠ¡ç¨‹åºçš„ã€‚æµ‹è¯•æŸç¡¬ä»¶åŠ é€Ÿå¡å•å¡å¯ä»¥æä¾›35kçš„è§£å¯†èƒ½åŠ›ï¼Œç›¸å½“äºŽ175æ ¸ CPUï¼Œè‡³å°‘ç›¸å½“äºŽ7å°24æ ¸çš„æœåŠ¡å™¨ï¼Œè€ƒè™‘åˆ°æŽ¥å…¥æœåŠ¡å™¨å…¶å®ƒç¨‹åºçš„å¼€é”€ï¼Œä¸€å¼ ç¡¬ä»¶å¡å¯ä»¥å®žçŽ°æŽ¥è¿‘10å°æœåŠ¡å™¨çš„æŽ¥å…¥èƒ½åŠ›ã€‚ è¿œç¨‹è§£å¯†æœ¬åœ°æŽ¥å…¥æ¶ˆè€—è¿‡å¤šçš„ CPU èµ„æºï¼Œæµªè´¹äº†ç½‘å¡å’Œç¡¬ç›˜ç­‰èµ„æºï¼Œè€ƒè™‘å°†æœ€æ¶ˆè€— CPU èµ„æºçš„RSAè§£å¯†è®¡ç®—ä»»åŠ¡è½¬ç§»åˆ°å…¶å®ƒæœåŠ¡å™¨ï¼Œå¦‚æ­¤åˆ™å¯ä»¥å……åˆ†å‘æŒ¥æœåŠ¡å™¨çš„æŽ¥å…¥èƒ½åŠ›ï¼Œå……åˆ†åˆ©ç”¨å¸¦å®½ä¸Žç½‘å¡èµ„æºã€‚è¿œç¨‹è§£å¯†æœåŠ¡å™¨å¯ä»¥é€‰æ‹© CPU è´Ÿè½½è¾ƒä½Žçš„æœºå™¨å……å½“ï¼Œå®žçŽ°æœºå™¨èµ„æºå¤ç”¨ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸“é—¨ä¼˜åŒ–çš„é«˜è®¡ç®—æ€§èƒ½çš„æœåŠ¡å™¨ã€‚å½“å‰ä¹Ÿæ˜¯ CDN ç”¨äºŽå¤§è§„æ¨¡HTTPSæŽ¥å…¥çš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€ã€‚ SPDY/HTTP2å‰é¢çš„æ–¹æ³•åˆ†åˆ«ä»Žå‡å°‘ä¼ è¾“å»¶æ—¶å’Œå•æœºè´Ÿè½½çš„æ–¹æ³•æé«˜ HTTPS æŽ¥å…¥æ€§èƒ½ï¼Œä½†æ˜¯æ–¹æ³•éƒ½åŸºäºŽä¸æ”¹å˜ HTTP åè®®çš„åŸºç¡€ä¸Šæå‡ºçš„ä¼˜åŒ–æ–¹æ³•ï¼ŒSPDY/HTTP2 åˆ©ç”¨ TLS/SSL å¸¦æ¥çš„ä¼˜åŠ¿ï¼Œé€šè¿‡ä¿®æ”¹åè®®çš„æ–¹æ³•æ¥æå‡ HTTPS çš„æ€§èƒ½ï¼Œæé«˜ä¸‹è½½é€Ÿåº¦ç­‰ã€‚ å‚è€ƒæ–‡ç« å›¾è§£SSL/TLSåè®® SSL/TLS æ¡æ‰‹ä¼˜åŒ–è¯¦è§£ å¤§åž‹ç½‘ç«™çš„ HTTPS å®žè·µï¼ˆ1ï¼‰ï¼šHTTPS åè®®å’ŒåŽŸç† æ²ƒé€šï¼ˆWosignï¼‰å…³äºŽæ•°å­—è¯ä¹¦çš„æŠ€æœ¯æ–‡æ¡£ HTTPSé€šä¿¡å»ºç«‹è¿‡ç¨‹]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[RpgMakeræ•™ç¨‹5]]></title>
      <url>%2F2017%2F10%2F06%2FRpgMaker%E6%95%99%E7%A8%8B5%2F</url>
      <content type="text"><![CDATA[RpgMakeræ•™ç¨‹5Step11 è®©æˆ‘ä»¬åˆ›é€ ä¸€ä¸ªè‹±é›„è§’è‰²åœ¨RpgMakerçš„æ•°æ®åº“ä¸­é»˜è®¤åˆå§‹åŒ–è®¾ç½®äº†ä¸€äº›æ•°æ®,ä¾‹å¦‚è§’è‰²,æ€ªç‰©ç­‰æ•°æ®. æ‰“å¼€æ¸¸æˆä¸­çš„æ•°æ®åº“ æ•°æ®åº“é¡µé¢,æ ¹æ®ç‰ˆæœ¬æˆ–è€…è®¾ç½®ä¸åŒ,å¯èƒ½éƒ¨åˆ†æ•°æ®ä¸åŒ åˆ›å»ºåº”è¯¥ä¸€ä¸ªæ–°çš„è§’è‰²æˆ‘ä»¬å¯ä»¥åœ¨â€æ•°æ®åº“â€ä¸­çš„â€è§’è‰²â€æ ‡ç­¾ä¸­å¯¹è§’è‰²è¿›è¡Œç¼–è¾‘. æˆ‘ä»¬åœ¨å·¦ä¸‹æ–¹çš„éƒ¨åˆ†å¯ä»¥è®¾ç½®æœ€å¤§è§’è‰²æ•°é‡.å½“å‰æ˜¯1,å¦‚æžœæƒ³è¦è®¾ç½®æ›´å¤šçš„è§’è‰²,è¦å…ˆä¿®æ”¹æœ€å¤§è§’è‰²æ•°é‡.å¦‚æžœæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„è§’è‰²,å°±å…ˆå°†æœ€å¤§è§’è‰²è®¾ç½®ä¸º2. è®¾ç½®æœ€å¤§è§’è‰²æ•°é‡ä¸º2 è®¾ç½®æœ€å¤§è§’è‰²æ•°é‡ä¸º2,æ–°çš„è§’è‰²è¿˜æ²¡æœ‰è®¾ç½®å†…å®¹,æ‰€ä»¥åªæ˜¾ç¤ºäº†â€0002â€ è®¾ç½®è§’è‰²åç§° è®¾ç½®è§’è‰²åç§° æˆ‘ä»¬è®¾ç½®è§’è‰²çš„åç§°ä¸ºâ€çŽ‹å¯Œè´µâ€,æˆ‘ä»¬è¿˜å¯ä»¥è®¾ç½®è§’è‰²çš„æ˜µç§°å’Œç®€ç§°çš„å†…å®¹. è®¾ç½®è§’è‰²å½¢è±¡ è®¾ç½®è§’è‰²å›¾åƒ è®¾ç½®è§’è‰²è„¸å›¾ è®¾ç½®è§’è‰²è¡Œèµ°å›¾ è®¾ç½®è§’è‰²æˆ˜æ–—å›¾ é€šè¿‡åŒå‡»â€è§’è‰²â€æ ‡ç­¾â€å›¾åƒâ€ä½ç½®çš„ä¸‰ä¸ªä¸åŒå›¾åƒéƒ¨åˆ†æ¥è®¾ç½®ä¸åŒéœ€æ±‚æ—¶çš„å›¾åƒ. è®¾ç½®è§’è‰²èŒä¸š é€šè¿‡ä¸‹æ‹‰èœå•æ¥é€‰æ‹©é»˜è®¤æä¾›çš„å‡ ä¸ªèŒä¸š. è®¾ç½®èŒä¸šä¿¡æ¯ ä¸åŒç‰ˆæœ¬çš„é¢æ¿æœ‰åšä¸åŒ å·²mvç‰ˆæœ¬ä¸ºä¸». æ•°æ®åº“èŒä¸šæ ‡ç­¾ è®¾ç½®ç»éªŒå€¼æ›²çº¿ ç»éªŒå€¼æ›²çº¿ æˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€æ±‚å’ŒèŒä¸šç‰¹è‰²æ¥é’ˆå¯¹ä¸åŒçš„èŒä¸šè®¾ç½®ä¸åŒçš„ç»éªŒæ›²çº¿ è®¾ç½®èƒ½åŠ›æ›²çº¿ èƒ½åŠ›ç¼ºé™· èƒ½åŠ›å€¼è®¾ç½® åŒæ ·å¯ä»¥é€šè¿‡å„ç§å‚æ•°è®¾ç½®å…·æœ‰èŒä¸šç‰¹è‰²èŒä¸šèƒ½åŠ›æ›²çº¿. è®¾ç½®èŒä¸šæŠ€èƒ½ è®¾ç½®èŒä¸šæŠ€èƒ½ æ•°æ®åº“æŠ€èƒ½æ ‡ç­¾ å…³äºŽè§’è‰²çš„æŠ€èƒ½å¯ä»¥é€šè¿‡æŠ€èƒ½æ ‡ç­¾é¡µé¢æ¥è¿›è¡Œä¿®æ”¹. è®¾ç½®è§’è‰²åˆå§‹è£…å¤‡ è§’è‰²åˆå§‹è£…å¤‡ æ­¦å™¨æ ‡ç­¾é¡µ å¯ä»¥åˆ‡æ¢åˆ°æ­¦å™¨æ ‡ç­¾é¡µå¯¹æ­¦å™¨è¿›è¡Œç¼–è¾‘,é’ˆå¯¹ä¸åŒçš„è§’è‰²å¯ä»¥é’ˆå¯¹çš„è®¾ç½®ä¸åŒçš„åˆå§‹æ­¦å™¨. è®¾ç½®è§’è‰²ç‰¹æ€§ è§’è‰²ç‰¹æ€§é¢æ¿ è®¾ç½®è§’è‰²ç‰¹æ€§ è®¾ç½®åˆå§‹è§’è‰²é˜Ÿä¼ ç³»ç»Ÿé¡µé¢ åˆå§‹é˜Ÿä¼ç¼–è¾‘ é€‰æ‹©â€ç³»ç»Ÿâ€æ ‡ç­¾é¡µ,å¯ä»¥çœ‹åˆ°åˆå§‹é˜Ÿä¼çš„é¢æ¿,å³é”®å·²ç»æ·»åŠ çš„è§’è‰²,å¯ä»¥å¯¹åˆå§‹é˜Ÿä¼çš„è§’è‰²è¿›è¡Œç¼–è¾‘å’Œåˆ é™¤. è®¾ç½®æˆåŠŸå¹¶ä¿å­˜åŽ,è®©æˆ‘ä»¬è¿›å…¥æ¸¸æˆæ‰“å¼€èœå•,æµ‹è¯•ä¸€ä¸‹æˆ‘ä»¬çš„åˆå§‹é˜Ÿä¼æ˜¯å¦å’ŒæœŸæœ›çš„ä¸€æ ·. æ¸¸æˆä¸­çš„èœå•é¡µé¢ å¯ä»¥çœ‹åˆ°,æˆ‘ä»¬é’ˆå¯¹åˆå§‹é˜Ÿä¼çš„è®¾ç½®æ˜¯æˆåŠŸçš„.]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[RpgMakeræ•™ç¨‹4]]></title>
      <url>%2F2017%2F10%2F04%2FRpgMaker%E6%95%99%E7%A8%8B4%2F</url>
      <content type="text"><![CDATA[RpgMakeræ•™ç¨‹4åœ¨ç¬¬ä¸‰å›žæ•™ç¨‹ä¸­,æˆ‘ä»¬ä½¿ç”¨äº†ç®€å•çš„â€åœºæ™¯äº‹ä»¶â€ æ¥è¿›è¡Œä¸¤ä¸ªåœ°å›¾é¡µé¢ä¹‹é—´çš„äº¤äº’ è¿™ä¸€å›žä¸­æˆ‘ä»¬è¦åœ¨åŸŽå ¡ä¸­å’Œå›½çŽ‹å¼€å§‹äº¤è°ˆ.åœ¨è¿™é‡Œæˆ‘å°†ä½¿ç”¨â€å¼€å…³â€ Step8 å’Œå›½çŽ‹è¿›è¡Œäº¤è°ˆæˆ‘ä»¬è¦è®¾ç½®ä¸€ä¸ªå›½çŽ‹,æ¥å‘Šè¯‰æˆ‘ä»¬çš„ä¸»è§’ å†’é™©çš„ç›®çš„(æ‰“è´¥é­”çŽ‹) å¯åŠ¨äº‹ä»¶ç¼–è¾‘å™¨ å°†æ¨¡å¼è®¾ç½®ä¸ºäº‹ä»¶æ¨¡å¼ æŒ‡å®šå›½çŽ‹çš„ä½ç½® å°†å…‰æ ‡æ”¾ç½®åœ¨çŽ‹åº§çš„åæ ‡ä¸­. å³é”®é€‰æ‹© æ–°å»º å³é”®å•å‡»å¼¹å‡ºå¼¹å‡ºèœå•,ç„¶åŽé€‰æ‹©äº‹ä»¶ äº‹ä»¶ç¼–è¾‘é¡µé¢ åˆ›å»ºäº‹ä»¶ åˆ›å»ºäº‹ä»¶çš„æ—¶å€™æ‰“å¼€æ­¤äº‹ä»¶ç¼–è¾‘å™¨,åœ¨äº‹ä»¶ç¼–è¾‘å™¨ä¸­å¯ä»¥å¯¹äº‹ä»¶çš„å‡ºçŽ°æ¡ä»¶åŠäº‹ä»¶çš„æ‰§è¡Œè¿›è¡Œè°ƒæ•´.çœ‹èµ·æ¥æœ‰å¾ˆå¤šçš„æ¡ç›®,ä¸è¿‡æ ¹æ®ä¸åŒçš„äº‹ä»¶å†…å®¹å¯ä»¥è®¾ç½®é¡¹ç›®çš„é»˜è®¤è®¾ç½®. é€‰æ‹©æ˜¾ç¤ºçš„å›¾åƒé€‰æ‹©æ¸¸æˆä¸­äº‹ä»¶æ˜¾ç¤ºçš„æ—¶å€™å±•ç¤ºçš„å›¾åƒ äº‹ä»¶ç¼–è¾‘å™¨-&gt;å›¾åƒ åŒå‡»å±•ç¤ºå›¾åƒçš„éƒ¨åˆ† ä»Žåˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªå›¾åƒ è¾“å…¥æ–‡æœ¬ä¿¡æ¯è¾“å…¥å›½çŽ‹å¯¹ä¸»è§’çš„å¯¹è¯,åŒå‡»â€æ‰§è¡Œå†…å®¹â€ä¸­çš„â€â™¦â€æ ‡è¯†,æ˜¾ç¤ºäº‹ä»¶æŒ‡ä»¤çš„åˆ—è¡¨é¡µé¢. äº‹ä»¶æŒ‡ä»¤äº‹ä»¶æŒ‡ä»¤æ˜¯ç”¨äºŽåˆ›å»ºäº‹ä»¶çš„æŒ‡ä»¤.æ ¹æ®ä½ éœ€è¦çš„æ“ä½œ,ä¼šé€šè¿‡ä¸åŒçš„å‘½ä»¤æ¥å®žçŽ°äº‹ä»¶. äº‹ä»¶æŒ‡ä»¤åˆ—è¡¨ç¬¬ä¸€é¡µ å¦‚æžœéœ€è¦åœ¨æ¸¸æˆä¸­æ˜¾ç¤ºæ–‡å­—å¯¹è¯ç±»çš„åŠŸèƒ½,ä½¿ç”¨â€æ˜¾ç¤ºæ–‡å­—â€äº‹ä»¶æŒ‡ä»¤ æ˜¾ç¤ºæ–‡å­—å¯¹è¯æ¡† åœ¨â€æ–‡æœ¬â€éƒ¨åˆ†è¾“å…¥æ–‡å­—.æˆ‘ä»¬æŠŠå›½çŽ‹éœ€è¦è¯´çš„è¯è¾“å…¥æ–‡æœ¬ä¸­.æœ€å¤šå¯ä»¥åœ¨ä¸€ä¸ªæ¶ˆæ¯çª—å£ä¸­æ˜¾ç¤ºå››è¡Œæ–‡å­—. å›½çŽ‹çš„å¯¹è¯ åœ¨å¯¹è¯ä¸­æ˜¾ç¤ºè„¸éƒ¨çš„å›¾å½¢åŒå‡»â€è„¸éƒ¨â€é€‰æ‹©è„¸éƒ¨å›¾å½¢.è„¸éƒ¨å›¾å½¢çš„è®¾ç½®ä¸æ˜¯å¿…è¦çš„,ä½†æ˜¯è¿™é‡Œè¦æè¿°ä¸€ä¸ªå¾ˆä¸¥è‚ƒçš„äº‹æƒ…,æˆ‘ä»¬è¦å±•ç¤ºå›½çŽ‹çš„é¢è²Œ. è„¸éƒ¨å›¾åƒé€‰æ‹© å›½çŽ‹çš„é¢è²Œè®¾ç½®æˆåŠŸ æœ€åŽ,æˆ‘ä»¬ç¡®è®¤æˆ‘ä»¬æ‰€è®¾ç½®çš„æ—¶é—´ Step9 â€œå¼€å…³â€äº‹ä»¶ç®¡ç†è®©æˆ‘ä»¬æ¥çœ‹çœ‹å›½çŽ‹çš„äº‹ä»¶èƒ½å¦æ­£å¸¸è¿ä½œ,è¿›å…¥åŸŽå ¡åœ°å›¾,ä¸Žå›½çŽ‹äº¤è°ˆ. ä¸Žå›½çŽ‹è¿›è¡Œå¯¹è¯ åœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥å’Œå›½çŽ‹æ­£å¸¸çš„å¯¹è¯,ä½†æ˜¯æ¯æ¬¡å¯¹è¯çš„æ—¶å€™éƒ½æ˜¾ç¤ºåŒæ ·çš„å¯¹è¯,å†ç¬¬äºŒæ¬¡å’Œå›½çŽ‹å¯¹è¯çš„æ—¶å€™æˆ‘ä»¬éœ€è¦å±•ç¤ºå¦ä¸€ç«¯æ–‡å­—. å¼€å…³å¼€å…³æ˜¯æ¸¸æˆä¸­çš„å¯¹é€»è¾‘è¿›è¡Œå¤„ç†çš„ä¸€ä¸ªé‡è¦çš„éƒ¨åˆ†.å•ä¸ªå¼€å…³å¯ä»¥åœ¨ä¸¤ä¸ªçŠ¶æ€ä¹‹é—´è¿›è¡Œåˆ‡æ¢.å³onå’Œoff,æ‰€æœ‰å¼€å…³çš„åˆå§‹çŠ¶æ€éƒ½ä¸ºoff.ä¾‹å¦‚,å½“æˆ‘ä»¬æƒ³è¦è®°å½•â€æˆ‘å’Œå›½çŽ‹çš„å¯¹è¯â€æ—¶,å°±æ‰“å¼€å¼€å…³.é‚£å°±æ„å‘³ç€â€æŸä¸ªå¼€å…³æ˜¯onâ€=â€æˆ‘å’Œå›½çŽ‹å¯¹è¯â€ ä½ å¯ä»¥å°†æŸä¸ªå¼€å…³çš„çŠ¶æ€ä½œä¸ºä¸€ä¸ªæ ‡è®°. é€šè¿‡å¼€å…³ æˆ‘ä»¬è®°å½•å’Œå›½çŽ‹çš„å¯¹è¯,å½“ç¬¬äºŒæ¬¡å’Œå›½çŽ‹å¯¹è¯æ—¶æ˜¾ç¤ºä¸åŒçš„æ–‡å­—. é‡æ–°æ‰“å¼€ä¹‹å‰çš„äº‹ä»¶. åœ¨äº‹ä»¶ç¼–è¾‘ä¸­æ‰“å¼€å’Œå›½çŽ‹å¯¹è¯çš„äº‹ä»¶ é€‰æ‹©å¼€å…³æ“ä½œ åœ¨äº‹ä»¶ç¼–è¾‘çš„é¡µé¢ä¸­ é€‰æ‹©æœ€ä¸‹æ–¹çš„â€â—†â€çš„æ ‡è®° å¹¶é€‰æ‹© æ¸¸æˆåŸºç¡€-&gt; å¼€å…³æ“ä½œ å¼€å…³æ“ä½œé¡µé¢ åˆ‡æ¢é€‰æ‹©å¼€å…³ ä¸ºå¼€å…³å‘½å å°†æ“ä½œè®¾ç½®ä¸ºâ€onâ€çŠ¶æ€ é€‰æ‹©å¼€å…³æ“ä½œä¸­çš„,å•ä¸ªæ¨¡å¼,é€‰æ‹©å³è¾¹çš„[â€¦]æŒ‰é’®,åˆ‡æ¢åˆ°é€‰æ‹©å¼€å…³é¡µé¢,å¹¶é€‰æ‹©â€0001â€å¼€å…³.æ¯ä¸ªå¼€å…³éƒ½å¯ä»¥å•ç‹¬å‘½å,ä¸ºäº†æ–¹ä¾¿åŽé¢çš„ä½¿ç”¨,æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªæè¿°æ€§çš„åç§°.æˆ‘ä»¬æŠŠ0001çš„å¼€å…³è®¾ç½®ä¸ºâ€ä¸Žå›½çŽ‹çš„å¯¹è¯â€,ç¡®è®¤åŽå°†è¯¥å¼€å…³çš„æ“ä½œè®¾ç½®ä¸ºâ€onâ€çŠ¶æ€. è®¾ç½®å®ŒæˆåŽæ•ˆæžœ Step10 é€šè¿‡å¼€å…³æŽ§åˆ¶äº‹ä»¶çš„å†…å®¹æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¼€å…³æ¥æŽ§åˆ¶â€ä¸Žå›½çŽ‹çš„äº¤è°ˆâ€çš„å†…å®¹.æŽ¥ä¸‹æ¥,å½“æˆ‘ä»¬ç¬¬äºŒæ¬¡å’Œå›½çŽ‹äº¤è°ˆåŽ,æˆ‘ä»¬å°†é€šè¿‡å¼€å…³æ¥æŽ§åˆ¶äº‹ä»¶. åˆ›å»ºæ–°çš„äº‹ä»¶é¡µé¢ æˆ‘ä»¬åˆ›å»ºç¬¬äºŒä¸ªæ ‡ç­¾é¡µ.é€šè¿‡ä¸åŒçš„æ ‡ç­¾é¡µ,æˆ‘ä»¬å¯ä»¥å¯¹åŒä¸€ä¸ªäº‹ä»¶è®¾ç½®ä¸åŒçš„æ‰§è¡Œæƒ…å†µ. æ–°çš„é¡µé¢å†…å®¹ åœ¨æ–°çš„æ ‡ç­¾é¡µä¸­æˆ‘ä»¬è®¾ç½®å½“æˆ‘ä»¬ç¬¬äºŒæ¬¡åŠä¹‹åŽå’Œå›½çŽ‹å¯¹è¯æ—¶çš„äº‹ä»¶. è®¾å®šå‡ºçŽ°æ¡ä»¶ é¦–å…ˆåœ¨æ ‡ç­¾é¡µä¸­è®¾ç½®â€å‡ºçŽ°æ¡ä»¶â€ä¸­çš„â€å¼€å…³â€éƒ¨åˆ†,å¹¶å°†å…¶æŒ‡å®šä¸ºå¼€å…³â€0001:ä¸Žå›½çŽ‹çš„å¯¹è¯â€.é€šè¿‡è¿™æ ·çš„è®¾ç½®,å½“å¼€å…³â€0001:ä¸Žå›½çŽ‹çš„å¯¹è¯â€çš„çŠ¶æ€ä¸ºâ€onâ€æ—¶å°±ä¼šæ‰§è¡Œç¬¬äºŒä¸ªäº‹ä»¶é¡µçš„å†…å®¹,è€Œä¸æ˜¯ç¬¬ä¸€äº‹ä»¶é¡µ. è®¾ç½®æ–°çš„äº‹ä»¶ åœ¨ç¬¬äºŒä¸ªäº‹ä»¶é¡µä¸­è®¾ç½®æ–°çš„å¯¹è¯äº‹ä»¶. å’Œå›½çŽ‹çš„ç¬¬ä¸€æ¬¡å¯¹è¯ å’Œå›½çŽ‹çš„ç¬¬äºŒæ¬¡å¯¹è¯ è‡³æ­¤ æˆ‘ä»¬å®Œæˆäº†å’Œå›½çŽ‹çš„å¯¹è¯äº‹ä»¶Å“]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[RpgMakeræ•™ç¨‹3]]></title>
      <url>%2F2017%2F10%2F04%2FRpgMaker%E6%95%99%E7%A8%8B3%2F</url>
      <content type="text"><![CDATA[å¼€å§‹å¡«å‘çš„æˆ‘ RpgMakerå…¥é—¨æ•™ç¨‹3ç¬¬ä¸‰å›ž è®©æˆ‘ä»¬å¼€å§‹åˆ¶ä½œåŸŽå ¡åœ¨ç¬¬äºŒå›žä¸­æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„é¡¹ç›® å¹¶åˆ¶ä½œäº†ä¸–ç•Œåœ°å›¾ ä¸‹ä¸€ä¸ªé˜¶æ®µ æˆ‘ä»¬å°†åˆ›å»ºå¯¹åº”æ ‡è¯†(åŸŽé•‡åŠåœ°ä¸‹åŸŽ)çš„å†…å®¹ Step6 å¼€å§‹åˆ¶ä½œåŸŽå ¡çš„åœ°å›¾åˆ›å»ºä¸€ä¸ªæ–°çš„åœ°å›¾åœ¨ç¼–è¾‘å™¨å·¦ä¸‹è§’çš„â€ä¸–ç•Œåœ°å›¾â€æ ‡ç­¾ä¸­å³é”® é€‰æ‹©æ–°å»ºåœ°å›¾ æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„åœ°å›¾ æ ¹æ®ä¸Šé¢å›¾ç‰‡å¯¹æ–°çš„åœ°å›¾å±žæ€§è¿›è¡Œè®¾ç½®,å°†åœ°å›¾åç§°æ›´æ”¹ä¸ºâ€œå†’é™©å¼€å§‹çš„åŸŽå ¡åœ°å›¾â€ ,åœ°å›¾å¤§å°è®¾ç½®ä¸ºé»˜è®¤å®½åº¦17å’Œé«˜åº¦13,å®ƒæ˜¯ä¸€ä¸ªåªæœ‰ä¸€ä¸ªå±å¹•çš„å¤§å°çš„åœ°å›¾,åˆ«å¿˜äº†è®¾ç½®BGM. ç»˜åˆ¶åŸŽå ¡åœ°å›¾æˆ‘ä»¬è¦ç»˜åˆ¶ä¸€å¼ åœ°å›¾,æˆ‘ä»¬æƒ³è±¡ä¸€ä¸‹å›½çŽ‹åœ¨åŸŽå ¡ä¸­ç”Ÿæ´»çš„åœºæ™¯ é€šè¿‡ç“·ç – æŸ±å­ è¿˜æœ‰è¿›è¡Œè£…é¥°,å¹¶å°†å›½çŽ‹æ”¾åœ¨åœ°å›¾çš„ä¸­é—´,å¹¶åœ¨ä¸‹éƒ¨è®¾ç½®ä¸€ä¸ªå‡ºäººå£. Step7 åˆ›å»ºä¸€ä¸ªç®€å•çš„â€åœºæ‰€ç§»åŠ¨â€æ—¶é—´åˆšåˆšåˆ›å»ºçš„åœ°å›¾ä¹‹é—´æ˜¯äº’ç›¸ç‹¬ç«‹çš„,æˆ‘ä»¬è¦é€šè¿‡â€äº‹ä»¶â€æ¥å°†ä¸åŒçš„åœ°å›¾ç›¸äº’è”ç³»èµ·æ¥. ä¸‹é¢æˆ‘æ¥ç®€å•ä»‹ç»ä¸€ä¸‹ä»€ä¹ˆæ˜¯ â€œäº‹ä»¶â€ åœ¨RPG Makerä¸­,æˆ‘ä»¬å¸¸å¸¸ä½¿ç”¨â€äº‹ä»¶â€,è¿™æ˜¯æ¸¸æˆä¸­å‘ç”Ÿçš„äº‹ä»¶çš„ç»Ÿç§°.æ¯”å¦‚åŸŽé•‡ä¸­çš„æç¤º,å®ç®±å’Œå®ç‰©,åœ°å›¾ä¹‹é—´çš„è¿žæŽ¥,çŽ°åœ¨å¼€å§‹ä½ å¯ä»¥æ˜¾ç¤ºäº¤æµå’Œä½¿ç”¨ç‰©å“,ä»»ä½•æ¸¸æˆä¸­å‘ç”Ÿçš„äº‹æƒ…éƒ½æ˜¯ä½¿ç”¨çš„äº‹ä»¶. å°†ä¸–ç•Œåœ°å›¾å’ŒåŸŽå ¡çš„åœ°å›¾è¿žæŽ¥åœ¨RPG Makerä¸­,æˆ‘ä»¬ä½¿ç”¨â€äº‹ä»¶â€åŠŸèƒ½å¾ˆæ–¹ä¾¿,å¯ä»¥å¾ˆæ–¹ä¾¿çš„åˆ›å»ºä¸€ä¸ªâ€äº‹ä»¶â€,åªéœ€è¦åœ¨èœå•ä¸­é€‰æ‹©äº‹ä»¶æ¨¡å¼. å¿«é€Ÿåˆ›å»ºä¸€ä¸ªâ€äº‹ä»¶â€ å°†é¼ æ ‡ç§»åŠ¨åˆ°åŸŽå ¡çš„å‡ºå£ä½ç½®,å³é”®é€‰æ‹© å¿«é€Ÿåˆ›å»ºäº‹ä»¶-&gt;åœºæ‰€ç§»åŠ¨ çš„äº‹ä»¶ åœºæ‰€ç§»åŠ¨äº‹ä»¶çš„å¯¹è¯æ¡† é€‰æ‹©åŽä¼šæ˜¾ç¤ºä¸€ä¸ªç”¨äºŽåˆ›å»º åœºæ‰€ç§»åŠ¨ äº‹ä»¶çš„å¯¹è¯æ¡† ç›®çš„åœ°åœ°å›¾ åœ¨ç›®çš„åœ°åœ°å›¾ä¸­,é€‰æ‹©â€ä¸–ç•Œåœ°å›¾â€,åŒå‡»æŒ‡å®šç›®æ ‡åæ ‡.å…³äºŽâ€æ–¹å‘â€æ˜¯ç›®æ ‡ç§»åŠ¨åŽæŒ‡å‘çš„ä½ç½®.å¦‚æžœæ²¡æœ‰ç‰¹æ®Šè¦æ±‚,å¯ä»¥ç›´æŽ¥ä½¿ç”¨é»˜è®¤çš„è®¾ç½®. é€‰æ‹©â€ç¡®è®¤â€åŽâ€å¼€å§‹åŸŽå ¡â€-&gt;â€ä¸–ç•Œåœ°å›¾â€çš„åœºæ‰€ç§»åŠ¨äº‹ä»¶å°±å®Œæˆäº† çŽ°åœ¨ä½ å¯ä»¥ä»Žâ€åŸŽå ¡åœ°å›¾â€ç§»åŠ¨åˆ°ä¸–ç•Œåœ°å›¾,ä½†æ˜¯è¿˜ä¸èƒ½ä»Žâ€ä¸–ç•Œåœ°å›¾â€ç§»åŠ¨åˆ°â€å¼€å§‹åŸŽå ¡â€.é€šè¿‡åŒæ ·çš„æ–¹å¼,æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªâ€ä¸–ç•Œåœ°å›¾â€åˆ°â€åŸŽå ¡åœ°å›¾â€çš„åœºæ™¯äº‹ä»¶. å¿«é€Ÿåˆ›å»ºäº‹ä»¶ å°†å…‰æ ‡ç§»åŠ¨åˆ°æŒ‡å®šä½ç½® åˆ›å»ºä¸€ä¸ªâ€åœºæ™¯ç§»åŠ¨â€äº‹ä»¶. æŒ‡å®šç›®çš„åœ°åŠåæ ‡ åƒä¹‹å‰ä¸€æ · å°†ç›®çš„åœ°è®¾ç½®ä¸ºåŸŽå ¡åœ°å›¾çš„å…¥å£ä½ç½®,è¿™æ ·æˆ‘ä»¬å°±èƒ½åœ¨â€ä¸–ç•Œåœ°å›¾â€å’Œâ€åŸŽå ¡åœ°å›¾â€ä¹‹é—´ç§»åŠ¨äº†. åªæœ‰ä»Žä¸€ä¸ªä½ç½®ç§»åŠ¨åˆ°å¦ä¸€ä¸ªä½ç½®çš„â€åœºæ™¯ç§»åŠ¨â€ä¸–ç•Œæ˜¯å¤±è´¥çš„.è¿™æ ·ä¼šè®©æˆ‘ä»¬çš„æ¸¸æˆåªèƒ½å•å‘è¿åŠ¨.æœ€åŽæˆ‘ä»¬åˆ«å¿˜äº†æµ‹è¯•ä¸€ä¸‹ä¸¤ä¸ªåœºæ™¯èƒ½å¦æ­£å¸¸çš„è¿žæŽ¥.]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ä¸­å›½å›½å®¶æ°”è±¡å±€apiæ•°æ®åˆ†æž]]></title>
      <url>%2F2017%2F08%2F31%2F%E4%B8%AD%E5%9B%BD%E5%9B%BD%E5%AE%B6%E6%B0%94%E8%B1%A1%E5%B1%80api%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%2F</url>
      <content type="text"><![CDATA[ä¸­å›½å›½å®¶æ°”è±¡å±€apiæ•°æ®åˆ†æž å¤©æ°”é¢„æŠ¥æ˜¯ç¨‹åºä¸­å¾ˆå¸¸è§çš„åŠŸèƒ½ ç„¶è€ŒçŽ°åœ¨å…è´¹å¥½ç”¨çš„å¤©æ°”apiå´å¾ˆéš¾æ‰¾ ä¸å¦¨ä»”ç»†çš„çœ‹ä¸€ä¸‹å›½å®¶æ°”è±¡å±€ æœ¬åˆ†å°±æ­¤ç½‘ç«™æ¥èŽ·å–å¤©æ°” åœ°å€åŠé¡µé¢åˆ†æžåœ°å€åˆ†æž é€šè¿‡å°è¯•,æƒ³è¦èŽ·å–æŸä¸ªåŸŽå¸‚æˆ–è€…åœ°å€çš„å¤©æ°”é¡µé¢æœ‰ä¸¤ç§æ–¹å¼,ä¸€ç§æ˜¯é€šè¿‡ç»çº¬åº¦è®¿é—®http://m.weather.com.cn/d/town/index?lat=39.915055&amp;lon=116.403982,å¦ä¸€ç§æ˜¯é€šè¿‡åŸŽå¸‚idè®¿é—®http://m.weather.com.cn/mweather/101010100.shtml ä¸¤ä¸ªåœ°å€éƒ½èƒ½å¾—åˆ°åŒ—äº¬å¸‚çš„å¤©æ°”æƒ…å†µ ä¸è¿‡å‰ä¸€ç§æ˜¯ç»çº¬åº¦,å¦ä¸€ç§æ˜¯åŸŽå¸‚id. å…³äºŽåŸŽå¸‚çš„idå¯ä»¥æŸ¥çœ‹http://mobile.weather.com.cn/js/citylist.xmlå¯ä»¥å¾—åˆ°å…¨å›½2500å¤šä¸ªåŸŽå¸‚åŽ¿åŒºåŠå…¨çƒå…¶ä»–å›½å®¶6000å¤šä¸ªåŸŽå¸‚çš„æ•°æ® å¯ä»¥ç›´æŽ¥é€šè¿‡ä»¥ä¸Šçš„æŽ¥å£èŽ·å¾—ç›¸å…³åŸŽå¸‚çš„å¤©æ°”æ•°æ® é¡µé¢åˆ†æžidæŸ¥è¯¢ æˆ‘ä»¬å…ˆè®¿é—®ä»¥ä¸‹http://m.weather.com.cn/mweather/101010100.shtmlé¡µé¢ çœ‹çœ‹æ•´ä¸ªé¡µé¢éƒ½è¯·æ±‚äº†ä»€ä¹ˆ http://m.weather.com.cn/mweather/101010100.shtml è¿™ä¸ªé¡µé¢å¹¶æ²¡æœ‰è¿”å›žå¯¹åº”çš„æ•°æ® ä¹Ÿæ˜¯ çŽ°åœ¨è°å®¶çš„ç½‘é¡µè¿˜èƒ½éƒ½æ˜¯é™æ€çš„ ç„¶åŽæ˜¯è¿™ä¸ªä½ç½®çš„ç´ è´¨äº”è¿ž åŽé¢æ˜¯ä¸€ä¸ªæ—¶é—´æˆ³ æ¨¡ä»¿äº†å¯¹åº”çš„è¯·æ±‚æ ¼å¼ ä½†æ˜¯æ¯æ¬¡è®¿é—®çš„æ—¶å€™éƒ½è¢«æ‹’ç»åº”è¯¥æ˜¯é¡µé¢jsä»£ç ä¸­æœ‰æŽ§åˆ¶ çœ‹æ¥ç›´æŽ¥é€šè¿‡åŸŽå¸‚idèŽ·å–ä¸è¡Œäº† ç»çº¬åº¦æŸ¥è¯¢ å¦‚æžœç›´æŽ¥é€šè¿‡ç»çº¬åº¦åœ°å€è¿›è¡Œè®¿é—®http://m.weather.com.cn/d/town/index?lat=39.915055&amp;lon=116.403982é€šè¿‡åˆ†æžå¯ä»¥åœ¨ç›´æŽ¥è®¿é—®çš„åœ°å€ä¸­æ‰¾åˆ°è¿”å›žè¿™ä¸ªéƒ¨åˆ†æ•°æ® æ•°æ®åˆ†æž 1([&#123;&quot;TEMMIN&quot;:19,&quot;reftime&quot;:&quot;201709022000&quot;,&quot;WIND1&quot;:&quot;04&quot;,&quot;WINS1&quot;:&quot;01&quot;,&quot;WIND2&quot;:&quot;01&quot;,&quot;WINS2&quot;:&quot;00&quot;,&quot;WEATHER1&quot;:&quot;02&quot;,&quot;WEATHER2&quot;:&quot;02&quot;,&quot;TEMMAX&quot;:29&#125;,&#123;&quot;TEMMIN&quot;:19,&quot;reftime&quot;:&quot;201709032000&quot;,&quot;WIND1&quot;:&quot;01&quot;,&quot;WINS1&quot;:&quot;00&quot;,&quot;WIND2&quot;:&quot;08&quot;,&quot;WINS2&quot;:&quot;00&quot;,&quot;WEATHER1&quot;:&quot;02&quot;,&quot;WEATHER2&quot;:&quot;02&quot;,&quot;TEMMAX&quot;:27&#125;,&#123;&quot;TEMMIN&quot;:18,&quot;reftime&quot;:&quot;201709042000&quot;,&quot;WIND1&quot;:&quot;01&quot;,&quot;WINS1&quot;:&quot;00&quot;,&quot;WIND2&quot;:&quot;01&quot;,&quot;WINS2&quot;:&quot;00&quot;,&quot;WEATHER1&quot;:&quot;01&quot;,&quot;WEATHER2&quot;:&quot;02&quot;,&quot;TEMMAX&quot;:27&#125;,&#123;&quot;TEMMIN&quot;:19,&quot;reftime&quot;:&quot;201709052000&quot;,&quot;WIND1&quot;:&quot;01&quot;,&quot;WINS1&quot;:&quot;00&quot;,&quot;WIND2&quot;:&quot;08&quot;,&quot;WINS2&quot;:&quot;00&quot;,&quot;WEATHER1&quot;:&quot;07&quot;,&quot;WEATHER2&quot;:&quot;02&quot;,&quot;TEMMAX&quot;:29&#125;,&#123;&quot;TEMMIN&quot;:18,&quot;reftime&quot;:&quot;201709062000&quot;,&quot;WIND1&quot;:&quot;01&quot;,&quot;WINS1&quot;:&quot;00&quot;,&quot;WIND2&quot;:&quot;02&quot;,&quot;WINS2&quot;:&quot;00&quot;,&quot;WEATHER1&quot;:&quot;00&quot;,&quot;WEATHER2&quot;:&quot;00&quot;,&quot;TEMMAX&quot;:30&#125;],[&#123;&quot;WIND&quot;:&quot;05&quot;,&quot;WEA08&quot;:&quot;02&quot;,&quot;reftime&quot;:&quot;201709010800&quot;,&quot;PRE08&quot;:&quot;0.0&quot;,&quot;TMAX&quot;:28,&quot;TMIN&quot;:21,&quot;WEA20&quot;:&quot;02&quot;,&quot;PRE20&quot;:&quot;0.0&quot;,&quot;WINS&quot;:&quot;01&quot;&#125;]) è¿™éƒ¨åˆ†çš„æ•°æ®å¯ä»¥çœ‹å‡ºæ¥æ˜¯ä¸ªjsonæ ¼å¼æ•°æ® å–å…¶ä¸­ä¸€éƒ¨åˆ†æ¥åˆ†æž 1&#123;&quot;TEMMIN&quot;:19,&quot;reftime&quot;:&quot;201709022000&quot;,&quot;WIND1&quot;:&quot;04&quot;,&quot;WINS1&quot;:&quot;01&quot;,&quot;WIND2&quot;:&quot;01&quot;,&quot;WINS2&quot;:&quot;00&quot;,&quot;WEATHER1&quot;:&quot;02&quot;,&quot;WEATHER2&quot;:&quot;02&quot;,&quot;TEMMAX&quot;:29&#125; ç»è¿‡æ•´ç†åŽå‘çŽ°å¯¹åº”æ•°æ®å¦‚ä¸‹ TEMMIN : æœ€ä½Žæ¸©åº¦ TEMMAX : æœ€é«˜æ¸©åº¦ reftime : æ—¶é—´ WEATHER1 : å¤©æ°”1 (æ™´è½¬å¤šäº‘ çš„æ™´) WEATHER2 : å¤©æ°”2 (æ™´è½¬å¤šäº‘ çš„å¤šäº‘) weatherçš„å¯¹åº”å¦‚ä¸‹ 1&#123;&quot;00&quot;:&quot;æ™´&quot;,&quot;01&quot;:&quot;å¤šäº‘&quot;,&quot;02&quot;:&quot;é˜´&quot;,&quot;03&quot;:&quot;é˜µé›¨&quot;,&quot;04&quot;:&quot;é›·é˜µé›¨&quot;,&quot;05&quot;:&quot;é›·é˜µé›¨ä¼´æœ‰å†°é›¹&quot;,&quot;06&quot;:&quot;é›¨å¤¹é›ª&quot;,&quot;07&quot;:&quot;å°é›¨&quot;,&quot;08&quot;:&quot;ä¸­é›¨&quot;,&quot;09&quot;:&quot;å¤§é›¨&quot;,&quot;10&quot;:&quot;æš´é›¨&quot;,&quot;11&quot;:&quot;å¤§æš´é›¨&quot;,&quot;12&quot;:&quot;ç‰¹å¤§æš´é›¨&quot;,&quot;13&quot;:&quot;é˜µé›ª&quot;,&quot;14&quot;:&quot;å°é›ª&quot;,&quot;15&quot;:&quot;ä¸­é›ª&quot;,&quot;16&quot;:&quot;å¤§é›ª&quot;,&quot;17&quot;:&quot;æš´é›ª&quot;,&quot;18&quot;:&quot;é›¾&quot;,&quot;19&quot;:&quot;å†»é›¨&quot;,&quot;20&quot;:&quot;æ²™å°˜æš´&quot;,&quot;21&quot;:&quot;å°åˆ°ä¸­é›¨&quot;,&quot;22&quot;:&quot;ä¸­åˆ°å¤§é›¨&quot;,&quot;23&quot;:&quot;å¤§åˆ°æš´é›¨&quot;,&quot;24&quot;:&quot;æš´é›¨åˆ°å¤§æš´é›¨&quot;,&quot;25&quot;:&quot;å¤§æš´é›¨åˆ°ç‰¹å¤§æš´é›¨&quot;,&quot;26&quot;:&quot;å°åˆ°ä¸­é›ª&quot;,&quot;27&quot;:&quot;ä¸­åˆ°å¤§é›ª&quot;,&quot;28&quot;:&quot;å¤§åˆ°æš´é›ª&quot;,&quot;29&quot;:&quot;æµ®å°˜&quot;,&quot;30&quot;:&quot;æ‰¬æ²™&quot;,&quot;31&quot;:&quot;å¼ºæ²™å°˜æš´&quot;,&quot;53&quot;:&quot;éœ¾&quot;,&quot;99&quot;:&quot;&quot;&#125; WIND1 : é£Žå‘1 WINS1 : é£Žå‘1ç­‰çº§ WIND2 : é£Žå‘2 WINS2 : é£Žå‘2ç­‰çº§ WINDå¯¹åº”å¦‚ä¸‹ 1&#123;&quot;0&quot;:&quot;æ— æŒç»­é£Žå‘&quot;,&quot;1&quot;:&quot;ä¸œåŒ—é£Ž&quot;,&quot;2&quot;:&quot;ä¸œé£Ž&quot;,&quot;3&quot;:&quot;ä¸œå—é£Ž&quot;,&quot;4&quot;:&quot;å—é£Ž&quot;,&quot;5&quot;:&quot;è¥¿å—é£Ž&quot;,&quot;6&quot;:&quot;è¥¿é£Ž&quot;,&quot;7&quot;:&quot;è¥¿åŒ—é£Ž&quot;,&quot;8&quot;:&quot;åŒ—é£Ž&quot;,&quot;9&quot;:&quot;æ—‹è½¬é£Ž&quot;&#125; WINSå¯¹åº”å¦‚ä¸‹: 1&#123;&quot;0&quot;:&quot;å¾®é£Ž&quot;,&quot;1&quot;:&quot;3-4çº§&quot;,&quot;2&quot;:&quot;4-5çº§&quot;,&quot;3&quot;:&quot;5-6çº§&quot;,&quot;4&quot;:&quot;6-7çº§&quot;,&quot;5&quot;:&quot;7-8çº§&quot;,&quot;6&quot;:&quot;8-9çº§&quot;,&quot;7&quot;:&quot;9-10çº§&quot;,&quot;8&quot;:&quot;10-11çº§&quot;,&quot;9&quot;:&quot;11-12çº§&quot;&#125;; èŽ·å–æµç¨‹ é€šè¿‡ç»çº¬åº¦å¯ä»¥ç›´æŽ¥èŽ·å–å¤©æ°”ä¿¡æ¯ è€Œä¸”ç²¾åº¦è¾ƒé«˜å¯ä»¥å®šä½å½“å‰ä½ç½®åŽå†èŽ·å–å¤©æ°”ä¿¡æ¯ ä½†æ˜¯åªé€‚ç”¨å›½å†…çš„å¤©æ°”ä¿¡æ¯ å¯ä»¥æœ¬åœ°ç¼“å­˜å…¨å›½æ‰€æœ‰åœ°åŒºçš„ç»çº¬åº¦æˆ–è€…é€šè¿‡åŸŽå¸‚idè®¿é—®å¤©æ°”ä¿¡æ¯çš„é¡µé¢ä¸­èŽ·å–ç»çº¬åº¦ çœ‹å®žé™…ä½¿ç”¨æƒ…å†µæ–Ÿé…Œ è€Œé€šè¿‡åŸŽå¸‚idçš„æ–¹æ³•å¯ä»¥èŽ·å¾—å…¨çƒçš„å¤©æ°”ä¿¡æ¯ æœ€åŽ é¡µé¢è¿˜æœ‰å¾ˆå¤šæ•°æ®å¯ä»¥å‘çŽ°]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Androidè‡ªå®šä¹‰Viewä¹‹ä»ªè¡¨ç›˜]]></title>
      <url>%2F2017%2F08%2F10%2Fandroid%E8%87%AA%E5%AE%9A%E4%B9%89View%E4%B9%8B%E4%BB%AA%E8%A1%A8%E7%9B%98%2F</url>
      <content type="text"><![CDATA[Androidè‡ªå®šä¹‰Viewä¹‹ä»ªè¡¨ç›˜ åˆæ˜¯æ–°ç³»åˆ—ï¼ˆå‘ï¼‰ æ„Ÿè§‰éƒ½å¾ˆé›¶ç¢Žï¼Œèƒ½ç§¯ç´¯ä¸€äº›æ˜¯ä¸€äº›äº† èƒŒæ™¯éšç€é¡¹ç›®å¼€å‘ è¶Šæ¥è¶Šå¤šçš„éœ€æ±‚è¢«æ‘†åœ¨é¢å‰ å…¶ä¸­ä¸å…æ¶‰åŠåˆ°å®šåˆ¶çš„åŠŸèƒ½å…¶ä¸­ä»ªè¡¨ç›˜ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¸¸ç”¨çš„åŠŸèƒ½ æ•ˆæžœå›¾ è®¾è®¡è¿‡ç¨‹å¤–ä¾§æ¸å˜åœ†çŽ¯ å¤–ä¾§åˆ»åº¦ç›˜åŠæ–‡å­—æ˜¾ç¤º æŒ‡é’ˆæ˜¾ç¤º å†…éƒ¨åœ†çŽ¯åŠæ–‡å­—å±•ç¤º ä»£ç å®žçŽ°è‡ªå®šä¹‰ç»„ä»¶æ˜¾ç¤ºä¼˜åŒ–è®¾ç½®è‡ªå®šä¹‰ç»„ä»¶çš„æ—¶å€™è¦ä¼˜åŒ–ç»„ä»¶çš„é«˜åº¦ 1234567protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) &#123; int width = MeasureSpec.getSize(widthMeasureSpec); int heitht = width / 2 / 4 * 5; initIndex(width / 2); //ä¼˜åŒ–ç»„ä»¶é«˜åº¦ setMeasuredDimension(width, heitht);&#125; onDraw()è¿‡ç¨‹123456789101112protected void onDraw(Canvas canvas) &#123; //ç¦ç”¨ç¡¬ä»¶åŠ é€Ÿ setLayerType(LAYER_TYPE_SOFTWARE, null); //å¤–ä¾§é¢œè‰²æŒ‡ç¤ºåœ†çŽ¯ initRing(canvas); //åˆ»åº¦æ–‡å­— initScale(canvas); //æŒ‡é’ˆ initPointer(canvas); //æç¤ºå†…å®¹ initText(canvas);&#125; ä¸»è¦è¿˜æ˜¯è¿™ä¸ªå››ä¸ªç»˜åˆ¶çš„è¿‡ç¨‹ å¤–ä¾§é¢œè‰²æŒ‡ç¤ºåœ†çŽ¯ é¦–å…ˆç»˜åˆ¶çš„å‰ä¸€éƒ¨åˆ†çš„çº¢é»„æ¸å˜åœ†çŽ¯è¿™ä¸ªåœ†çŽ¯å¹¶ä¸æ˜¯ä¸€ä¸ª180åº¦çš„åœ†çŽ¯ è€Œæ˜¯ä¸€ä¸ªä¸¤ç™¾åº¦çš„åœ†çŽ¯ ä¸‹ä¾§å†å®žçŽ°æ°´å¹³çš„æ•ˆæžœ ç»˜åˆ¶åŽä¸€éƒ¨åˆ†çš„ç»¿è‰²æ¸å˜åœ†çŽ¯ ä¿®æ­£åº•éƒ¨çš„æ•ˆæžœ ä¿®æ”¹æˆæ°´å¹³çš„æ•ˆæžœ ç»˜åˆ¶å†…éƒ¨åŠåœ† é®ç›–ä½æ¸å˜çš„åŠåœ† 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071private void initRing(Canvas canvas) &#123; paint.setAntiAlias(true); paint.setStrokeWidth(2); canvas.save(); //canvasä¸­å¿ƒç§»åŠ¨åˆ°ä¸­é—´ canvas.translate(canvas.getWidth()/2, r); //å‰100çº¢é»„æ¸å˜åœ†çŽ¯ paint.setStyle(Paint.Style.FILL); //è®¾ç½®æ¸å˜çš„é¢œè‰²èŒƒå›´ int[] colors = &#123;Color.parseColor("#F95A37"), Color.parseColor("#f9cf45")&#125;; //è®¾ç½®çš„æ¸å˜èµ·æ­¢ä½ç½® float[] positions = &#123;0.5f - 10f/180f * 0.5f, 0.5f + 0.5f * 5f / 6f&#125;; //è®¾ç½®æ¸å˜çš„è’™ç‰ˆ SweepGradient sweepGradient = new SweepGradient(0, 0, colors, positions); paint.setShader(sweepGradient); rect = new RectF( -length, -length, length, length); //ç»˜åˆ¶åœ†çŽ¯ canvas.drawArc(rect, 170, 10f + 180f / 6f * 5f, true, paint); //100ä¹‹åŽç»¿è‰²æ¸å˜åœ†çŽ¯ paint.setStyle(Paint.Style.FILL); canvas.rotate(10,0f,0f); int[] colors2 = &#123;Color.parseColor("#79D062"), Color.parseColor("#3FBF55")&#125;; float[] positions2 = &#123;0.5f + 0.5f * ( 144f / 180f), 1.0f&#125;; sweepGradient = new SweepGradient(0, 0, colors2, positions2); paint.setShader(sweepGradient); rect = new RectF( -length, -length, length, length); canvas.drawArc(rect, 180f + 180f * (140f / 180f), 180f / 6 + 10, true, paint); canvas.restore(); canvas.save(); canvas.translate(canvas.getWidth()/2, r); //ç»˜åˆ¶æè¾¹æ•ˆæžœçš„ç”»ç¬” strokePain = new Paint(paint); strokePain.setColor(0x3f979797); strokePain.setStrokeWidth(10); strokePain.setShader(null); strokePain.setStyle(Paint.Style.STROKE); canvas.drawArc(rect, 170, 200, true, strokePain); canvas.restore(); canvas.save(); canvas.translate(canvas.getWidth()/2, r); //åº•è¾¹æ°´å¹³ paint.setShader(null); paint.setColor(backGroundColor); paint.setStyle(Paint.Style.FILL); canvas.drawRect(-length , (float) (Math.sin(Math.toRadians(10) ) * length /3f * 2f), length , (float) (Math.sin(Math.toRadians(10)) * length + 100) , paint); canvas.drawRect(-length , (float) (Math.sin(Math.toRadians(10) ) * length /3f * 2f), length , (float) (Math.sin(Math.toRadians(10) ) * length /3f * 2f) , strokePain); //å†…éƒ¨èƒŒæ™¯è‰²å¡«å…… paint.setColor(backGroundColor); paint.setShader(null); rect = new RectF( - (length - length / 3f - 2), -(length / 3f * 2f - 2), length - length / 3f -2 , length / 3f * 2f - 2); canvas.drawArc(rect, 170, 200, true, strokePain); canvas.drawArc(rect, 0, 360, true, paint);&#125; å¤–ä¾§åˆ»åº¦ç›˜åŠæ–‡å­—æ˜¾ç¤ºæ—‹è½¬ç”»å¸ƒç»˜åˆ¶å¯¹åº”è§’åº¦çš„æ˜¾ç¤ºåŠåˆ»åº¦ 123456789101112131415161718192021222324252627282930313233private void initScale(Canvas canvas) &#123; canvas.restore(); canvas.save(); canvas.translate(canvas.getWidth()/2, r); paint.setColor(Color.parseColor("#999999")); tmpPaint = new Paint(paint); //åˆ»åº¦ç”»ç¬”å¯¹è±¡ tmpPaint.setStrokeWidth(1); tmpPaint.setTextSize(35); tmpPaint.setTextAlign(Paint.Align.CENTER); canvas.rotate(-90,0f,0f); float y = length; y = - y; int count = 12; //æ€»åˆ»åº¦æ•° paint.setColor(backGroundColor); float tempRou = 180 / 12f; //æ¯æ¬¡æ—‹è½¬çš„è§’åº¦ paint.setColor(Color.WHITE); paint.setStrokeWidth(5); //ç»˜åˆ¶åˆ»åº¦å’Œç™¾åˆ†æ¯” for (int i = 0 ; i &lt;= count ; i++)&#123; if (i % 2 == 0 ) &#123; canvas.drawText(String.valueOf((i) * 10), 0, y - 20f, tmpPaint); &#125; canvas.drawLine(0f, y , 0, y + length / 15, paint); canvas.rotate(tempRou,0f,0f); &#125;&#125; æŒ‡é’ˆæ˜¾ç¤ºæŒ‡é’ˆæ˜¾ç¤ºçš„æ¯”è¾ƒç®€å•ä¹Ÿæ˜¯å”¯äºŒéœ€è¦å˜åŒ–çš„ä¹‹ä¸€ æŒ‡é’ˆçš„ç»˜åˆ¶æ¯”è¾ƒç®€å• æ ¹æ®ä¼ å…¥çš„è§’åº¦(ç™¾åˆ†æ¯”)æ—‹è½¬å¯¹åº”çš„è§’åº¦ å¡«å……ç»˜åˆ¶ä¸€ä¸ªä¸‰è§’å½¢ 1234567891011121314151617181920212223242526272829private void initPointer(Canvas canvas) &#123; paint.setColor(Color.BLACK); canvas.restore(); canvas.save(); canvas.translate(canvas.getWidth()/2, r); float change; if (perPoint &lt; 1 )&#123; change = perPoint * 180; &#125;else &#123; change = 180; &#125; //æ ¹æ®å‚æ•°å¾—åˆ°æ—‹è½¬è§’åº¦ canvas.rotate(-90 + change,0f,0f); //ç»˜åˆ¶ä¸‰è§’å½¢å½¢æˆæŒ‡é’ˆ Path path = new Path(); path.moveTo(0 , pointLength); path.lineTo(-10 , 0); path.lineTo(10,0); path.lineTo(0 , pointLength); path.close(); canvas.drawPath(path, paint);&#125; å†…éƒ¨åœ†çŽ¯åŠæ–‡å­—å±•ç¤ºå…ˆç»˜åˆ¶ä¸€ä¸ªå¸¦é˜´å½±çš„åœ†çŽ¯ å†å±…ä¸­ç»˜åˆ¶æç¤ºçš„æ–‡æœ¬ä¿¡æ¯ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364private void initText(Canvas canvas) &#123; //æŠ—é”¯é½¿ canvas.setDrawFilter(new PaintFlagsDrawFilter(0, Paint.ANTI_ALIAS_FLAG|Paint.FILTER_BITMAP_FLAG)); canvas.restore(); canvas.save(); canvas.translate(canvas.getWidth()/2, r); float rIndex = length ; //è®¾ç½®æ–‡å­—å±•ç¤ºçš„åœ†çŽ¯ paint.setColor(Color.parseColor("#eeeeee")); paint.setShader(null); paint.setShadowLayer(5, 0, 0, 0x54000000); rect = new RectF( - (rIndex/ 3 ), - (rIndex / 3), rIndex / 3, rIndex / 3); canvas.drawArc(rect, 0, 360, true, paint); paint.clearShadowLayer(); canvas.restore(); canvas.save(); canvas.translate(canvas.getWidth()/2f , r); textPaint.setStrokeWidth(1); textPaint.setAntiAlias(true); textPaint.setTextSize(60); textPaint.setColor(Color.parseColor("#fc6555")); textPaint.setTextAlign(Paint.Align.RIGHT); //åˆ¤æ–­æŒ‡æ•°å˜åŒ–åŠé¢œè‰²è®¾å®š int _per = (int) (per * 120); if (_per &lt; 60)&#123; textPaint.setColor(Color.parseColor("#ff6450")); &#125;else if (_per &lt; 100) &#123; textPaint.setColor(Color.parseColor("#f5a623")); &#125;else &#123; textPaint.setColor(Color.parseColor("#79d062")); &#125; float swidth = textPaint.measureText(String.valueOf(_per)); //è®¡ç®—åç§»é‡ æ˜¯çš„æ•°å­—å’Œç™¾åˆ†å·æ•´ä½“å±…ä¸­æ˜¾ç¤º swidth = (swidth - (swidth + 22) / 2); canvas.translate( swidth , 0); canvas.drawText("" + _per, 0, 0, textPaint); textPaint.setTextSize(30); textPaint.setTextAlign(Paint.Align.LEFT); canvas.drawText("%" , 0, 0, textPaint); textPaint.setTextAlign(Paint.Align.CENTER); textPaint.setColor(Color.parseColor("#999999")); canvas.restore(); canvas.save(); canvas.translate(canvas.getWidth()/2 , r + length / 3 /2 ); canvas.drawText("å®ŒæˆçŽ‡" , 0, 0, textPaint);&#125; æ›´æ–°åŠ¨ç”»ä½¿ç”¨ValueAnimatorå®žçŽ°æŒ‡é’ˆçš„è½¬åŠ¨åŠ¨ç”»æ•ˆæžœ 12345678910111213141516public void cgangePer(float per )&#123; this.perOld = this.per; this.per = per; ValueAnimator va = ValueAnimator.ofFloat(perOld,per); va.setDuration(1000); va.setInterpolator(new OvershootInterpolator()); va.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() &#123; @Override public void onAnimationUpdate(ValueAnimator animation) &#123; perPoint = (float) animation.getAnimatedValue(); invalidate(); &#125; &#125;); va.start();&#125; è¿™ä¸ªä»ªè¡¨ç›˜çš„å®žçŽ°å°±å®Œæˆäº† å…·ä½“çš„ä»£ç å¯ä»¥æŸ¥çœ‹æˆ‘çš„github]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[å¦‚ä½•åœ¨SpeedDialPlusä¸­ä½¿ç”¨EarthViewfromGoogleEarthå›¾ç‰‡ä½œä¸ºèƒŒæ™¯]]></title>
      <url>%2F2017%2F05%2F17%2F%E5%A6%82%E4%BD%95%E5%9C%A8SpeedDialPlus%E4%B8%AD%E4%BD%BF%E7%94%A8EarthViewfromGoogleEarth%E5%9B%BE%E7%89%87%E4%BD%9C%E4%B8%BA%E8%83%8C%E6%99%AF%2F</url>
      <content type="text"><![CDATA[å¦‚ä½•åœ¨SpeedDialPlusä¸­ä½¿ç”¨EarthViewfromGoogleEarthå›¾ç‰‡ä½œä¸ºèƒŒæ™¯ä»‹ç»Speed Dial Pluså’ŒEarth View from Google Earthéƒ½æ˜¯Chromeä¸­çš„ä¸¤ä¸ªååˆ†å¥½ç”¨çš„æ–°æ ‡ç­¾é¡µæ’ä»¶ Speed Dial Pluså¯ä»¥åœ¨ä½ æ‰“å¼€ä¸€ä¸ªæ–°çš„æ ‡ç­¾é¡µçš„æ—¶å€™æä¾›ç»å¸¸è®¿é—®çš„é¡µé¢çš„å¿«æ·æ–¹å¼ è™½ç„¶è¿˜æœ‰å¾ˆå¤šæ‰©å±•, ä½†æ˜¯è¿™ä¸ªåŠŸèƒ½çœŸå¿ƒå¥½ç”¨Earth View from Google Earthå¯ä»¥åœ¨ä½ æ‰“å¼€ä¸€ä¸ªæ–°çš„æ ‡ç­¾é¡µçš„æ—¶å€™å±•ç¤ºä¸€å‰¯google earthæ‹æ‘„çš„å›¾ç‰‡(è™½ç„¶åªæœ‰1500å¤šä¸ªå›¾ç‰‡ ä½†æ˜¯æ¯å¹…å›¾éƒ½æ˜¯ååˆ†åˆ«è‡´çš„) éœ€æ±‚è¿™ä¸¤ä¸ªéƒ½æ˜¯ååˆ†ä¼˜ç§€çš„æ ‡ç­¾é¡µçš„å·¥å…·,é‚£ä¹ˆé—®é¢˜å°±æ˜¯ è¿™ä¸¤ä¸ªä¸èƒ½å…±åŒä½¿ç”¨ è™½ç„¶SDPæä¾›äº†è®¾ç½®èƒŒæ™¯é¡µé¢çš„æ–¹æ³•,ä½†æ˜¯æ¯æ¬¡åªèƒ½è®¾ç½®æˆä¸€ä¸ªé¡µé¢ è§£å†³æ€è·¯é€šè¿‡åˆ†æžEarth View from Google Earthæ¥èŽ·å–æ‰€æœ‰å›¾ç‰‡çš„åœ°å€ å†åœ¨æœ¬åœ°æˆ–è€…è‡ªå·±çš„æœåŠ¡å™¨ä¸­éƒ¨ç½²ä¸€ä¸ªæœåŠ¡å™¨ å¯ä»¥éšæœºè¿”å›žæœ‰æ•ˆå›¾ç‰‡åœ°å€ä¸­çš„ä¸€ä¸ª å†å°†SDPä¸­è®¾ç½®èƒŒæ™¯ä¸ºè‡ªå·±çš„æœåŠ¡å™¨è®¾å®šçš„åœ°å€ æœ€ç»ˆå®žçŽ°æ‰“å¼€æ–°æ ‡ç­¾é¡µ(SDP) SDPè®¿é—®ä½ çš„æœåŠ¡åœ°å€ æœåŠ¡éšæœºè¿”å›žä¸€ä¸ªå›¾ç‰‡åœ°å€ SDPæœ€ç»ˆè®¿é—®ä½ è®¾å®šçš„æ–°çš„å›¾ç‰‡åœ°å€ åˆ†æžEarth View from Google Earthæœ¬æ¥æ˜¯æ‰“ç®—ç›´æŽ¥ä½¿ç”¨Chromeçš„å¼€å‘è€…å·¥å…·å’Œcharlesç›´æŽ¥åˆ†æžç½‘ç»œè¯·æ±‚ï¼Œä½†æ˜¯æ¯æ¬¡è¿”å›žçš„å›¾ç‰‡åœ°å€éƒ½ä¸ä¸€æ ·åªèƒ½è¿›ä¸€æ­¥æŸ¥çœ‹GoogelEarthçš„é¡µé¢äº†å¦‚https://g.co/ev/2131 è¿™æ ·çš„çŸ­é“¾ï¼Œå¯ä»¥çœ‹åˆ°åŽé¢çš„2131è¿™æ ·çš„å››ä½id å°è¯•äº†å‡ æ¬¡å‘çŽ°ä¸æ˜¯è¿žç»­çš„ã€‚ æœ¬æ¥æ‰“ç®—å†™ä¸ªè„šæœ¬ éªŒè¯ä¸‹ä¸€å®šèŒƒå›´å†…å“ªäº›æ•°å­—æ˜¯æœ‰æ•ˆçš„ç„¶åŽæ—¥å¸¸github å‘çŽ°äº†è¿™ä¸ªå¥½ä¸œè¥¿ æä¾›äº†ä¸€ä¸ªä¸€ä¸ªæŽ¥å£å¯ä»¥å¾—åˆ°å½“å‰æ‰€æœ‰å›¾ç‰‡çš„ä¿¡æ¯ å¯ä»¥é€šè¿‡è¿™ä¸ªjsonæ•°æ®è§£æžå‡ºæ‰€æœ‰çš„å›¾ç‰‡id ä¿å­˜åˆ°æœ¬åœ°ä½œä¸ºæœåŠ¡å™¨çš„æ•°æ®æº å…·ä½“å®žçŽ°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687import requestsimport random, re , threading , time , socketimport tornado.webimport tornado.ioloopallindex = 0def getUrl(): #é€šè¿‡éšæœºå¾—åˆ°çš„ä½ç½®æ¥å¾—åˆ°å¯¹åº”ä½ç½®çš„ id = randomid() with open('date', 'r') as f: _image = f.read() _imagelist = _image.split(',') _imagelist.pop() return _imagelist[id]def updateindex(): #æ›´æ–°æ‰€æœ‰å›¾ç‰‡æ•°é‡çš„æ•°æ® global allindex with open('daterand', 'r') as f: allindex = f.read()def getAllDate(): #ä»Žæä¾›çš„æŽ¥å£ä¸­èŽ·å–æ‰€æœ‰å›¾ç‰‡çš„idå¹¶ä¿å­˜ä¸‹æ¥ åŒæ—¶è®¾ç½®å»¶æ—¶æ¯å¤©æ›´æ–°ä¸‹æ•°æ® print('getAllDate') reponse = requests.get('https://raw.githubusercontent.com/limhenry/earthview/master/earthview.json') html = reponse.text with open('date', 'w') as f: imageList = re.findall('"image":".*?"' , html) for image in imageList: imageurl = re.findall('[0-9]&#123;4,5&#125;' ,image) f.write(imageurl[0] + ',') with open('daterand', 'w') as f: f.write(str(len(imageList))) updateindex() time.sleep(60 * 60 * 24) getAllDate()def randomid(): #éšæœºæ•°ä»€ä¹ˆçš„ global allindex _allindex = int(allindex) id = random.randint(0, _allindex) return idclass earthImage(tornado.web.RequestHandler): def get(self, *args, **kwargs): _id = getUrl() imageurl = 'http://www.gstatic.com/prettyearth/assets/full/%s.jpg'%(_id) print(imageurl) #ç›´æŽ¥æŒ‡å‘éšæœºå›¾ç‰‡çš„åœ°å€ self.redirect(imageurl)application = tornado.web.Application([ (r"/earthImage" , earthImage)])def runServer(): #trnado æœåŠ¡å™¨çš„é…ç½® æˆ‘è¿™é‡Œåœ¨è¿è¡Œä¹‹åŽä¼šæ˜¾ç¤ºå½“å‰çš„åœ°å€ port = 9011 application.listen(port) localIP = socket.gethostbyname(socket.gethostname()) print("run in %s:%s"%(localIP,port)) tornado.ioloop.IOLoop.instance().start()def startServer(): print('startServer') runServer()def main(): //è¿™é‡Œå¼€äº†ä¸¤ä¸ªçº¿ç¨‹ é˜²æ­¢å–å¾—å›¾ç‰‡æ•°æ®çš„æ—¶å€™è®¿é—®é˜»å¡ž updateindex() thread_getInfoDate = threading.Thread(target=getAllDate, name='getAllDate') thread_startServer = threading.Thread(target=startServer, name='startServer') thread_getInfoDate.start() thread_startServer.start()main() æœ€åŽæ‰“å¼€SpeedDialPlusçš„è®¾ç½® æ›´æ”¹å…¶ä¸­ä¸»é¢˜é‡Œçš„è‡ªå®šä¹‰ç½‘å€ä¸ºä½ æœåŠ¡å™¨è¿è¡ŒåŽçš„åœ°å€å°±å¥½äº† å½“ç„¶ ä¹Ÿå¯ä»¥éƒ¨ç½²åœ¨äº‘æœåŠ¡å™¨ä¸­ æ”¹è¿›ç¨‹åºå†™çš„å¾ˆéšæ„ å±±é¡¶æ´žäººç¼–ç¨‹ æ€§èƒ½çš„è¯è‡ªç”¨è¿˜å¯ä»¥çš„ å›¾ç‰‡çš„è¯åªæœ‰google erathçš„å›¾ç‰‡ å¯ä»¥é…ç½®æˆ–åŠ å…¥æ›´å¤šçš„å›¾ç‰‡ çŽ°é˜¶æ®µåŸºæœ¬æ²¡æœ‰æ‰©å±•æ€§ åªèƒ½çœ‹åœ°çƒäº†(1500å¤šå¼ å›¾ç‰‡è¿˜ä¸å¤Ÿçœ‹ åªèƒ½è¯´æ˜Ž è¯¥æ¢é£Žæ ¼äº†) é¡¹ç›®åœ°å€https://github.com/clwater/SpeedDialPlusImage]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[RpgMakerå…¥é—¨æ•™ç¨‹1]]></title>
      <url>%2F2017%2F04%2F24%2FRpgMaker%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B1%2F</url>
      <content type="text"><![CDATA[RPG Makeræ˜¯ä¸€ä¸ªååˆ†ä¼˜ç§€çš„rpgæ¸¸æˆåˆ¶ä½œå¼•æ“Ž æ© ä¸€ä¸ªè¢«å®šä¹‰ä¸ºæ¸¸æˆçš„æ¸¸æˆå¼•æ“Ž å¯ä»¥ç”¨æ¥ååˆ†ä¾¿æ·çš„åˆ¶ä½œrpgæ¸¸æˆ æœ‰å…´è¶£çš„å¯ä»¥å°è¯•ä¸€ä¸‹ æ»¡è¶³è‡ªå·±æƒ³åšæ¸¸æˆçš„æ„¿æœ› æœ¬æ–‡ä¸»è¦æ ¹æ®å®˜æ–¹æ–‡æ¡£ç›¸å…³è¿›è¡Œç¿»è¯‘å¹¶æ·»åŠ äº†éƒ¨åˆ†ä¸ªäººçš„ç†è§£å’Œå¸®åŠ© éƒ¨åˆ†æ–‡æ„å’Œç†è§£å¯èƒ½æ‰€æœ‰å·®å¼‚ æ¬¢è¿Žè®¨è®º ç¿»è¯‘çš„ä¸»ä½“çš„çš„æ˜¯RpgMakerçš„VXç‰ˆæœ¬ æˆ‘ä½¿ç”¨çš„æ˜¯RpgMakerçš„Mvç‰ˆæœ¬ éƒ¨åˆ†uiç•Œé¢å¯èƒ½æœ‰æ‰€ä¸åŒ åŸºæœ¬åŠŸèƒ½éƒ½æ˜¯ä¸€æ ·çš„ MVç‰ˆæœ¬çš„å®˜æ–¹åˆçº§æ•™ç¨‹å¯ä»¥å‚è€ƒè¿™é‡Œ å…³äºŽRogMakerçš„ç›¸å…³ç‰ˆæœ¬è¯´æ˜Žå¯ä»¥å‚è€ƒè¿™é‡Œ è‡³äºŽå­¦ä¹ çš„å»ºè®® ç‰ˆæœ¬æ¥è¯´MVçš„ç‰ˆæœ¬æ‰©å±•æ€§æ›´å¼º ä¹Ÿå¯ä»¥é€‚ç”¨äºŽæ›´å¤šçš„å¹³å° ä½†æ˜¯æœ¬æ•™ç¨‹çš„å†…å®¹å¯¹è¿™ä¸¤ä¸ªç‰ˆæœ¬éƒ½æ˜¯é€šç”¨çš„ è½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ ç¬¬ä¸€å›ž å†³å®šä½ çš„RPGå½¢è±¡(å†æ¬¡åŽŸè°…æˆ‘çš„é‡Žç”Ÿç¿»è¯‘) åœ¨è¿™ä¸ªæ•™ç¨‹ä¸­ æˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨â€RPGMakerVXâ€(åŽŸæ–‡ä½¿ç”¨çš„ç‰ˆæœ¬)æ¥åˆ¶ä½œä¸€ä¸ªç®€å•çš„RPG. åŽŸåˆ™ä¸Š,æˆ‘ä»¬å°†ä½¿ç”¨â€RPGMakerVXâ€çš„æ­£å¼ç‰ˆæœ¬ï¼Œä½†ä½¿ç”¨â€RPGMakerVXâ€çš„è¯•ç”¨ç‰ˆä¹Ÿå¯ä»¥å®Œæˆè¿™äº›. Step1 å†³å®šä½ çš„RPGå½¢è±¡åœ¨å¼€å§‹åˆ¶ä½œä¹‹å‰,ä½ è¦è¦æž„å»ºä½ çš„Rpgæ¸¸æˆ,å°±åƒæ˜¯å»ºç­‘çš„è“å›¾å›¾,éœ€è¦å¥½å¥½æ–Ÿé…Œä¸€ä¸‹. ç›´æŽ¥åšä¸€ä¸ªååˆ†å®å¤§çš„æ¸¸æˆæ˜¯æ¯”è¾ƒå›°éš¾çš„,æ‰€ä»¥æˆ‘ä»¬è¦å¼€å§‹å°è¯•åšä¸€ä¸ªå°æ¸¸æˆæ¥ç†Ÿæ‚‰æ•´ä¸ªæµç¨‹.è¿™é‡Œæˆ‘ä»¬çš„ä¸»é¢˜æ˜¯â€è‹±é›„æ‰“è´¥é­”çŽ‹â€,å¸Œæœ›èƒ½ä¸ºä½ ä»¬å¸¦æ¥çµæ„Ÿ å†™å‡ºä½ çš„æƒ³æ³• è®©æˆ‘ä»¬æ€»ç»“ä¸€ä¸‹è‹±é›„æ‰“è´¥é­”çŽ‹çš„æµç¨‹ æˆ‘ä»¬éœ€è¦å°†ä½ è„‘ä¸­çš„æƒ³æ³•è®°å½•ä¸‹æ¥,æ¯”å¦‚è®°åœ¨ç¬”è®°æœ¬ç”µè„‘ä¸­,åœ¨ä¹‹åŽçš„å¼€å‘ä¸­ä½ å¯èƒ½ä¼šæƒ³åˆ°æ›´å¤šçš„çµæ„Ÿ,ä¸è¿‡è¿™ä¸ªæ—¶å€™è®°å½•ä¸‹æ¸¸æˆçš„ä¸»å¹²å°±å¥½ ä¾‹) è‹±é›„æ‰“è´¥é­”çŽ‹çš„æµç¨‹ ä¸»è¦çš„æµç¨‹å¤§æ¦‚æ˜¯è¿™æ ·,çŽ°åœ¨,æˆ‘ä»¬è¦å†³å®šè‹±é›„æ˜¯å¦‚ä½•æ‰“è´¥é­”çŽ‹çš„ æœ‰çš„äººä¼šè¯´ â€œæˆ‘å·²ç»å°†æ‰€æœ‰çš„å½¢è±¡éƒ½è®°åœ¨è„‘ä¸­äº†â€ ä½†æ˜¯å½“ä½ å¼€å§‹åšäº‹çš„æ—¶å€™ è¿™äº›äº‹æƒ…å¾€å¾€éƒ½è¢«ä½ å¿˜è®°äº†. å¯èƒ½åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­å°±æƒ³åˆ°äº†ä¸€ä¸ªæ–°çš„æƒ³æ³•.å†å¿˜è®°è¿™äº›æƒ³æ³•ä¹‹å‰è¦å°†è¿™äº›æƒ³æ³•è®°å½•ä¸‹æ¥æ˜¯ååˆ†é‡è¦çš„. åœ¨è€ƒè™‘æ¸¸æˆçš„æµç¨‹çš„æ—¶å€™,ä½ å¯èƒ½ä¹Ÿä¼šè€ƒè™‘åˆ°è§’è‰²çš„åç§°æˆ–è€…ä¸»è§’çš„ä¸ªæ€§,é™¤æ­¤ä¹‹å¤–è¿˜è¦è€ƒè™‘ç‰©å“çš„åç§°ç‰¹å¾å’Œé­”æ³•,æ€ªç‰©.è¿™äº›éƒ½æœ‰åŠ©äºŽæ¸¸æˆçš„å½¢è±¡æ›´åŠ çš„å®Œäº‹,å³ä½¿æ˜¯é‚£äº›å½“å‰æ¸¸æˆæœ‰æ²¡ç›´æŽ¥ç›¸å…³çš„æƒ³æ³•,ä¹Ÿå¯èƒ½ä¸ºä»¥åŽçš„å¼€å‘æœ‰æ‰€å¸®åŠ©. ç¬¬ä¸€å›žå°±åˆ°è¿™é‡Œäº† åœ¨è¿™ä¹‹åŽ,ä½ è®²ç›´æŽ¥å‚ä¸Žåˆ°å®žé™…çš„å¼€å‘è¿‡ç¨‹ä¸­]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Hexoå®‰è£…åŽhexoæŒ‡ä»¤æ— æ³•è¢«æ‰¾åˆ°çš„è§£å†³æ–¹æ³•]]></title>
      <url>%2F2017%2F04%2F23%2FHexo%E5%AE%89%E8%A3%85%E5%90%8E%E7%9A%84%E5%B0%8F%E9%97%AE%E9%A2%98%2F</url>
      <content type="text"><![CDATA[Hexo æ˜¯ä¸€ä¸ªååˆ†ä¾¿æ·çš„åšå®¢æ­å»ºå·¥å…· ä½†æ˜¯ç»å¸¸ä¼šé‡è§å®‰è£…å®ŒæˆåŽå†æ¬¡æ‰“å¼€ç»ˆç«¯æ“ä½œçš„æ—¶å€™æç¤º command not found: hexoçš„æƒ…å†µ å¯¹åº”çš„githubçš„issuesä¸­ä¹Ÿæ²¡æœ‰è¯¦ç»†çš„è§£å†³åŠžæ³•åœ¨è¿™æä¾›ä¸€ç§å¯è¡Œçš„è§£å†³æ€è·¯ å¸Œæœ›èƒ½å¸®åŠ©åˆ°å¤§å®¶ ç›¸å…³çš„çŽ¯å¢ƒåœ¨macä¸‹ éƒ¨åˆ†ç»ˆç«¯æŒ‡ä»¤åœ¨linuxä¸‹å¯èƒ½æœ‰æ‰€ä¸åŒ Hexoå®‰è£…åŽ command not found: hexoçš„è§£å†³æ–¹æ³• å‡ºçŽ°è¿™ç§æƒ…å†µä¸»è¦æ˜¯nodeçš„ç‰ˆæœ¬é—®é¢˜ å¯ä»¥é€šè¿‡nvmæ¥æŽ§åˆ¶ä¸€ä¸‹nodeçš„ç‰ˆæœ¬æ¥è§£å†³ nvmçš„å®‰è£…nvmæ˜¯nodejsçš„ç‰ˆæœ¬æŽ§åˆ¶å·¥å…·,å¯ä»¥å¾ˆè½»æ¾æ¥æŽ§åˆ¶nodeçš„ç‰ˆæœ¬ ä¸‹é¢æŽ¨èä¸¤ä¸ªå®‰è£…æ–¹æ³•,å¯ä»¥æ ¹æ®å®žé™…æƒ…å†µè¿›è¡Œå¤„ç† é€šè¿‡brewè¿›è¡Œå®‰è£… 123456brew install nvm//è¿™ä¸ªè¿‡ç¨‹ä¸­å¯èƒ½éœ€è¦å®‰è£…gccæˆ–è€…å…¶å®ƒéœ€è¦ä¾èµ–çš„å·¥å…· æŒ‰ç…§æç¤ºä¸€æ¬¡å®‰è£…å¥½å³å¯mkdir ~/.nvmexport NVM_DIR=~/.nvm.$(brew --prefix nvm)/nvm.sh//è¿™ä¸ªæ­¥éª¤ä¸­macä¸‹çš„brewéœ€è¦é€šè¿‡--prefixè¿™ç§å½¢å¼å®Œæˆ é€šè¿‡curlè¿›è¡Œå®‰è£…1curl https://raw.github.com/creationix/nvm/master/install.sh | sh é€šè¿‡curlå®‰è£…éœ€è¦é‡å¯ç»ˆç«¯ å¯èƒ½å‡ºçŽ°çš„é—®é¢˜ command not found: nvmç¡®å®šä»¥ä¸Šæ­£ç¡®æ‰§è¡Œè¿‡ä»¥ä¸Šä¸¤ä¸ªæ–¹æ³•ä¹‹ä¸€åŽ å¯èƒ½ä¼šé‡åˆ°è¿™ç§é—®é¢˜ éœ€è¦ä½ æ‰‹åŠ¨æ·»åŠ ç›¸å…³çš„çŽ¯å¢ƒå˜é‡ç¼–è¾‘ ~/.bash_profileæ–‡ä»¶ å¦‚æžœä½¿ç”¨zsh(iterm)çš„è¯æ˜¯ ~/.zshrcå°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°bash_profileæˆ–zshrcæ–‡ä»¶ä¸­12export NVM_DIR=&quot;/Users/yourcomptername/.nvm&quot;[ -s &quot;$NVM_DIR/nvm.sh&quot; ] &amp;&amp; . &quot;$NVM_DIR/nvm.sh&quot; # This loads nvm yourcompternameçš„ä½ç½®è¦å¡«ä½ è‡ªå·±çš„è·¯å¾„ å®‰è£…hexoç­‰123nvm install 4 (æ­¤å¤„çš„ç‰ˆæœ¬å¯ä»¥æ ¹æ®å®žé™…æƒ…å†µå¤„ç†)//ç¡®ä¿ä»¥ä¸Šéƒ½å®ŒæˆåŽå†å®‰è£…hexosudo npm install hexo-cli -g è‡³æ­¤åº”è¯¥å¯ä»¥åœ¨ç»ˆç«¯ä¸­è¾“å…¥hexoæ¥éªŒè¯ä¸€ä¸‹æ˜¯å¦å®‰è£…æˆåŠŸ ç„¶åŽå°±å¯ä»¥é‡å¯ç»ˆç«¯äº† å†æ¬¡è¾“å…¥hexoåŽä¼šå‡ºçŽ° command not found: hexoçš„æç¤º ä¸€èˆ¬æƒ…å†µä¸‹éƒ½æ˜¯é¦–æ¬¡å®‰è£…hexoåŽå¯ä»¥æ­£å¸¸ä½¿ç”¨ åŽæ¥å†æ¬¡ä½¿ç”¨çš„æ—¶å€™å‘çŽ°æ— æ³•ä½¿ç”¨ æ­£æ–‡å¼€å§‹ä¹Ÿä¸èƒ½è¯´æ˜¯æ­£æ–‡ ä¹‹å‰çš„éƒ½æ˜¯ä¸ºæ‰€ä¾èµ–çš„çŽ¯å¢ƒåšå‡†å¤‡ é¡ºä¾¿ç®€å•æŽ’é™¤ä¸€ä¸‹å…¶å®ƒå› ç´  æŸ¥çœ‹nodeçš„ç‰ˆæœ¬æƒ…å†µ (è¿™ä¸ªæˆªå›¾æ˜¯æˆ‘é…ç½®å®ŒæˆåŽçš„æˆªå›¾ åˆæ¬¡ä½¿ç”¨çš„æ—¶å€™å¯èƒ½æœ‰éƒ¨åˆ†å‡ºå…¥) åœ¨è¿™é‡Œå¯ä»¥çœ‹åˆ°æˆ‘çš„nodeç‰ˆæœ¬æ˜¯4.8.2 å†è¿›è¡Œä¸€ä¸‹çš„æ“ä½œ12345//åˆ‡æ¢å¯¹åº”çš„ç‰ˆæœ¬nvm use 4.8.2//ä½†æ˜¯æ¯æ¬¡é‡å¯ç»ˆç«¯åŽæ”¹è®¾ç½®éƒ½ä¼šå¤±æ•ˆ æ‰€ä»¥è¦è®¾ç½®é»˜è®¤çš„ç‰ˆæœ¬nvm alias default 4.8.2 å†æ¬¡ä½¿ç”¨nvm lså‘½ä»¤æ¥æŸ¥çœ‹ å½“å’Œå‰é¢çš„é€”ä¸­ç»¿è‰²ç®­å¤´æŒ‡å‘ä½ æ‰€æŒ‡å®šçš„ç‰ˆæœ¬å¥½çš„æ—¶å€™å°±è¯´æ˜Žè®¾ç½®æˆåŠŸäº† è‡³æ­¤åº”è¯¥å¯ä»¥è§£å†³command not found: hexoçš„é—®é¢˜äº† å¦‚æžœè¿˜æ˜¯ä¸å¯ä»¥ å¯ä»¥å°è¯•é€šè¿‡ sudo npm install hexo-cli -g é‡è£…ä¸€ä¸‹hexo]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[åœ¨æ¬ç“¦å·¥ä¸­æ­å»ºä¸ªäººvpn(sså’Œpptp)]]></title>
      <url>%2F2017%2F02%2F05%2Fvpn%2F</url>
      <content type="text"><![CDATA[å¸®åŠ©ä¸ºäº†æ–¹ä¾¿è®¿é—®ä¸€äº›ä¸å­˜åœ¨çš„ç½‘ç«™çš„ä½ ä»¬ æ¬ç“¦å·¥å®˜æ–¹ç½‘ç«™ è™½ç„¶ç»å¸¸è¿žæŽ¥ä¸ä¸Š åè€Œè¿™ä¸ªå¤‡ç”¨åœ°å€å€’æ˜¯è¿žæŽ¥é€Ÿåº¦å¾ˆå¿«ä¸€ä¸ªæ”¯æŒailpayçš„å›½å¤–vps ä»·æ ¼ååˆ†çš„æ„Ÿäºº çŽ°åœ¨åº”è¯¥æ˜¯2.99ç¾Žå…ƒä¸€ä¸ªæœˆ åŒæ—¶äº”ä¸ªæœºæˆ¿å¯ä»¥éšæ„æ›´æ¢ ä¹Ÿå°±æ˜¯è¯´å¯ä»¥èŽ·å¾—äº”ä¸ªipåœ°å€ æŸäº›æƒ…å†µä¸‹ååˆ†çš„æœ‰ç”¨ åŒæ ·ä»·æ ¼æ„Ÿäººçš„è¿˜æœ‰Host1plus 2ç¾Žå…ƒæ¯æœˆ ä½†æ˜¯çº¿è·¯ä¸æ˜¯å¾ˆç¨³å®šè¯¦ç»†çš„å¯ä»¥æŸ¥çœ‹å®˜æ–¹ç½‘ç«™ è¿™é‡Œåªæ˜¯ç®€å•çš„ä»‹ç»äº†ä¸¤ä¸ªå¯ä»¥é€šè¿‡æ”¯ä»˜å®æ”¯ä»˜çš„å›½å¤–vps å…åŽ»äº†è¿˜å¾—ç”³è¯·visaå¡çš„çº ç»“ æ›´å¤šè¯¦ç»†çš„å†…å®¹å¯ä»¥æŸ¥çœ‹åä¸ªä¾¿å®œVPS(å›½å†…å›½å¤–)ä¸»æœºåˆ†äº«-VPSæœåŠ¡å™¨å»ºç«™å’Œæ­å»ºåº”ç”¨æœåŠ¡ä½“éªŒ sså’Œpptpsså°±æ˜¯Shadowsocks ä¸€ä¸ªè½»é‡çº§çš„ç§‘å­¦ä¸Šç½‘æ–¹å¼æ”¯æŒOS X Windows Linux iOS androidçš„å®¢æˆ·ç«¯. å…·ä½“å¯ä»¥å‚è€ƒShadowsocksçš„è¯¦ç»†è¯´æ˜Ž pptpæ˜¯ä¸€ç§ç‚¹å¯¹ç‚¹éš§é“åè®® å¯ä»¥ç”¨æ¥å®žçŽ°ç§‘å­¦ä¸Šç½‘ç›¸å¯¹äºŽssæ¥è¯´å¯é…ç½®æ€§æ›´å¤š. å…·ä½“çš„ä¹Ÿå¯ä»¥å‚è€ƒç‚¹å¯¹ç‚¹éš§é“åè®® ä¸ªäººvpnæ­å»ºæ•™ç¨‹vpsçš„å‡†å¤‡ç”±äºŽæ˜¯åœ¨æ¬ç“¦å·¥ä¸­æ­å»ºçš„vpn æ‰€ä»¥è¿˜æ˜¯æŽ¨èè´­ä¹°æ¬ç“¦å·¥çš„æœåŠ¡å™¨ éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ æ³¨å†Œçš„é‚®ç®±éœ€è¦çœŸå®ž çœçš„ä»¥åŽæ— æ³•æ‰¾å›žå¯†ç  åŒæ ·æ˜¯æ³¨å†Œæ—¶ ç”¨æ‹¼éŸ³å¡«å†™å°±å¯ä»¥ èµ„æ–™æ˜¯å¦çœŸå®žæ— æ‰€è°“ ä½†æ˜¯å›½å®¶ çœä»½éœ€è¦çœŸå®žå­˜åœ¨çš„ è´­ä¹°çš„æ—¶å€™é€‰æ‹©ä»·æ ¼æœ€ä½Žçš„å°±å¥½ å›½å¤–çš„æœåŠ¡å™¨ä¸€èˆ¬éƒ½æ˜¯ç”¨æ¥æ­å»ºè¿™ä¸ªçš„ä¸æ˜¯ 500gé¢åº¦ä¹Ÿå¤Ÿä½ ä½¿ç”¨äº† å¯ä»¥æ ¹æ®è‡ªå·±çš„æƒ…å†µé€‰æ‹©è´­ä¹°çš„æ–¹å¼ ä¸€æœˆ ä¸€å­£åº¦ åŠå¹´å’Œä¸€å¹´çš„å››ç§æ–¹å¼ æ—¶é—´è¶Šé•¿æ¯æœˆçš„èŠ±é”€è¶Šä½Ž çœ‹ä¸ªäººçš„é€‰æ‹© çŽ„å­¦æ˜¯æ´›æ‰çŸ¶çš„æœºæˆ¿çš„ç½‘é€Ÿæœ€å¿« æ¬ç“¦å·¥çš„å¯¹æ–‡æœ¬çš„æ“ä½œæ˜¯ä¼šåœ¨é¢å¤–çš„å¼¹çª—ä¸­è¿›è¡Œçš„ æ³¨æ„ä¸è¦é˜»æ­¢å¼¹å‡º è¦ä¸ä½ ä¼šå› ä¸ºå¥‡æ€ªçš„æç¤ºè€Œæ€€ç–‘äººç”Ÿçš„ é€šè¿‡ssæ­å»ºä¸ªäººvpnæ¬ç“¦å·¥æœ‰ä¸€é”®å¼€å¯ssçš„åŠŸèƒ½ åªæ˜¯æƒ³ç®€å•çš„è‡ªå·±åšä¸ªvpnæ²¡æœ‰é¢å¤–å…¶ä»–çš„è¦æ±‚å¯ä»¥ä½¿ç”¨ä¸€ä¸‹ ååˆ†çš„ä¾¿æ· åŒæ · æˆ‘ä¹Ÿä¼šè¯´ä¸€ä¸‹æ‰‹åŠ¨é…ç½®çš„æ–¹æ³• ä¹Ÿååˆ†çš„ä¾¿æ·å…¶å®ž åˆ©ç”¨ssçš„Shadowsocks Serverä¸€é”®å¼€å¯vpn è¿›å…¥æŽ§åˆ¶å° å¯¹ç³»ç»Ÿè¿›è¡Œæ›´æ–° ä¸€é”®ç”ŸæˆssæœåŠ¡ é€‰æ‹©ä¸€é”®ç”Ÿæˆçš„åŠŸèƒ½ è¿™ä¸ªæ—¶å€™å°±è¯´æ˜Žç”ŸæˆæˆåŠŸäº† ssæœåŠ¡çš„ç›¸å…³é…ç½®ä¿¡æ¯ ä¸‹è½½sså®¢æˆ·ç«¯åŽåˆ›å»ºæ–°çš„è¿žæŽ¥ è¾“å…¥ç›¸å…³çš„ä¿¡æ¯ ä¸éœ€è¦çš„æ—¶å€™å¯ä»¥ç‚¹å‡»è¿™é‡Œå…³é—­ssæœåŠ¡ æ‰‹åŠ¨é…ç½®ssæœåŠ¡å¼€å¯vpn è¿›å…¥æŽ§åˆ¶å° åˆ©ç”¨pipå®‰è£…ssæœåŠ¡ 12# yum install python-setuptools &amp;&amp; easy_install pip # pip install shadowsocks é…ç½®ç›¸å…³ä¿¡æ¯ ä¹Ÿæœ‰ä¸¤ç§æ–¹å¼ æŽ¨èç¬¬ä¸€ç§ é…ç½®ä¿¡æ¯æ–¹ä¾¿æŸ¥çœ‹å’Œæ›´æ”¹ åˆ›å»ºé…ç½®ä¿¡æ¯ 123456789101112# touch /etc/shadowsocks.json# vi /etc/shadowsocks.json&#123;&quot;server&quot;:&quot;xxx.xxx.xxx&quot;, //æœåŠ¡å™¨çš„IP&quot;server_port&quot;:443, //æœåŠ¡å™¨æ–­å¼€&quot;local_address&quot;: &quot;127.0.0.1&quot;, //å®¢æˆ·ç«¯åœ°å€&quot;local_port&quot;:1080, //å®¢æˆ·ç«¯ç«¯å£&quot;password&quot;:&quot;MyPass&quot;, //å¯†ç &quot;timeout&quot;:600, //è¶…æ—¶æ—¶é—´(s)&quot;method&quot;:&quot;rc4-md5&quot; //åŠ å¯†æ–¹å¼ å¯é€‰â€œbf-cfbâ€, â€œaes-256-cfbâ€, &quot;salsa20&quot; , â€œrc4â€³ç­‰&#125; è¿è¡ŒssæœåŠ¡ 1# ssserver -c /etc/shadowsocks.json -d start ç›´æŽ¥è®¾ç½®ç›¸å…³ä¿¡æ¯ 1# ssserver -p 443 -k MyPass -m rc4-md5 -d start åœæ­¢ssæœåŠ¡ 12345#ssserver -c /etc/shadowsocks.json -d stop//é€šè¿‡jsonæ–‡ä»¶é…ç½®å¼€å¯çš„æœåŠ¡å…³é—­æ–¹æ³•#ssserver -d stop//ç›´æŽ¥é…ç½®ä¿¡æ¯å¼€å¯çš„æœåŠ¡å…³é—­çš„æ–¹æ³• é€šè¿‡pptpæ­å»ºä¸ªäººvpn å®‰è£…PPPå’Œiptables 1# yum install -y ppp iptables å®‰è£…pptpdç”±äºŽæˆ‘ä»¬æ˜¯é€šè¿‡yumå®‰è½¬çš„ppp å› ä¸ºyumå®‰è½¬çš„pppæ˜¯æœ€æ–°çš„ç‰ˆæœ¬ æ‰€ä»¥æˆ‘ä»¬è¦æ ¹æ®å½“å‰çš„pppç‰ˆæœ¬æ¥é€‰æ‹©pptpçš„ç‰ˆæœ¬ 1# yum list installed ppp //æŸ¥çœ‹å½“å‰pppç‰ˆæœ¬ æ ¹æ®å½“æœŸpppç‰ˆæœ¬é€‰æ‹©å¯¹åº”çš„pptpç‰ˆæœ¬ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°å¯¹åº”çš„ç‰ˆæœ¬ä¸‹è½½ ppp 2.4.4 å¯¹åº” pptp 1.3.4çš„ç‰ˆæœ¬ ppp 2.4.5 å¯¹åº” pptp 1.4.0çš„ç‰ˆæœ¬ 123456# wget http://poptop.sourceforge.net/yum/stable/packages/pptpd-1.4.0-1.el6.x86_64.rpm//ä¸‹è½½å¯¹åº”çš„ç‰ˆæœ¬# yum install perl//å®‰è£…perl# rpm -ivh pptpd-1.4.0-1.el6.x86_64.rpm//å®‰è£…pptp è‡³æ­¤å‡å®‰è£…å®Œæ¯• ä¸‹é¢è¿›è¡Œé…ç½® vpnç›¸å…³é…ç½®ä¸€ä¸‹å‡å¯¹é…ç½®æ–‡ä»¶è¿›è¡Œå¤‡ä»½ æœ‰éœ€è¦çš„å¯ä»¥å›žæ»šæ“ä½œ é…ç½® /etc/ppp/options.pptpd 1234567# cp /etc/ppp/options.pptpd /etc/ppp/options.pptpd.bak//å¤‡ä»½# vi /etc/ppp/options.pptpd//å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°options.pptpdå½“ä¸­ms-dns 8.8.8.8ms-dns 8.8.4.4 é…ç½® /etc/ppp/chap-secrets 123456789# cp /etc/ppp/chap-secrets /etc/ppp/chap-secrets.bak//å¤‡ä»½# vi /etc/ppp/chap-secrets//æ·»åŠ ä»¥ä¸‹å†…å®¹myusername pptpd mypassword *//myusername vpnè´¦å·//mypassword vpnå¯†ç //* å¯è¿žæŽ¥çš„ipåœ°å€ *è¡¨ç¤ºæŽ¥å—æ‰€æœ‰ipåœ°å€çš„æ¥æº é…ç½® /etc/pptpd.conf 123456789# cp /etc/pptpd.conf /etc/pptpd.conf.bak//å¤‡ä»½# vi /etc/pptpd.conf//æ·»åŠ ä¸€ä¸‹å†…å®¹ ç”¨äºŽèŽ·å¾—vpnå®¢æˆ·ç«¯èŽ·å¾—ipçš„èŒƒå›´localip 192.168.0.1remoteip 192.168.0.234-238,192.168.0.245//é…ç½®æ–‡ä»¶çš„æœ€åŽè¦ä»¥ç©ºè¡Œç»“å°¾ é…ç½® /etc/sysctl.conf 12345678# cp /etc/sysctl.conf /etc/sysctl.conf.bak# vi /etc/sysctl.conf//ä¿®æ”¹ä»¥ä¸‹å†…å®¹ ä½¿å…¶æ”¯æŒè½¬å‘net.ipv4.ip_forward = 1# /sbin/sysctl -p//ä¿å­˜ä¿®æ”¹åŽçš„æ–‡ä»¶ å¯åŠ¨pptpæœåŠ¡å’Œiptables 12345678910111213# /sbin/service iptables start//å¯åŠ¨iptables# iptables -t nat -A POSTROUTING -o eth0 -s 192.168.0.0/24 -j SNAT --to-source xxx.xxx.xxx.xxx//è®¾ç½®è½¬å‘åŠŸèƒ½ -o eth0åˆ¶å®šç½‘å¡// xxx.xxx.xxx.xxxä¸ºå…¬ç½‘ip# /etc/init.d/iptables save//ä¿å­˜iptablesçš„è½¬å‘è§„åˆ™# /sbin/service iptables restart//é‡æ–°å¯åŠ¨iptables# service pptpd start FinalSpeedå¯¹ssçš„ä¼˜åŒ–æé€Ÿ123# wget http://fs.d1sm.net/finalspeed/install_fs.sh# chmod +x install_fs.sh# ./install_fs.sh 2&gt;&amp;1 | tee install.log ç›¸å…³æ³¨æ„äº‹é¡¹ä¸ªäººå­¦ä¹ ç”¨ ä¸è¦ç”¨äºŽå¥‡æ€ªçš„åœ°æ–¹ æ¸¸æˆå»¶è¿Ÿå¯èƒ½å¾ˆé«˜]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Android Tools ä¹‹ä¸€ Hierarchy Viewer]]></title>
      <url>%2F2017%2F02%2F03%2FHierarchyViewer%2F</url>
      <content type="text"><![CDATA[Android Tools ä¹‹ä¸€ Hierarchy Viewer æœ¬ç³»åˆ—æ—¨åœ¨ä»‹ç»ä¸€äº›è¢«å¿½ç•¥çš„ä¼˜è´¨å·¥å…· æ¯•ç«Ÿ èƒ½è¢«å½“åšè‡ªå¸¦çš„å·¥å…·æ€»æœ‰äº›åšçš„æ¯”è¾ƒå¥½çš„åœ°æ–¹ä¸æ˜¯ Hierarchy ViewerHierarchy Vieweræ˜¯ä¸€ä¸ªå¯ä»¥ç”¨æ¥æŸ¥çœ‹Viewçš„ä½¿ç”¨å·¥å…· android sdkä¸­è‡ªå¸¦ Optimizing Your UI -å®˜æ–¹ç½‘ç«™ éœ€ç§‘å­¦ä¸Šç½‘ å¯åŠ¨Hierarchy Viewerhierarchyviewerå·¥å…·åœ¨sdk/toolsè·¯å¾„ä¸‹ å†æ¬¡æ‰“å¼€åŽä¼šå‡ºçŽ°å¦‚ä¸‹æç¤º12The standalone version of hieararchyviewer is deprecated.Please use Android Device Monitor (tools/monitor) instead. ä¸»è¦æƒ³è¯´çš„å°±æ˜¯ å•ç‹¬ä½¿ç”¨hieararchyviewerå·²ç»ä¸è¢«å»ºè®® å»ºè®®ä½¿ç”¨Android Device Monitor(Android Device Monitorçš„ç›¸å…³ä½¿ç”¨åŽç»­ä¼šè¯¦ç»†ä»‹ç») ç›´æŽ¥è¿è¡Œmonitoræˆ–è€…åœ¨åœ¨Android Studio -&gt; tools -&gt; android -&gt; Android Device Monitorä¸­å°†hieararchyviewerå·¥å…·æ‰“å¼€ ä»¥ä¸‹å¯¹hieararchyviewerå·¥å…·è¿›è¡Œæ“ä½œå‡ä¸ºç›´æŽ¥æ‰“å¼€hieararchyviewerå·¥å…· å’Œé€šè¿‡monitorå·¥å…·æ‰“å¼€çš„hieararchyviewerçš„UIå¯èƒ½ç•¥æœ‰ä¸åŒ ä»¥ç›´æŽ¥æ‰“å¼€hieararchyviewerå·¥å…·æ“ä½œä¸ºå‡† æ— æ³•æ­£å¸¸ä½¿ç”¨åœ¨è¿žæŽ¥è¿‡ç¨‹ä¸­å¯èƒ½é‡åˆ°æ— æ³•è¿žæŽ¥åˆ°æ‰‹æœºçš„é—®é¢˜ è¯¦æƒ…å‚è€ƒä»¥ä¸‹æ–‡ç«  HierachyVieweræ— æ³•è¿žæŽ¥çœŸæœºè°ƒè¯• HierachyVieweræ— æ³•è¿žæŽ¥çœŸæœºè°ƒè¯•è¯¦è§£ ä½¿ç”¨Hierarchy Viewer æˆåŠŸè¿žæŽ¥åŽä¼šå‡ºçŽ°å¦‚ä¸Šé¡µé¢ å½“å‰é¡µé¢æ­£åœ¨æ˜¾ç¤ºçš„è¿›ç¨‹è¢«åŠ ç²—æ˜¾ç¤º (é‚£äº›çœ‹ç€æ˜¯ç©ºçš„ä½ç½® è¿›å…¥åŽä¼šæ˜¾ç¤ºé€šçŸ¥æ ä¸­çš„Viewå¸ƒå±€) é€‰æ‹©æƒ³è¦æŸ¥çœ‹çš„è¿›ç¨‹åŽè¿›å…¥ Load View Hierarchyé¡µé¢ ä¸‹é¢å¯¹ä¸åŒéƒ¨åˆ†åˆ†åˆ«ä»‹ç»ä¸€ä¸‹ Save as PNG: æŠŠè¿™ä¸ªå¸ƒå±€çš„å±‚çº§å¦å­˜ä¸ºpngæ ¼å¼ Capture Layers: æŠŠè¿™ä¸ªå¸ƒå±€çš„å±‚çº§å¦å­˜ä¸ºpsdæ ¼å¼ å¯ä»¥æŸ¥çœ‹å„å±‚çº§çš„æƒ…å†µ Load View Hierarchy: é‡æ–°è½½å…¥è¿™ä¸ªviewå±‚çº§å›¾ Evaluate Contrast: æŸ¥çœ‹å±‚çº§å¸ƒå±€çš„å…·ä½“æƒ…å†µ Display View: åœ¨å•ç‹¬çš„ä¸€ä¸ªçª—å£ä¸­æ˜¾ç¤ºæ‰€é€‰æ‹©çš„view Invalidate Layout: é‡ç»˜å½“å‰çª—å£ Request Layout: å¯¹å½“å‰viewè¿›è¡Œlayout Dump DisplayList: ä½¿å½“å‰viewè¾“å‡ºå®ƒçš„æ˜¾ç¤ºåˆ—è¡¨åˆ°logcatä¸­ Dump Theme: ä¸‹è½½è¿™ä¸ªviewä¸»é¢˜çš„èµ„æº Profile Node: å¾—åˆ°measureï¼Œlayoutï¼Œdrawçš„æ€§èƒ½æŒ‡ç¤ºå™¨ é€‰å–æŸä¸ªviewèŠ‚ç‚¹å¯ä»¥æŸ¥çœ‹é€‰å–çš„Viewçš„è¯¦æƒ… å…³äºŽViewçš„æ¸²æŸ“æœºåˆ¶å¯ä»¥å‚è€ƒä¸€ä¸‹æœ¬äººå…³äºŽandroid Viewç›¸å…³æœºåˆ¶è§£æžçš„æ–‡ç«  Android View ç›¸å…³æºç åˆ†æžä¹‹ä¸‰ Viewçš„ç»˜åˆ¶è¿‡ç¨‹ å…³äºŽå¯¹åº”æ¸²æŸ“æ—¶é—´çš„é€Ÿåº¦ä¸­ æˆ‘ä¹ˆçŸ¥é“Viewç»˜åˆ¶åˆ†ä¸ºmeasure layout å’Œdrawä¸‰ä¸ªè¿‡ç¨‹ ä¸‰ä¸ªç‚¹åˆ†å¸ƒå¯¹åº”ä»¥ä¸Šä¸‰ä¸ªè¿‡ç¨‹ åˆ†ä¸ºç»¿ é»„ çº¢ä¸‰ä¸ªé¢œè‰² ç»¿è‰²ä»£è¡¨è¯¥Viewåœ¨æœ¬view treeä¸­é€Ÿåº¦æ˜¯å‰50% é»„è‰²è¡¨ç¤ºåŽ50% è€Œçº¢è‰²è¡¨ç¤ºæ˜¯èŠ±è´¹æ—¶é—´æœ€é•¿çš„ è¿˜è®°å¾—æœ€å¼€å§‹ä½¿ç”¨Hierarchy Viewerä¸­ä¸Šæ–¹æœ‰Inspect screenshotçš„æŒ‰é’® å¯ä»¥æŸ¥çœ‹å½“å‰Activityçš„åƒç´ æƒ…å†µ (å±‚çº§ååˆ†çš„æ¸…æ™° å°±ä¸ä»”ç»†è§£é‡Šäº†) è§£é‡Šä¸‹ç›¸å…³åŠŸèƒ½ Save as PNG: ä¿å­˜å½“å‰æ˜¾ç¤ºçš„é¡µé¢ä¸ºpngæ ¼å¼ Refresh Screenshot: åˆ·æ–°åƒç´ è§†å›¾å’Œæ”¾å¤§é•œè§†å›¾(å³è¾¹é‚£ä¸¤ä¸ª) Refresh Tree: åˆ·æ–°View tree Load Overlay: åœ¨å³ä¾§æ”¾å¤§é•œè§†å›¾ä¸­ä¸­åŠ è½½ä¸€ä¸ªè¦†ç›–å›¾(å®˜ç½‘ä¸­æ²¡æœ‰ç»™å‡ºè¯¦ç»†çš„å®šä¹‰ ä¸»è¦æ ¹æ®ç›¸å…³ä»‹ç»ç†è§£ ç•¥æœ‰åå·® æ¬¢è¿ŽæŒ‡å‡º) Show In Loupe: åœ¨ä¸­é—´çš„åƒç´ è§†å›¾ä¸­æ˜¾ç¤ºä¹‹å‰åŠ è½½çš„å›¾ç‰‡ Auto Refresh: ä¼šæ ¹æ®ä¸‹å‘è®¾ç½®çš„Refresh Rateçš„æ—¶é—´è‡ªåŠ¨æ›´æ–°View tree ä»¥ä¸Š]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Android View ç›¸å…³æºç åˆ†æžä¹‹äº” RelativeLayout æºç åˆ†æž]]></title>
      <url>%2F2017%2F02%2F03%2FRelativeLayout%20%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%2F</url>
      <content type="text"><![CDATA[RelativeLayout æºç åˆ†æž ç»§æ‰¿è‡ªViewGroup æ²¡æœ‰é‡è½½onDrawæ–¹æ³• å†…éƒ¨å­Viewåˆæ˜¯ç›¸å¯¹ åªè¦è®¡ç®—å‡ºViewçš„åæ ‡ layoutè¿‡ç¨‹åŒæ ·ç®€å• measureè¿‡ç¨‹ä¸»è¦è¿‡ç¨‹ å°†å†…éƒ¨Viewæ ¹æ®çºµå‘å…³ç³»å’Œæ¨ªå‘å…³ç³»æŽ’åº åˆå§‹åŒ–ç›¸å…³å˜é‡ éåŽ†æ°´å¹³å…³ç³»çš„View éåŽ†ç«–ç›´å…³ç³»çš„View baselineè®¡ç®— å®½åº¦å’Œé«˜åº¦ä¿®æ­£ 1 å°†å†…éƒ¨Viewæ ¹æ®çºµå‘å…³ç³»å’Œæ¨ªå‘å…³ç³»æŽ’åº layout_toRightOf ä¸ºæ¨ªå‘å…³ç³» layout_belowä¸ºçºµå‘å…³ç³» 12345//é¦–å…ˆä¼šæ ¹æ®mDirtyHierarchyçš„å€¼åˆ¤æ–­æ˜¯å¦éœ€è¦å°†å­Viewé‡æ–°æŽ’åºif (mDirtyHierarchy) &#123; mDirtyHierarchy = false; sortChildren();&#125; ç›¸å…³è°ƒç”¨æ–¹æ³•123456789101112131415161718192021222324252627//mDirtyHierarchyçš„å€¼åªæœ‰åœ¨requestLayoutæ–¹æ³•ä¸‹è¢«æ›´æ–°public void requestLayout() &#123; super.requestLayout(); mDirtyHierarchy = true;&#125;//sortChildren()æ–¹æ³•å¯¹æ¨ªå‘çºµå‘å…³ç³»çš„viewçš„æ•°ç»„è¿›è¡Œéžç©ºåˆ¤æ–­ ç”¨DependencyGraphè¿›è¡Œåˆ¤æ–­private void sortChildren() &#123; final int count = getChildCount(); if (mSortedVerticalChildren == null || mSortedVerticalChildren.length != count) &#123; mSortedVerticalChildren = new View[count]; &#125; if (mSortedHorizontalChildren == null || mSortedHorizontalChildren.length != count) &#123; mSortedHorizontalChildren = new View[count]; &#125; final DependencyGraph graph = mGraph; graph.clear(); for (int i = 0; i &lt; count; i++) &#123; graph.add(getChildAt(i)); &#125; graph.getSortedViews(mSortedVerticalChildren, RULES_VERTICAL); graph.getSortedViews(mSortedHorizontalChildren, RULES_HORIZONTAL);&#125; DependencyGraphçš„ç›¸å…³æ–¹æ³•1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768 private static class DependencyGraph &#123; ... /** * Adds a view to the graph. * * @param view The view to be added as a node to the graph. */ void add(View view) &#123; //å› ä¸ºæ˜¯å›¾ æ ¹æ®viewç”Ÿæˆä¸€ä¸ªèŠ‚ç‚¹ final int id = view.getId(); final Node node = Node.acquire(view); //å¦‚æžœæ˜¯æœ‰æ•ˆçš„id åˆ™å°†è¯¥èŠ‚ç‚¹æ·»åŠ åˆ°Listä¸­ if (id != View.NO_ID) &#123; mKeyNodes.put(id, node); &#125; mNodes.add(node); &#125; /** * Builds a sorted list of views. The sorting order depends on the dependencies * between the view. For instance, if view C needs view A to be processed first * and view A needs view B to be processed first, the dependency graph * is: B -&gt; A -&gt; C. The sorted array will contain views B, A and C in this order. * * @param sorted The sorted list of views. The length of this array must * be equal to getChildCount(). * @param rules The list of rules to take into account. */ void getSortedViews(View[] sorted, int... rules) &#123; //å½“å‰Viewæ‰¾ä¸åˆ°å…¶å®ƒçš„å¯ä¾èµ–çš„Viewæ—¶ ä½œä¸ºrootèŠ‚ç‚¹ final ArrayDeque&lt;Node&gt; roots = findRoots(rules); int index = 0; Node node; //è¯»å–rootçš„ä¸‹ä¸€ä¸ªnode while ((node = roots.pollLast()) != null) &#123; final View view = node.view; final int key = view.getId(); //å°†ç¬¦åˆè§„åˆ™çš„ViewåŠ åˆ° sortedä¸­ sorted[index++] = view; final ArrayMap&lt;Node, DependencyGraph&gt; dependents = node.dependents; //dependents ä¾èµ–è¯¥nodeçš„node (A Cä¾èµ–B åˆ™Bçš„dependentsä¸­å­˜A C) final int count = dependents.size(); //éåŽ†æ‰€æœ‰ä¾èµ–è‡ªå·±çš„node for (int i = 0; i &lt; count; i++) &#123; final Node dependent = dependents.keyAt(i); //dependencies æ˜¯è¢«ä¾èµ–çš„çš„nodeçš„è§„åˆ™å’Œnode(A ä¾èµ– B D åˆ™dependencieså­˜æœ‰B D ) final SparseArray&lt;Node&gt; dependencies = dependent.dependencies; //ç§»é™¤å½“å‰nodeå’Œdependenciesçš„ä¾èµ–å…³ç³» dependencies.remove(key); //å¦‚æžœè§£é™¤ä¾èµ–åŽæ²¡æœ‰å…¶å®ƒä¾èµ– åˆ™å°†è¯¥nodeä¹Ÿè§†ä¸ºrootNode if (dependencies.size() == 0) &#123; roots.add(dependent); &#125; &#125; &#125; if (index &lt; sorted.length) &#123; throw new IllegalStateException("Circular dependencies cannot exist in RelativeLayout"); &#125; &#125; ...&#125; eg: Aä¾èµ–B Bä¾èµ–C é¦–å…ˆå­˜å…¥C å› ä¸ºä¸ä¾èµ–ä»»ä½•å…¶å®ƒçš„ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162/** * Finds the roots of the graph. A root is a node with no dependency and * with [0..n] dependents. * * @param rulesFilter The list of rules to consider when building the * dependencies * * @return A list of node, each being a root of the graph */private ArrayDeque&lt;Node&gt; findRoots(int[] rulesFilter) &#123; //keyNodesä¸ºnodelist final SparseArray&lt;Node&gt; keyNodes = mKeyNodes; final ArrayList&lt;Node&gt; nodes = mNodes; final int count = nodes.size(); //åˆå§‹åŒ–ä¾èµ–è¯¥nodeçš„nodeå’Œè¯¥nodeä¾èµ–çš„nodeç›¸å…³å‚æ•° for (int i = 0; i &lt; count; i++) &#123; final Node node = nodes.get(i); node.dependents.clear(); node.dependencies.clear(); &#125; //éåŽ†æ‰€æœ‰node å­˜å…¥å½“å‰viewå’Œä»–æ‰€ä¾èµ–çš„å…³ç³» for (int i = 0; i &lt; count; i++) &#123; final Node node = nodes.get(i); final LayoutParams layoutParams = (LayoutParams) node.view.getLayoutParams(); //å–å‡ºå½“å‰Viewæ‰€æœ‰çš„ä¾èµ–å…³ç³» final int[] rules = layoutParams.mRules; final int rulesCount = rulesFilter.length; //éåŽ†å½“å‰Viewæ‰€æœ‰çš„ for (int j = 0; j &lt; rulesCount; j++) &#123; //ruleå¯¹åº”è¢«ä¾èµ–viewçš„id final int rule = rules[rulesFilter[j]]; if (rule &gt; 0) &#123; //æ‰¾åˆ°è¢«ä¾èµ–çš„node final Node dependency = keyNodes.get(rule); //è·³è¿‡ç©ºviewå’Œæœ¬èº« if (dependency == null || dependency == node) &#123; continue; &#125; //æ·»åŠ ä¾èµ–è¢«ä¾èµ–çš„node dependency.dependents.put(node, this); node.dependencies.put(rule, dependency); &#125; &#125; &#125; final ArrayDeque&lt;Node&gt; roots = mRoots; roots.clear(); // å†æ¬¡éåŽ† å¦‚æžœè¯¥nodeçš„ä¾èµ–å…³ç³»ä¸º0 å³è¯¥viewä¸ä¾èµ–ä»»ä½•view åˆ™è§†ä¸ºrootView for (int i = 0; i &lt; count; i++) &#123; final Node node = nodes.get(i); if (node.dependencies.size() == 0) roots.addLast(node); &#125; return roots;&#125; 2 åˆå§‹åŒ–ç›¸å…³å˜é‡1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556int myWidth = -1;int myHeight = -1;int width = 0;int height = 0;final int widthMode = MeasureSpec.getMode(widthMeasureSpec);final int heightMode = MeasureSpec.getMode(heightMeasureSpec);final int widthSize = MeasureSpec.getSize(widthMeasureSpec);final int heightSize = MeasureSpec.getSize(heightMeasureSpec);// å¦‚æžœä¸æ˜¯UNSPECIFIEDæ¨¡å¼ åˆ™å°†widthSizeèµ‹å€¼äºŽmyWidthif (widthMode != MeasureSpec.UNSPECIFIED) &#123; myWidth = widthSize;&#125;// å¦‚æžœä¸æ˜¯UNSPECIFIEDæ¨¡å¼ åˆ™å°†heightSizeèµ‹å€¼äºŽmyHeightif (heightMode != MeasureSpec.UNSPECIFIED) &#123; myHeight = heightSize;&#125;//å¦‚æžœæ˜¯EXACTLYæ¨¡å¼ åˆ™å°†myWidthå’ŒmyHeightè®°å½•if (widthMode == MeasureSpec.EXACTLY) &#123; width = myWidth;&#125;if (heightMode == MeasureSpec.EXACTLY) &#123; height = myHeight;&#125;View ignore = null;//åˆ¤æ–­æ˜¯å¦ä¸ºStart å’Œ top ç¡®å®šå·¦ä¸Šè§’åæ ‡int gravity = mGravity &amp; Gravity.RELATIVE_HORIZONTAL_GRAVITY_MASK;final boolean horizontalGravity = gravity != Gravity.START &amp;&amp; gravity != 0;gravity = mGravity &amp; Gravity.VERTICAL_GRAVITY_MASK;final boolean verticalGravity = gravity != Gravity.TOP &amp;&amp; gravity != 0;int left = Integer.MAX_VALUE;int top = Integer.MAX_VALUE;int right = Integer.MIN_VALUE;int bottom = Integer.MIN_VALUE;boolean offsetHorizontalAxis = false;boolean offsetVerticalAxis = false;// è®°å½•ignoreçš„viewif ((horizontalGravity || verticalGravity) &amp;&amp; mIgnoreGravity != View.NO_ID) &#123; ignore = findViewById(mIgnoreGravity);&#125;//å®½åº¦ä¸ªé«˜åº¦æ˜¯å¦ä¸ºwarpæ¨¡å¼final boolean isWrapContentWidth = widthMode != MeasureSpec.EXACTLY;final boolean isWrapContentHeight = heightMode != MeasureSpec.EXACTLY;//åœ¨è®¡ç®—å’Œåˆ†é…çš„å­Viewçš„åæ ‡çš„æ—¶å€™ éœ€è¦ç”¨åˆ°çˆ¶VIewçš„å°ºå¯¸ ä½†æ˜¯æš‚æ—¶æ— æ³•æ‹¿åˆ°å‡†ç¡®å€¼(å¾…å®Œæˆä¸‹é¢æ“ä½œ)//å…ˆä½¿ç”¨é»˜è®¤å€¼ä»£æ›¿ åœ¨è®¡ç®—åŽ ç”¨åç§»é‡æ›´æ–°çœŸæ˜¯åæ ‡final int layoutDirection = getLayoutDirection();if (isLayoutRtl() &amp;&amp; myWidth == -1) &#123; myWidth = DEFAULT_WIDTH;&#125; 3 éåŽ†æ°´å¹³å…³ç³»çš„View12345678910111213141516171819View[] views = mSortedHorizontalChildren;int count = views.length;for (int i = 0; i &lt; count; i++) &#123; View child = views[i]; if (child.getVisibility() != GONE) &#123; LayoutParams params = (LayoutParams) child.getLayoutParams(); //æ ¹æ®æ–¹å‘èŽ·å¾—å­Viewä¸­è®¾ç½®çš„è§„åˆ™ int[] rules = params.getRules(layoutDirection); //å°†å·¦å³æ–¹å‘è§„åˆ™è½¬æ¢ä¸ºå·¦å³çš„åæ ‡ applyHorizontalSizeRules(params, myWidth, rules); //æµ‹ç®—æ°´å¹³æ–¹å‘çš„å­Viewçš„å°ºå¯¸ measureChildHorizontal(child, params, myWidth, myHeight); //ç¡®å®šæ°´å¹³æ–¹å‘å­Viewçš„ä½ç½® if (positionChildHorizontal(child, params, myWidth, isWrapContentWidth)) &#123; offsetHorizontalAxis = true; &#125; &#125;&#125; ç›¸å…³æ–¹æ³•12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455private void applyHorizontalSizeRules(LayoutParams childParams, int myWidth, int[] rules) &#123; RelativeLayout.LayoutParams anchorParams; childParams.mLeft = VALUE_NOT_SET; childParams.mRight = VALUE_NOT_SET; //å¾—åˆ°å½“å‰å­Viewçš„layout_toLeftOfå±žæ€§å¯¹åº”çš„View anchorParams = getRelatedViewParams(rules, LEFT_OF); if (anchorParams != null) &#123; //å¦‚æžœè¿™ä¸ªå±žæ€§å­˜åœ¨ åˆ™å½“å‰å­Viewçš„å³åæ ‡æ˜¯layout_toLeftOfå¯¹åº”çš„viewçš„å·¦åæ ‡å‡åŽ»å¯¹åº”viewçš„marginLeftçš„å€¼å’Œè‡ªèº«marginRightçš„å€¼ childParams.mRight = anchorParams.mLeft - (anchorParams.leftMargin + childParams.rightMargin); //å¦‚æžœalignWithParentä¸ºtrue alignWithParentå–alignWithParentIfMissing //å¦‚æžœlayout_toLeftOfçš„viewä¸ºç©º æˆ–è€…gone åˆ™å°†RelativeLayoutå½“åšè¢«ä¾èµ–çš„å¯¹è±¡ &#125; else if (childParams.alignWithParent &amp;&amp; rules[LEFT_OF] != 0) &#123; //å¦‚æžœçˆ¶å®¹å™¨RelativeLayoutçš„å®½åº¦å¤§äºŽ0 //åˆ™å­Viewçš„å³åæ ‡ä¸º çˆ¶RelativeLayoutçš„å®½åº¦å‡åŽ» mPaddingRight å’Œè‡ªèº«çš„marginRight if (myWidth &gt;= 0) &#123; childParams.mRight = myWidth - mPaddingRight - childParams.rightMargin; &#125; &#125; //ç±»ä¼¼çš„æ–¹æ³• å¾—åˆ°å·¦åæ ‡(é€šè¿‡å‚æ•°RIGHT_OF) anchorParams = getRelatedViewParams(rules, RIGHT_OF); if (anchorParams != null) &#123; childParams.mLeft = anchorParams.mRight + (anchorParams.rightMargin + childParams.leftMargin); &#125; else if (childParams.alignWithParent &amp;&amp; rules[RIGHT_OF] != 0) &#123; childParams.mLeft = mPaddingLeft + childParams.leftMargin; &#125; //ç±»ä¼¼çš„æ–¹æ³• å¾—åˆ°å·¦åæ ‡ (é€šè¿‡å‚æ•°ALIGN_LEFT) anchorParams = getRelatedViewParams(rules, ALIGN_LEFT); if (anchorParams != null) &#123; childParams.mLeft = anchorParams.mLeft + childParams.leftMargin; &#125; else if (childParams.alignWithParent &amp;&amp; rules[ALIGN_LEFT] != 0) &#123; childParams.mLeft = mPaddingLeft + childParams.leftMargin; &#125; //ç±»ä¼¼çš„æ–¹æ³• å¾—åˆ°å³åæ ‡ (é€šè¿‡å‚æ•°ALIGN_RIGHT) anchorParams = getRelatedViewParams(rules, ALIGN_RIGHT); if (anchorParams != null) &#123; childParams.mRight = anchorParams.mRight - childParams.rightMargin; &#125; else if (childParams.alignWithParent &amp;&amp; rules[ALIGN_RIGHT] != 0) &#123; if (myWidth &gt;= 0) &#123; childParams.mRight = myWidth - mPaddingRight - childParams.rightMargin; &#125; &#125; //æ ¹æ®ALIGN_PARENT_LEFT å°†è‡ªå·±æ”¾åˆ°çˆ¶RelativeLayoutçš„å·¦è¾¹ if (0 != rules[ALIGN_PARENT_LEFT]) &#123; childParams.mLeft = mPaddingLeft + childParams.leftMargin; &#125; //æ ¹æ®ALIGN_PARENT_RIGHT å°†è‡ªå·±æ”¾åˆ°çˆ¶RelativeLayoutçš„å³è¾¹ if (0 != rules[ALIGN_PARENT_RIGHT]) &#123; if (myWidth &gt;= 0) &#123; childParams.mRight = myWidth - mPaddingRight - childParams.rightMargin; &#125; &#125;&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041private void measureChildHorizontal(View child, LayoutParams params, int myWidth, int myHeight) &#123; //èŽ·å¾—childçš„å®½åº¦MeasureSpec final int childWidthMeasureSpec = getChildMeasureSpec(params.mLeft, params.mRight, params.width, params.leftMargin, params.rightMargin, mPaddingLeft, mPaddingRight, myWidth); final int childHeightMeasureSpec; //åœ¨ä½ŽäºŽ4.2çš„æ—¶å€™ mAllowBrokenMeasureSpecsä¸ºtrue //å½“myHeight &lt; 0 æ—¶ åˆ™æ ¹æ®çˆ¶RelativeLayoutè®¾ç½®å…¶MeasureSpecæ¨¡å¼ if (myHeight &lt; 0 &amp;&amp; !mAllowBrokenMeasureSpecs) &#123; //å¦‚æžœçˆ¶RelativeLayoutçš„heightå¤§äºŽ0 åˆ™ è®¾ç½®å­viewçš„MeasureSpecæ¨¡å¼ä¸ºEXACTLY if (params.height &gt;= 0) &#123; childHeightMeasureSpec = MeasureSpec.makeMeasureSpec( params.height, MeasureSpec.EXACTLY); &#125; else &#123; //åä¹‹ å¦‚æžœå…¶å°äºŽ0 åˆ™è®¾ç½®å­Viewçš„MeasureSpecä¸ºUNSPECIFIED childHeightMeasureSpec = MeasureSpec.makeMeasureSpec(0, MeasureSpec.UNSPECIFIED); &#125; &#125; else &#123; //å½“å½“å‰myHeight &gt;= 0 //åˆ¤æ–­å½“å‰é«˜åº¦æ˜¯å¦ä¸Žçˆ¶RelativeLayouté«˜åº¦ç›¸åŒ è®¾ç½®heightMode //æ ¹æ®maxHeight å’ŒheightModeè®¾ç½®å­Viewçš„MeasureSpecæ¨¡å¼ final int maxHeight; if (mMeasureVerticalWithPaddingMargin) &#123; maxHeight = Math.max(0, myHeight - mPaddingTop - mPaddingBottom - params.topMargin - params.bottomMargin); &#125; else &#123; maxHeight = Math.max(0, myHeight); &#125; final int heightMode; if (params.height == LayoutParams.MATCH_PARENT) &#123; heightMode = MeasureSpec.EXACTLY; &#125; else &#123; heightMode = MeasureSpec.AT_MOST; &#125; childHeightMeasureSpec = MeasureSpec.makeMeasureSpec(maxHeight, heightMode); &#125; //èŽ·å¾—äº†å­Viewçš„WidthMeasureSpecå’ŒHeightMeasureSpec //å­Viewå¯ä»¥é€šè¿‡measureæ–¹æ³•èŽ·å–è‡ªèº«çš„size child.measure(childWidthMeasureSpec, childHeightMeasureSpec);&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105/** * Get a measure spec that accounts for all of the constraints on this view. * This includes size constraints imposed by the RelativeLayout as well as * the View's desired dimension. * * @param childStart The left or top field of the child's layout params * @param childEnd The right or bottom field of the child's layout params * @param childSize The child's desired size (the width or height field of * the child's layout params) * @param startMargin The left or top margin * @param endMargin The right or bottom margin * @param startPadding mPaddingLeft or mPaddingTop * @param endPadding mPaddingRight or mPaddingBottom * @param mySize The width or height of this view (the RelativeLayout) * @return MeasureSpec for the child */ private int getChildMeasureSpec(int childStart, int childEnd, int childSize, int startMargin, int endMargin, int startPadding, int endPadding, int mySize) &#123; int childSpecMode = 0; int childSpecSize = 0; final boolean isUnspecified = mySize &lt; 0; //å¦‚æžœçˆ¶RelativeLayoutå®½åº¦å°äºŽ0 ç‰ˆæœ¬å·ä¸å°äºŽ4.2 if (isUnspecified &amp;&amp; !mAllowBrokenMeasureSpecs) &#123; //å¦‚æžœå­Viewçš„å·¦è¾¹è·å’Œå³è¾¹è·éƒ½ä¸ä¸ºVALUE_NOT_SET //ä¸”å³è¾¹è·åæ ‡å¤§äºŽå·¦è¾¹è·åæ ‡ åˆ™å°†å…¶å·®å½“åšå®½åº¦èµ‹äºˆView è®¾ç½®æ¨¡å¼ä¸ºEXACTLY //VALUE_NOT_SET = Integer.MIN_VALUE /** * Constant for the minimum &#123;@code int&#125; value, -2&lt;sup&gt;31&lt;/sup&gt;. */ //public static final int MIN_VALUE = 0x80000000; if (childStart != VALUE_NOT_SET &amp;&amp; childEnd != VALUE_NOT_SET) &#123; childSpecSize = Math.max(0, childEnd - childStart); childSpecMode = MeasureSpec.EXACTLY; &#125; else if (childSize &gt;= 0) &#123; // å¦‚æžœchildSpecSize &gt;= 0 åˆ™èµ‹å€¼äºŽchildSpecSize //åŒæ ·è®¾ç½®æ¨¡å¼ä¸ºEXACTLY childSpecSize = childSize; childSpecMode = MeasureSpec.EXACTLY; &#125; else &#123; // éƒ½ä¸æ»¡è¶³åˆ™è®¾ç½®æ¨¡å¼ä¸ºUNSPECIFIED childSpecSize = 0; childSpecMode = MeasureSpec.UNSPECIFIED; &#125; return MeasureSpec.makeMeasureSpec(childSpecSize, childSpecMode); &#125; // è®¡ç®— å¼€å§‹å’Œç»“æŸç›¸å…³ int tempStart = childStart; int tempEnd = childEnd; //å¦‚æžœæ²¡æœ‰æŒ‡å®šstartå€¼ åˆ™é»˜è®¤èµ‹äºˆ paddingå’Œmerageçš„å€¼ if (tempStart == VALUE_NOT_SET) &#123; tempStart = startPadding + startMargin; &#125; //åŒä¸Š if (tempEnd == VALUE_NOT_SET) &#123; tempEnd = mySize - endPadding - endMargin; &#125; //æŒ‡å®šæœ€å¤§å¯æä¾›çš„å¤§å° final int maxAvailable = tempEnd - tempStart; if (childStart != VALUE_NOT_SET &amp;&amp; childEnd != VALUE_NOT_SET) &#123; //å¦‚æžœStartå’ŒEndéƒ½æ˜¯æœ‰æ•ˆå€¼ æ ¹æ®isUnspecifiedè®¾ç½®specModeä¸ºUNSPECIFIEDæˆ–EXACTLY //å¹¶å°†è®¾ç½®å¯¹åº”çš„size childSpecMode = isUnspecified ? MeasureSpec.UNSPECIFIED : MeasureSpec.EXACTLY; childSpecSize = Math.max(0, maxAvailable); &#125; else &#123; //åä¹‹ åˆ¤æ–­childSizeçš„ç›¸å…³å€¼ if (childSize &gt;= 0) &#123; //è®¾ç½®æ¨¡å¼ä¸ºEXACTLY //åˆ¤æ–­maxAvailableå’ŒchildSizeæƒ…å†µ å–è¾ƒå¤§å€¼è®¾ç½®ä¸ºchildSpecSize childSpecMode = MeasureSpec.EXACTLY; if (maxAvailable &gt;= 0) &#123; // We have a maximum size in this dimension. childSpecSize = Math.min(maxAvailable, childSize); &#125; else &#123; // We can grow in this dimension. childSpecSize = childSize; &#125; &#125; else if (childSize == LayoutParams.MATCH_PARENT) &#123; //å¦‚æžœå­Viewæ˜¯matchæ¨¡å¼ å‚ç…§isUnspecifiedè®¾ç½®ç›¸å…³ childSpecMode = isUnspecified ? MeasureSpec.UNSPECIFIED : MeasureSpec.EXACTLY; childSpecSize = Math.max(0, maxAvailable); &#125; else if (childSize == LayoutParams.WRAP_CONTENT) &#123; //åœ¨wrapè¿›è¡Œè®¾ç½® if (maxAvailable &gt;= 0) &#123; // We have a maximum size in this dimension. childSpecMode = MeasureSpec.AT_MOST; childSpecSize = maxAvailable; &#125; else &#123; // We can grow in this dimension. Child can be as big as it // wants. childSpecMode = MeasureSpec.UNSPECIFIED; childSpecSize = 0; &#125; &#125; &#125; return MeasureSpec.makeMeasureSpec(childSpecSize, childSpecMode); &#125; ä»¥ä¸Š å®Œæˆäº†Viewçš„ç¬¬ä¸€æ¬¡æµ‹é‡ ç¡®å®šäº†Viewçš„å¤§å° ç„¶åŽæ ¹æ®å¤§å°è§‰å¾—æŠŠå­viewæ”¾åœ¨çˆ¶RelativeLayoutä¸­çš„ä½ç½® 12345678910111213141516171819202122232425262728293031323334353637383940414243private boolean positionChildHorizontal(View child, LayoutParams params, int myWidth, boolean wrapContent) &#123; //èŽ·å–RelativeLayoutçš„å¸ƒå±€æ–¹å‘ final int layoutDirection = getLayoutDirection(); int[] rules = params.getRules(layoutDirection); if (params.mLeft == VALUE_NOT_SET &amp;&amp; params.mRight != VALUE_NOT_SET) &#123; // å¦‚æžœå³è¾¹ç•Œæœ‰æ•ˆ å·¦è¾¹ç•Œæ— æ•ˆ æ ¹æ®å³è¾¹ç•Œè®¡ç®—å‡ºå·¦è¾¹ç•Œ params.mLeft = params.mRight - child.getMeasuredWidth(); &#125; else if (params.mLeft != VALUE_NOT_SET &amp;&amp; params.mRight == VALUE_NOT_SET) &#123; // åŒä¸Šåä¹‹ params.mRight = params.mLeft + child.getMeasuredWidth(); &#125; else if (params.mLeft == VALUE_NOT_SET &amp;&amp; params.mRight == VALUE_NOT_SET) &#123; //éƒ½æ— æ•ˆçš„æ—¶å€™ if (rules[CENTER_IN_PARENT] != 0 || rules[CENTER_HORIZONTAL] != 0) &#123; //è®¾ç½®äº†CENTER_IN_PARENTæˆ–è€… CENTER_HORIZONTALçš„æƒ…å†µä¸‹ if (!wrapContent) &#123; //éžwrapæƒ…å†µä¸‹ //æŠŠå­Viewæ°´å¹³ä¸­å¿ƒå›ºå®šåœ¨RelativeLayoutçš„ä¸­å¿ƒ centerHorizontal(child, params, myWidth); &#125; else &#123; //å·¦è¾¹è·ä¸ºpadding+margin //å³è¾¹è·ä¸ºå·¦è¾¹è·åŠ ä¸Šæµ‹é‡å®½åº¦ params.mLeft = mPaddingLeft + params.leftMargin; params.mRight = params.mLeft + child.getMeasuredWidth(); &#125; return true; &#125; else &#123; //RTLå³åˆ°å·¦ å¸ƒå±€æ–¹å‘ //LTRå·¦åˆ°å³ å¸ƒå±€æ–¹å‘ if (isLayoutRtl()) &#123; params.mRight = myWidth - mPaddingRight- params.rightMargin; params.mLeft = params.mRight - child.getMeasuredWidth(); &#125; else &#123; params.mLeft = mPaddingLeft + params.leftMargin; params.mRight = params.mLeft + child.getMeasuredWidth(); &#125; &#125; &#125; return rules[ALIGN_PARENT_END] != 0; //å½“ä¸ºCENTER_IN_PARENT CENTER_HORIZONTAL ALIGN_PARENT_ENDä¸‰ç§æƒ…å†µä¹‹ä¸€æ—¶è¿”å›žTrue&#125; 4 éåŽ†ç«–ç›´å…³ç³»çš„View12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152... for (int i = 0; i &lt; count; i++) &#123; final View child = views[i]; if (child.getVisibility() != GONE) &#123; final LayoutParams params = (LayoutParams) child.getLayoutParams(); //å°†ç«–ç›´æ–¹å‘è§„åˆ™è½¬æ¢ä¸ºåæ ‡ applyVerticalSizeRules(params, myHeight, child.getBaseline()); //æµ‹é‡å­View measureChild(child, params, myWidth, myHeight); //ç¡®å®šç«–ç›´æ–¹å‘å­Viewçš„ä½ç½® if (positionChildVertical(child, params, myHeight, isWrapContentHeight)) &#123; offsetVerticalAxis = true; &#125; //é¦–å…ˆåˆ¤æ–­æ˜¯å¦ä¸ºwrapæ¨¡å¼ if (isWrapContentWidth) &#123; //æ ¹æ®RTLæˆ–è€…LTRå’Œç‰ˆæœ¬è¿›è¡ŒåŒºåˆ† //Build.VERSION_CODES.KITKAT = 19 //ä¸»è¦å¯¹marginè¿›è¡Œå¤„ç† if (isLayoutRtl()) &#123; if (targetSdkVersion &lt; Build.VERSION_CODES.KITKAT) &#123; width = Math.max(width, myWidth - params.mLeft); &#125; else &#123; width = Math.max(width, myWidth - params.mLeft - params.leftMargin); &#125; &#125; else &#123; if (targetSdkVersion &lt; Build.VERSION_CODES.KITKAT) &#123; width = Math.max(width, params.mRight); &#125; else &#123; width = Math.max(width, params.mRight + params.rightMargin); &#125; &#125; &#125; if (isWrapContentHeight) &#123; if (targetSdkVersion &lt; Build.VERSION_CODES.KITKAT) &#123; height = Math.max(height, params.mBottom); &#125; else &#123; height = Math.max(height, params.mBottom + params.bottomMargin); &#125; &#125; if (child != ignore || verticalGravity) &#123; left = Math.min(left, params.mLeft - params.leftMargin); top = Math.min(top, params.mTop - params.topMargin); &#125; if (child != ignore || horizontalGravity) &#123; right = Math.max(right, params.mRight + params.rightMargin); bottom = Math.max(bottom, params.mBottom + params.bottomMargin); &#125; &#125; &#125;... 5 baselineè®¡ç®—12345678910111213141516// Use the top-start-most laid out view as the baseline. RTL offsets are// applied later, so we can use the left-most edge as the starting edge. View baselineView = null; LayoutParams baselineParams = null; for (int i = 0; i &lt; count; i++) &#123; final View child = views[i]; if (child.getVisibility() != GONE) &#123; final LayoutParams childParams = (LayoutParams) child.getLayoutParams(); if (baselineView == null || baselineParams == null || compareLayoutPosition(childParams, baselineParams) &lt; 0) &#123; baselineView = child; baselineParams = childParams; &#125; &#125; &#125; mBaselineView = baselineView; 6 å®½åº¦å’Œé«˜åº¦ä¿®æ­£123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103//å¦‚ä½•æ˜¯wrapæ¨¡å¼if (isWrapContentWidth) &#123; width += mPaddingRight; if (mLayoutParams != null &amp;&amp; mLayoutParams.width &gt;= 0) &#123; width = Math.max(width, mLayoutParams.width); &#125; width = Math.max(width, getSuggestedMinimumWidth()); width = resolveSize(width, widthMeasureSpec); //åœ¨å¾—åˆ°æœ€åŽçš„widthä¹‹åŽ å¯¹ä¾èµ–RelativeLayoutçš„å­Viewæ·»ä¸Šåç§»é‡ if (offsetHorizontalAxis) &#123; for (int i = 0; i &lt; count; i++) &#123; final View child = views[i]; if (child.getVisibility() != GONE) &#123; final LayoutParams params = (LayoutParams) child.getLayoutParams(); final int[] rules = params.getRules(layoutDirection); //å¯¹CENTER_IN_PARENTæˆ–è€…CENTER_HORIZONTALçš„å­Viewé‡æµ‹ if (rules[CENTER_IN_PARENT] != 0 || rules[CENTER_HORIZONTAL] != 0) &#123; centerHorizontal(child, params, width); //å¯¹ALIGN_PARENT_RIGHTé‡æµ‹ &#125; else if (rules[ALIGN_PARENT_RIGHT] != 0) &#123; final int childWidth = child.getMeasuredWidth(); params.mLeft = width - mPaddingRight - childWidth; params.mRight = params.mLeft + childWidth; &#125; &#125; &#125; &#125; &#125; //åŒä¸Š if (isWrapContentHeight) &#123; height += mPaddingBottom; if (mLayoutParams != null &amp;&amp; mLayoutParams.height &gt;= 0) &#123; height = Math.max(height, mLayoutParams.height); &#125; height = Math.max(height, getSuggestedMinimumHeight()); height = resolveSize(height, heightMeasureSpec); if (offsetVerticalAxis) &#123; for (int i = 0; i &lt; count; i++) &#123; final View child = views[i]; if (child.getVisibility() != GONE) &#123; final LayoutParams params = (LayoutParams) child.getLayoutParams(); final int[] rules = params.getRules(layoutDirection); if (rules[CENTER_IN_PARENT] != 0 || rules[CENTER_VERTICAL] != 0) &#123; centerVertical(child, params, height); &#125; else if (rules[ALIGN_PARENT_BOTTOM] != 0) &#123; final int childHeight = child.getMeasuredHeight(); params.mTop = height - mPaddingBottom - childHeight; params.mBottom = params.mTop + childHeight; &#125; &#125; &#125; &#125; &#125; //æ ¹æ®gravityå†æ¬¡ä¿®æ­£ if (horizontalGravity || verticalGravity) &#123; final Rect selfBounds = mSelfBounds; selfBounds.set(mPaddingLeft, mPaddingTop, width - mPaddingRight, height - mPaddingBottom); final Rect contentBounds = mContentBounds; Gravity.apply(mGravity, right - left, bottom - top, selfBounds, contentBounds, layoutDirection); final int horizontalOffset = contentBounds.left - left; final int verticalOffset = contentBounds.top - top; if (horizontalOffset != 0 || verticalOffset != 0) &#123; for (int i = 0; i &lt; count; i++) &#123; final View child = views[i]; if (child.getVisibility() != GONE &amp;&amp; child != ignore) &#123; final LayoutParams params = (LayoutParams) child.getLayoutParams(); if (horizontalGravity) &#123; params.mLeft += horizontalOffset; params.mRight += horizontalOffset; &#125; if (verticalGravity) &#123; params.mTop += verticalOffset; params.mBottom += verticalOffset; &#125; &#125; &#125; &#125; &#125; //å¦‚æžœæ˜¯RTL(å³åˆ°å·¦æ˜¾ç¤º)åˆ™å†æ¬¡ä¿®æ”¹ if (isLayoutRtl()) &#123; final int offsetWidth = myWidth - width; for (int i = 0; i &lt; count; i++) &#123; final View child = views[i]; if (child.getVisibility() != GONE) &#123; final LayoutParams params = (LayoutParams) child.getLayoutParams(); params.mLeft -= offsetWidth; params.mRight -= offsetWidth; &#125; &#125; &#125; ç®€å•æ€»ç»“RelativeLayoutæ›´åŠ å…³æ³¨å­Viewçš„left right top bottomå€¼ å¹¶ä¸”ä¼˜å…ˆçº§é«˜äºŽwidthå’Œheight RelativeLayoutçš„layoutè¿‡ç¨‹å¯¹äºŽRelativeLayoutæ¥çš„ layoutè¿‡ç¨‹æ›´å¤šçš„æ ¹æ®å­Viewçš„left right top bottomå€¼æ¥è®¾å®šä½ç½®1234567891011121314protected void onLayout(boolean changed, int l, int t, int r, int b) &#123; // The layout has actually already been performed and the positions // cached. Apply the cached values to the children. final int count = getChildCount(); for (int i = 0; i &lt; count; i++) &#123; View child = getChildAt(i); if (child.getVisibility() != GONE) &#123; RelativeLayout.LayoutParams st = (RelativeLayout.LayoutParams) child.getLayoutParams(); child.layout(st.mLeft, st.mTop, st.mRight, st.mBottom); &#125; &#125;&#125; RelativeLayoutçš„drawè¿‡ç¨‹RelativeLayoutä½œä¸ºViewGroupçš„å­ç±» å› ä¸ºå…¶æ€§è´¨åŽŸå›  æ²¡æœ‰å¯¹drawè¿‡ç¨‹è¿›è¡Œä¿®æ”¹ ä»¥ä¸Š]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Android View ç›¸å…³æºç åˆ†æžä¹‹å›› LinearLayoutæºç åˆ†æž]]></title>
      <url>%2F2017%2F02%2F03%2FLinearLayout%20%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%2F</url>
      <content type="text"><![CDATA[LinearLayout æºç åˆ†æžmeasureè¿‡ç¨‹ä¸»è¦è¿‡ç¨‹ æ ¹æ®å¸ƒå±€æ–¹å‘é€‰æ‹©measureè¿‡ç¨‹åˆ†æ”¯ åˆå§‹åŒ–ç›¸å…³å˜é‡ å¯¹Viewè¿›è¡Œç¬¬ä¸€æ¬¡æµ‹é‡ mTotalLengthçš„å†æ¬¡æµ‹é‡ äºŒæ¬¡æµ‹é‡éƒ¨åˆ†Viewå’Œå¯¹ä¸ºæµ‹é‡çš„å­Viewè¿›è¡Œæµ‹é‡ 12345678protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) &#123; //åˆ¤æ–­å¸ƒå±€æ–¹å‘ if (mOrientation == VERTICAL) &#123; measureVertical(widthMeasureSpec, heightMeasureSpec); &#125; else &#123; measureHorizontal(widthMeasureSpec, heightMeasureSpec); &#125;&#125; measureVerticalå’ŒmeasureHorizontalåªæ˜¯å¸ƒå±€æ–¹å‘ä¸Šçš„åŒºåˆ« ä»¥ä¸‹ä¸»è¦åˆ†æžmeasureVerticalæ–¹æ³• åˆå§‹åŒ–ç›¸å…³å˜é‡1234567891011121314151617181920212223242526//mTotalLengthæ˜¯è®°å½•å†…éƒ¨ä½¿ç”¨çš„é«˜åº¦ä¹Ÿå°±æ˜¯å­Viewçš„é«˜åº¦å’Œ è€Œä¸æ˜¯LinearLayoutçš„é«˜åº¦mTotalLength = 0;//å­è§†å›¾çš„æœ€å¤§å®½åº¦(ä¸åŒ…æ‹¬layout_weight&gt;0çš„å­View)int maxWidth = 0;int childState = 0;int alternativeMaxWidth = 0;//å­è§†å›¾çš„æœ€å¤§å®½åº¦(ä»…åŒ…å«layout_weight&gt;0çš„å­View)int weightedMaxWidth = 0;//å­è§†å›¾æ˜¯å¦å‡ä¸ºfillParent ç”¨äºŽåˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°è®¡ç®—boolean allFillParent = true;//æƒé‡å€¼çš„æ€»å’Œfloat totalWeight = 0;//å­Viewçš„æ•°é‡(ç»Ÿä¸€çº§åˆ«ä¸‹)final int count = getVirtualChildCount();//é«˜åº¦å®½åº¦æ¨¡å¼final int widthMode = MeasureSpec.getMode(widthMeasureSpec);final int heightMode = MeasureSpec.getMode(heightMeasureSpec);//å­Viewçš„å®½åº¦æ˜¯å¦éœ€è¦ç”±çˆ¶Viewå†³å®šboolean matchWidth = false;boolean skippedMeasure = false;//ç¬¬å‡ ä¸ªå­Viewçš„baseLineä½œä¸ºLinearLayoutçš„åŸºå‡†çº¿final int baselineChildIndex = mBaselineAlignedChildIndex; //mUseLargestChildä¸ºæ˜¯å¦ä½¿ç”¨æœ€å¤§å­å…ƒç´ çš„å°ºå¯¸ä½œä¸ºæ ‡å‡†å†æ¬¡æµ‹é‡final boolean useLargestChild = mUseLargestChild;//å­Viewä¸­æœ€é«˜é«˜åº¦int largestChildHeight = Integer.MIN_VALUE; ç¬¬ä¸€æ¬¡æµ‹é‡123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112// See how tall everyone is. Also remember max width.for (int i = 0; i &lt; count; ++i) &#123; final View child = getVirtualChildAt(i); // æµ‹é‡ä¸ºnullçš„å­è§†å›¾çš„é«˜åº¦ // measureNullChild() æš‚æ—¶è¿”å›ž 0 ä¾¿äºŽæ‰©å±• if (child == null) &#123; mTotalLength += measureNullChild(i); continue; &#125; //Visibilityä¸ºGoneçš„æ—¶å€™è·³è¿‡è¯¥View // getChildrenSkipCount()æ–¹æ³•åŒæ ·è¿”å›ž0 ä¾¿äºŽæ‰©å±• if (child.getVisibility() == View.GONE) &#123; i += getChildrenSkipCount(child, i); continue; &#125; //æ ¹æ®showDividerçš„å€¼(é€šè¿‡hasDividerBeforeChildAt()) æ¥å†³å®šå½“å‰å­Viewæ˜¯å¦éœ€è¦æ·»åŠ åˆ†å‰²çº¿çš„é«˜åº¦ if (hasDividerBeforeChildAt(i)) &#123; mTotalLength += mDividerHeight; &#125; //ä¼šå°†å­viewçš„LayoutParamså¼ºè½¬ä¸ºçˆ¶Viewçš„LayoutParamsç±»åž‹ LinearLayout.LayoutParams lp = (LinearLayout.LayoutParams)child.getLayoutParams(); totalWeight += lp.weight; if (heightMode == MeasureSpec.EXACTLY &amp;&amp; lp.height == 0 &amp;&amp; lp.weight &gt; 0) &#123; // æ»¡è¶³è¯¥æ¡ä»¶çš„è¯ ä¸éœ€è¦çŽ°åœ¨è®¡ç®—è¯¥å­è§†å›¾çš„é«˜åº¦ æµ‹é‡å·¥ä½œä¼šåœ¨ä¹‹åŽè¿›è¡Œ // è‹¥å­Viewçš„height=0 ä¸”weight&gt; 0 åˆ™è¯´æ˜Žè¯¥Viewå¸Œæœ›ä½¿ç”¨çš„æ˜¯LinearLayoutçš„å‰©ä½™ç©ºé—´ // LinearLayoutæ˜¯EXACTLYæ¨¡å¼çš„è¯´æ˜ŽLinearLayouté«˜åº¦å·²ç»ç¡®å®š ä¸éœ€è¦ä¾èµ–å­Viewçš„æµ‹é‡ç»“æžœæ¥è®¡ç®—è‡ªå·± å°±æ— éœ€æµ‹é‡è¯¥å­View final int totalLength = mTotalLength; mTotalLength = Math.max(totalLength, totalLength + lp.topMargin + lp.bottomMargin); skippedMeasure = true; &#125; else &#123; //æµ‹é‡å­View int oldHeight = Integer.MIN_VALUE; //å½“å‰Viewçš„height=0 ä¸”weight&gt; 0 åˆ™è¯´æ˜Žè¯¥LinearLayoutçš„é«˜åº¦éœ€è¦é å­Viewæµ‹é‡(ä¸éœ€è¦çš„åœ¨ä¸Šé¢åˆ†æ”¯å¤„ç†äº†) //å°†å­Viewçš„é«˜åº¦è®¾ä¸º-1 é˜²æ­¢å­Viewé«˜åº¦ä¸º0 if (lp.height == 0 &amp;&amp; lp.weight &gt; 0) &#123; oldHeight = 0; lp.height = LayoutParams.WRAP_CONTENT; &#125; //è°ƒç”¨å­Viewçš„measureChildWithMargins() å¯¹å­Viewè¿›è¡Œæµ‹é‡ //ç¬¬å››ä¸ªå‚æ•°è¡¨ç¤ºå½“å‰å·²ä½¿ç”¨çš„å®½åº¦ å› ä¸ºæ˜¯ç«–ç›´æ¨¡å¼ æ‰€ä»¥ä¸º0 //æœ€åŽä¸€ä¸ªå‚æ•°è¡¨ç¤ºå·²ä½¿ç”¨çš„é«˜åº¦ å¦‚æžœä¹‹å‰çš„å­Viewæˆ–è€…å½“å‰çš„Viewæœ‰weightå±žæ€§ åˆ™å½“å‰å­è§†å›¾ä½¿ç”¨ LinearLayout çš„æ‰€æœ‰é«˜åº¦ å·²ä½¿ç”¨çš„é«˜åº¦ä¸º0 measureChildBeforeLayout(child, i, widthMeasureSpec, 0, heightMeasureSpec, totalWeight == 0 ? mTotalLength : 0); if (oldHeight != Integer.MIN_VALUE) &#123; //æµ‹é‡å®ŒæˆåŽ é‡ç½®å­Viewé«˜åº¦ lp.height = oldHeight; &#125; final int childHeight = child.getMeasuredHeight(); final int totalLength = mTotalLength; // æ¯”è¾ƒchildæµ‹é‡å‰åŽæ€»é«˜åº¦ å–è¾ƒå¤§å€¼ ///getNextLocationOffset() è¿”å›ž0 ä¾¿äºŽæ‰©å±• mTotalLength = Math.max(totalLength, totalLength + childHeight + lp.topMargin + lp.bottomMargin + getNextLocationOffset(child)); // è®¾ç½®æœ€é«˜å­è§†å›¾å¤§å° if (useLargestChild) &#123; largestChildHeight = Math.max(childHeight, largestChildHeight); &#125; &#125; // mBaselineChildTop è¡¨ç¤ºæŒ‡å®šçš„ baseline çš„å­è§†å›¾çš„é¡¶éƒ¨é«˜åº¦ if ((baselineChildIndex &gt;= 0) &amp;&amp; (baselineChildIndex == i + 1)) &#123; mBaselineChildTop = mTotalLength; &#125; // è®¾ç½®ä¸º baseline çš„å­è§†å›¾çš„å‰é¢ä¸å…è®¸è®¾ç½® weiget å±žæ€§ if (i &lt; baselineChildIndex &amp;&amp; lp.weight &gt; 0) &#123; throw new RuntimeException("A child of LinearLayout with index " + "less than mBaselineAlignedChildIndex has weight &gt; 0, which " + "won't work. Either remove the weight, or don't set " + "mBaselineAlignedChildIndex."); &#125; // å®½åº¦æµ‹é‡ç›¸å…³ boolean matchWidthLocally = false; //å½“LinearLayoutéžEXACTLYæ¨¡å¼ å¹¶ä¸”è‡ªViewä¸ºMATCH_PARENTæ—¶ //è®¾ç½®matchWidthå’ŒmatchWidthLocallyä¸ºtrue //è¯¥å­Viewå æ®LinearLayoutæ°´å¹³æ–¹å‘ä¸Šæ‰€æœ‰ç©ºé—´ if (widthMode != MeasureSpec.EXACTLY &amp;&amp; lp.width == LayoutParams.MATCH_PARENT) &#123; matchWidth = true; matchWidthLocally = true; &#125; final int margin = lp.leftMargin + lp.rightMargin; final int measuredWidth = child.getMeasuredWidth() + margin; //å¯¹ä¸€å †å˜é‡èµ‹å€¼ maxWidth = Math.max(maxWidth, measuredWidth); childState = combineMeasuredStates(childState, child.getMeasuredState()); allFillParent = allFillParent &amp;&amp; lp.width == LayoutParams.MATCH_PARENT; if (lp.weight &gt; 0) &#123; weightedMaxWidth = Math.max(weightedMaxWidth, matchWidthLocally ? margin : measuredWidth); &#125; else &#123; alternativeMaxWidth = Math.max(alternativeMaxWidth, matchWidthLocally ? margin : measuredWidth); &#125; i += getChildrenSkipCount(child, i);&#125; äºŒæ¬¡æµ‹é‡mTotalLength1234567891011121314151617181920212223242526//æ ¹æ®hasDividerBeforeChildAtå¾—åˆ°showDividerçš„å€¼æ˜¯å¦ä¸ºend æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦åŠ ä¸Šdividerçš„é«˜åº¦if (mTotalLength &gt; 0 &amp;&amp; hasDividerBeforeChildAt(count)) mTotalLength += mDividerHeight;&#125;//å¦‚æžœé«˜åº¦æµ‹é‡æ¨¡å¼ä¸ºAT_MOSTæˆ–è€…UNSPECIFIED åˆ™è¿›è¡ŒäºŒæ¬¡æµ‹é‡ ä¸”è®¾ç½®äº†measureWithLargestChildif (useLargestChild &amp;&amp; (heightMode == MeasureSpec.AT_MOST || heightMode == MeasureSpec.UNSPECIFIED)) &#123; mTotalLength = 0; for (int i = 0; i &lt; count; ++i) &#123; final View child = getVirtualChildAt(i); if (child == null) &#123; mTotalLength += measureNullChild(i); continue; &#125; if (child.getVisibility() == GONE) &#123; i += getChildrenSkipCount(child, i); continue; &#125; final LinearLayout.LayoutParams lp = (LinearLayout.LayoutParams) child.getLayoutParams(); // è®¡ç®—æ‰€æœ‰å­Viewçš„é«˜åº¦ä¹‹å’Œ final int totalLength = mTotalLength; mTotalLength = Math.max(totalLength, totalLength + largestChildHeight + lp.topMargin + lp.bottomMargin + getNextLocationOffset(child)); &#125;&#125; å°±æ˜¯éœ€è¦useLargestChild è€Œ mUseLargestChild = a.getBoolean(R.styleable.LinearLayout_measureWithLargestChild, false); å°±æ˜¯è¯´ä»…åœ¨LinearLayoutçš„measureWithLargestChildå±žæ€§è®¾ç½®ä¸ºTrueæ—¶(é»˜è®¤ä¸ºfalse)æ‰å¯èƒ½å‡ºçŽ°æŸä¸ªchildè¢«äºŒæ¬¡æµ‹é‡ å®žä¾‹å¦‚ä¸‹ äºŒæ¬¡æµ‹é‡éƒ¨åˆ†Viewå’Œå¯¹ä¸ºæµ‹é‡çš„å­Viewè¿›è¡Œæµ‹é‡123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145//åŠ ä¸Špaddingçš„å€¼mTotalLength += mPaddingTop + mPaddingBottom;int heightSize = mTotalLength;//minHeightå’Œå½“å‰ä½¿ç”¨çš„é«˜åº¦æ¯”è¾ƒå–è¾ƒå¤§å€¼heightSize = Math.max(heightSize, getSuggestedMinimumHeight());//æ ¹æ®heightMeasureSpecååŠ©è®¡ç®—heightSizeAndStateçš„å¤§å°//resolveSizeAndStateæ–¹æ³•ä¹‹åŽä¼šåˆ†æžint heightSizeAndState = resolveSizeAndState(heightSize, heightMeasureSpec, 0);heightSize = heightSizeAndState &amp; MEASURED_SIZE_MASK;// Either expand children with weight to take up available space or// shrink them if they extend beyond our current bounds. If we skipped// measurement on any children, we need to measure them now.//deltaä¸ºé¢å¤–çš„ç©ºé—´ åŠLinearLayoutä¸­æœªè¢«åˆ†é…çš„ç©ºé—´(å¯ä»¥ä¸ºè´Ÿ)int delta = heightSize - mTotalLength;if (skippedMeasure || delta != 0 &amp;&amp; totalWeight &gt; 0.0f) &#123; //skippedMeasureä¸ºç¬¬ä¸€æ¬¡æµ‹é‡ä¸‹å¯¹è·³è¿‡æµ‹é‡çš„å­Viewè®¾ç½®çš„ //weightSumä¸ºæƒé‡å’Œ å¦‚æžœè®¾ç½®äº†æ€»æƒé‡åˆ™ä½¿ç”¨æˆ‘ä»¬æ‰€è®¾ç½®çš„ å¦‚æžœæ²¡æœ‰åˆ™ä½¿ç”¨å­Viewçš„weightå’Œ float weightSum = mWeightSum &gt; 0.0f ? mWeightSum : totalWeight; mTotalLength = 0; //æµ‹é‡ä»€ä¹ˆçš„ for (int i = 0; i &lt; count; ++i) &#123; final View child = getVirtualChildAt(i); if (child.getVisibility() == View.GONE) &#123; continue; &#125; LinearLayout.LayoutParams lp = (LinearLayout.LayoutParams) child.getLayoutParams(); float childExtra = lp.weight; if (childExtra &gt; 0) &#123; // Child said it could absorb extra space -- give him his share //è®¡ç®—weightå±žæ€§åˆ†é…çš„å¤§å° int share = (int) (childExtra * delta / weightSum); //æƒé‡å’Œå‡åŽ»å·²ç»åˆ†é…æƒé‡ weightSum -= childExtra; //å‰©ä½™é«˜åº¦å‡åŽ»åˆ†é…çš„é«˜åº¦ delta -= share; final int childWidthMeasureSpec = getChildMeasureSpec(widthMeasureSpec, mPaddingLeft + mPaddingRight + lp.leftMargin + lp.rightMargin, lp.width); // TODO: Use a field like lp.isMeasured to figure out if this // child has been previously measured if ((lp.height != 0) || (heightMode != MeasureSpec.EXACTLY)) &#123; //å­è§†å›¾å·²ç»è¢«æµ‹é‡è¿‡ //éžEXACTLY viewéœ€è¦åŠ ä¸Šshare int childHeight = child.getMeasuredHeight() + share; if (childHeight &lt; 0) &#123; childHeight = 0; &#125; //é‡æ–°æµ‹é‡View child.measure(childWidthMeasureSpec, MeasureSpec.makeMeasureSpec(childHeight, MeasureSpec.EXACTLY)); &#125; else &#123; //å¦‚æžœå½“å‰æ˜¯EXACTLYæ¨¡å¼ è¯´æ˜Žæ²¡æœ‰è¢«æµ‹é‡ éœ€è¦è¿›è¡Œæµ‹é‡ //å­è§†å›¾é¦–æ¬¡è¢«æµ‹é‡ //EXACTLYæ¨¡å¼ä¸‹ å°†weightå æ¯”çš„é«˜åº¦åˆ†é…ç»™å­View child.measure(childWidthMeasureSpec, MeasureSpec.makeMeasureSpec(share &gt; 0 ? share : 0, MeasureSpec.EXACTLY)); &#125; // Child may now not fit in vertical dimension. childState = combineMeasuredStates(childState, child.getMeasuredState() &amp; (MEASURED_STATE_MASK&gt;&gt;MEASURED_HEIGHT_STATE_SHIFT)); &#125; //å¤„ç†å­è§†å›¾å®½åº¦ final int margin = lp.leftMargin + lp.rightMargin; final int measuredWidth = child.getMeasuredWidth() + margin; maxWidth = Math.max(maxWidth, measuredWidth); boolean matchWidthLocally = widthMode != MeasureSpec.EXACTLY &amp;&amp; lp.width == LayoutParams.MATCH_PARENT; alternativeMaxWidth = Math.max(alternativeMaxWidth, matchWidthLocally ? margin : measuredWidth); allFillParent = allFillParent &amp;&amp; lp.width == LayoutParams.MATCH_PARENT; final int totalLength = mTotalLength; mTotalLength = Math.max(totalLength, totalLength + child.getMeasuredHeight() + lp.topMargin + lp.bottomMargin + getNextLocationOffset(child)); &#125; // Add in our padding mTotalLength += mPaddingTop + mPaddingBottom; // TODO: Should we recompute the heightSpec based on the new total length?&#125; else &#123; alternativeMaxWidth = Math.max(alternativeMaxWidth, weightedMaxWidth); // We have no limit, so make all weighted views as tall as the largest child. // Children will have already been measured once. if (useLargestChild &amp;&amp; heightMode != MeasureSpec.EXACTLY) &#123; for (int i = 0; i &lt; count; i++) &#123; final View child = getVirtualChildAt(i); if (child == null || child.getVisibility() == View.GONE) &#123; continue; &#125; final LinearLayout.LayoutParams lp = (LinearLayout.LayoutParams) child.getLayoutParams(); float childExtra = lp.weight; if (childExtra &gt; 0) &#123; //ä½¿ç”¨æœ€å¤§å­è§†å›¾é«˜åº¦æµ‹é‡ child.measure( MeasureSpec.makeMeasureSpec(child.getMeasuredWidth(), MeasureSpec.EXACTLY), MeasureSpec.makeMeasureSpec(largestChildHeight, MeasureSpec.EXACTLY)); &#125; &#125; &#125;&#125;if (!allFillParent &amp;&amp; widthMode != MeasureSpec.EXACTLY) &#123; maxWidth = alternativeMaxWidth;&#125;maxWidth += mPaddingLeft + mPaddingRight;// Check against our minimum widthmaxWidth = Math.max(maxWidth, getSuggestedMinimumWidth());setMeasuredDimension(resolveSizeAndState(maxWidth, widthMeasureSpec, childState), heightSizeAndState);if (matchWidth) &#123; forceUniformWidth(count, heightMeasureSpec);&#125; resolveSizeAndStateæ–¹æ³• å®šä¹‰åœ¨Viewä¸­12345678910111213141516171819202122232425262728293031323334353637/** * Utility to reconcile a desired size and state, with constraints imposed * by a MeasureSpec. Will take the desired size, unless a different size * is imposed by the constraints. The returned value is a compound integer, * with the resolved size in the &#123;@link #MEASURED_SIZE_MASK&#125; bits and * optionally the bit &#123;@link #MEASURED_STATE_TOO_SMALL&#125; set if the * resulting size is smaller than the size the view wants to be. * * @param size How big the view wants to be. * @param measureSpec Constraints imposed by the parent. * @param childMeasuredState Size information bit mask for the view's * children. * @return Size information bit mask as defined by * &#123;@link #MEASURED_SIZE_MASK&#125; and * &#123;@link #MEASURED_STATE_TOO_SMALL&#125;. */ public static int resolveSizeAndState(int size, int measureSpec, int childMeasuredState) &#123; final int specMode = MeasureSpec.getMode(measureSpec); final int specSize = MeasureSpec.getSize(measureSpec); final int result; switch (specMode) &#123; case MeasureSpec.AT_MOST: if (specSize &lt; size) &#123; result = specSize | MEASURED_STATE_TOO_SMALL; &#125; else &#123; result = size; &#125; break; case MeasureSpec.EXACTLY: result = specSize; break; case MeasureSpec.UNSPECIFIED: default: result = size; &#125; return result | (childMeasuredState &amp; MEASURED_STATE_MASK); &#125; deltaä¸ºè´Ÿçš„ç›¸å…³è§£æžç›¸å…³ä»£ç åŠæ•ˆæžœå¦‚ä¸‹ æ ¹æ®ä¹‹å‰çš„measureæµç¨‹åˆ†æžä¸€ä¸‹ ç›¸å…³å˜é‡åˆå§‹åŒ– ç¬¬ä¸€æ¬¡æµ‹é‡ ä¸¤ä¸ªå­TextViewéƒ½ä¼šè¢«æµ‹é‡ TextView1.height = TextView1.height = 500dp åˆ™mToatalLengthä¸º1000dp mToatalLengthå†æ¬¡æµ‹é‡è·³è¿‡ è®¡ç®—delta delta = heightSize - mTotalLength æ ¹æ®resolveSizeAndStateæ–¹æ³• çˆ¶LinearLayoutæ˜¯EXACTLYæ¨¡å¼ æ‰€ä»¥æœ€ç»ˆheightSizeä¸º500dp delta = -500dp æ ¹æ®weightåˆ†é…å‰©ä½™ç©ºé—´ TextView1.height = 500 + 1 / 5 (- 500) = 400 dpTextView2.height = 500 + 4 / 5 (- 500) = 100 dp layoutè¿‡ç¨‹1234567protected void onLayout(boolean changed, int l, int t, int r, int b) &#123; if (mOrientation == VERTICAL) &#123; layoutVertical(l, t, r, b); &#125; else &#123; layoutHorizontal(l, t, r, b); &#125;&#125; æˆ‘ä»¬å¯ä»¥çœ‹å‡º åŒæ ·æ˜¯åˆ†æˆæ°´å¹³å’Œç«–ç›´ä¸¤ä¸ªæ–¹å‘çš„ åŒæ ·åˆ†æžç«–ç›´ æ–¹å‘ä¸‹çš„layoutè¿‡ç¨‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100/** * Position the children during a layout pass if the orientation of this * LinearLayout is set to &#123;@link #VERTICAL&#125;. * * @see #getOrientation() * @see #setOrientation(int) * @see #onLayout(boolean, int, int, int, int) * @param left * @param top * @param right * @param bottom */ void layoutVertical(int left, int top, int right, int bottom) &#123; final int paddingLeft = mPaddingLeft; int childTop; int childLeft; //çˆ¶Viewé»˜è®¤å­Viewçš„å®½åº¦ final int width = right - left; //å­Viewçš„å³ä¾§é»˜è®¤ä½ç½® int childRight = width - mPaddingRight; // å­Viewçš„å¯ç”¨ç©ºé—´å¤§å° int childSpace = width - paddingLeft - mPaddingRight; //å­Viewçš„ä¸ªæ•° final int count = getVirtualChildCount(); final int majorGravity = mGravity &amp; Gravity.VERTICAL_GRAVITY_MASK; final int minorGravity = mGravity &amp; Gravity.RELATIVE_HORIZONTAL_GRAVITY_MASK; //æ ¹æ®LinearLayoutè®¾ç½®çš„å¯¹å…¶æ–¹å¼ è®¾ç½®ç¬¬ä¸€ä¸ªå­Viewçš„Topå€¼ switch (majorGravity) &#123; case Gravity.BOTTOM: // mTotalLength contains the padding already childTop = mPaddingTop + bottom - top - mTotalLength; break; // mTotalLength contains the padding already case Gravity.CENTER_VERTICAL: childTop = mPaddingTop + (bottom - top - mTotalLength) / 2; break; case Gravity.TOP: default: childTop = mPaddingTop; break; &#125; //éåŽ†å„ä¸ªå­View for (int i = 0; i &lt; count; i++) &#123; final View child = getVirtualChildAt(i); if (child == null) &#123; childTop += measureNullChild(i); &#125; else if (child.getVisibility() != GONE) &#123; //LinearLayoutä¸­å­Viewçš„å®½å’Œé«˜æœ‰measureè¿‡ç¨‹å†³å®š final int childWidth = child.getMeasuredWidth(); final int childHeight = child.getMeasuredHeight(); //èŽ·å–å­Viewçš„LayoutParams final LinearLayout.LayoutParams lp = (LinearLayout.LayoutParams) child.getLayoutParams(); int gravity = lp.gravity; if (gravity &lt; 0) &#123; gravity = minorGravity; &#125; final int layoutDirection = getLayoutDirection(); final int absoluteGravity = Gravity.getAbsoluteGravity(gravity, layoutDirection); //æ ¹æ®å­Viewçš„å¯¹å…¶æ–¹å¼è®¾ç½®Leftå€¼ switch (absoluteGravity &amp; Gravity.HORIZONTAL_GRAVITY_MASK) &#123; case Gravity.CENTER_HORIZONTAL: childLeft = paddingLeft + ((childSpace - childWidth) / 2) + lp.leftMargin - lp.rightMargin; break; case Gravity.RIGHT: childLeft = childRight - childWidth - lp.rightMargin; break; case Gravity.LEFT: default: childLeft = paddingLeft + lp.leftMargin; break; &#125; //å¦‚æžœæœ‰åˆ†å‰²çº¿ æ·»åŠ åˆ†å‰²çº¿çš„é«˜åº¦ if (hasDividerBeforeChildAt(i)) &#123; childTop += mDividerHeight; &#125; //å­Viewçš„topä¿®æ”¹ childTop += lp.topMargin; //ç”¨setChildFrame()æ–¹æ³•è®¾ç½®å­æŽ§ä»¶æŽ§ä»¶çš„åœ¨çˆ¶æŽ§ä»¶ä¸Šçš„åæ ‡è½´ setChildFrame(child, childLeft, childTop + getLocationOffset(child), childWidth, childHeight); childTop += childHeight + lp.bottomMargin + getNextLocationOffset(child); i += getChildrenSkipCount(child, i); &#125; &#125; &#125; draw æºç åˆ†æž1234567891011protected void onDraw(Canvas canvas) &#123; if (mDivider == null) &#123; return; &#125; if (mOrientation == VERTICAL) &#123; drawDividersVertical(canvas); &#125; else &#123; drawDividersHorizontal(canvas); &#125;&#125; åŒæ ·ä¸»è¦åˆ†æžåž‚ç›´æ–¹å‘çš„å¤„ç† 12345678910111213141516171819202122232425262728293031323334void drawDividersVertical(Canvas canvas) &#123; final int count = getVirtualChildCount(); //æ ¹æ®è®¡ç®—å¥½çš„åæ ‡ç»˜åˆ¶å¯¹åº”çš„å­View for (int i = 0; i &lt; count; i++) &#123; final View child = getVirtualChildAt(i); if (child != null &amp;&amp; child.getVisibility() != GONE) &#123; if (hasDividerBeforeChildAt(i)) &#123; final LayoutParams lp = (LayoutParams) child.getLayoutParams(); final int top = child.getTop() - lp.topMargin - mDividerHeight; drawHorizontalDivider(canvas, top); &#125; &#125; &#125; //ç»˜åˆ¶åˆ†å‰²çº¿ if (hasDividerBeforeChildAt(count)) &#123; final View child = getLastNonGoneChild(); int bottom = 0; if (child == null) &#123; bottom = getHeight() - getPaddingBottom() - mDividerHeight; &#125; else &#123; final LayoutParams lp = (LayoutParams) child.getLayoutParams(); bottom = child.getBottom() + lp.bottomMargin; &#125; drawHorizontalDivider(canvas, bottom); &#125;&#125;void drawHorizontalDivider(Canvas canvas, int top) &#123; mDivider.setBounds(getPaddingLeft() + mDividerPadding, top, getWidth() - getPaddingRight() - mDividerPadding, top + mDividerHeight); mDivider.draw(canvas);&#125;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Android View ç›¸å…³æºç åˆ†æžä¹‹ä¸‰ Viewçš„ç»˜åˆ¶è¿‡ç¨‹]]></title>
      <url>%2F2017%2F02%2F03%2FView%20%E7%BB%98%E5%88%B6%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%2F</url>
      <content type="text"><![CDATA[Android View Android Viewæ¡†æž¶ç›¸å…³ Viewçš„æµ‹é‡ å¸ƒå±€ ç»˜åˆ¶è¿‡ç¨‹LinearLayout RelativeLayoutå®žçŽ°æºç åˆ†æž Viewçš„æµ‹é‡ å¸ƒå±€ ç»˜åˆ¶è¿‡ç¨‹æµ‹é‡ä¹‹å‰çš„äº‹æƒ…Viewçš„æ•´ä¸ªç»˜åˆ¶æµç¨‹æ˜¯å¼€å§‹äºŽViewRootImplç±»çš„performTraversalsæ–¹æ³•(1kè¡Œ) æ ¹æ®ç›¸å…³è®¾ç½®æ¥è§‰å¾—ååˆ†è¦é‡æ–°æ‰§è¡Œç›¸å…³åŠŸèƒ½1234567891011121314151617private void performTraversals() &#123; // cache mView since it is used so much below... final View host = mView; ... int childWidthMeasureSpec = getRootMeasureSpec(mWidth, lp.width); int childHeightMeasureSpec = getRootMeasureSpec(mHeight, lp.height); ... //measure mView.measure(childWidthMeasureSpec, childHeightMeasureSpec); ... //layout mView.layout(0, 0, mView.getMeasuredWidth(), mView.getMeasuredHeight()); ... //draw mView.draw(canvas); ...&#125; 123456789101112private static int getRootMeasureSpec(int windowSize, int rootDimension) &#123; int measureSpec; switch (rootDimension) &#123; case ViewGroup.LayoutParams.MATCH_PARENT: // Window can't resize. Force root view to be windowSize. measureSpec = MeasureSpec.makeMeasureSpec(windowSize, MeasureSpec.EXACTLY); break; ... &#125; return measureSpec; &#125; View ç»˜åˆ¶æ•´ä½“æµç¨‹å›¾å¦‚ä¸‹ measureæºç åˆ†æžç»“è®º: measureçš„è¿‡ç¨‹å°±æ˜¯çˆ¶Viewå‘å­Viewé€’å½’è°ƒç”¨view.measureæ–¹æ³• (measureä¸­å›žè°ƒonMeasureæ–¹æ³•)çš„è¿‡ç¨‹ measureæ–¹æ³•æ˜¯ finalçš„ åªèƒ½é‡è½½onMeasureæ–¹æ³• æœ€é¡¶å±‚çš„DocerViewçš„MeasureSpecç”±ViewRootImplçš„getRootMeasureSpecæ–¹æ³•æä¾› LayoutParamsçš„å‚æ•°ä¸ºMATCH_PARENT specModeæ˜¯EXACTLYï¼ŒspecSizeä¸ºç‰©ç†å±å¹•å¤§å° åªè¦æ˜¯ViewGroupçš„å­ç±»å°±å¿…é¡»è¦æ±‚LayoutParamsç»§æ‰¿å­MarginLayoutParams å¦åˆ™æ— æ³•ä½¿ç”¨layout_marginå‚æ•° Viewçš„getMeasuredWidth()å’ŒgetMeasuredHeight()æ–¹æ³•æ¥èŽ·å–Viewæµ‹é‡çš„å®½é«˜ï¼Œè¦å¿…é¡»ä¿è¯è¿™ä¸¤ä¸ªæ–¹æ³•åœ¨onMeasureæµç¨‹ä¹‹åŽè¢«è°ƒç”¨æ‰èƒ½è¿”å›žæœ‰æ•ˆå€¼ã€‚ 12345678910111213141516171819202122232425/** * &lt;p&gt; * This is called to find out how big a view should be. The parent supplies constraint information in the width and height parameters. * &lt;/p&gt; * * &lt;p&gt; * The actual measurement work of a view is performed in * &#123;@link #onMeasure(int, int)&#125;, called by this method. Therefore, only * &#123;@link #onMeasure(int, int)&#125; can and must be overridden by subclasses. * &lt;/p&gt; * * * @param widthMeasureSpec Horizontal space requirements as imposed by the * parent * @param heightMeasureSpec Vertical space requirements as imposed by the * parent * * @see #onMeasure(int, int) */ //æ²¡èˆå¾—åˆ è¿™äº›æ³¨é‡Š æ„Ÿè§‰é‡è¦çš„äº‹æƒ…éƒ½è¯´äº† ä¸ºäº†è®¡ç®—æ•´ä¸ªViewæ ‘çš„å®žé™…å¤§å° è®¾ç½®å®žé™…çš„é«˜å’Œå®½ æ¯ä¸ªå­Viewéƒ½æ˜¯æ ¹æ®çˆ¶è§†å›¾å’Œè‡ªèº«å†³å®šå®žé™…å®½é«˜çš„ åœ¨onMeasure()æ–¹æ³•ä¸­è¿›è¡Œå®žé™…æµ‹é‡.ä¼ å…¥widthMeasureSpecå’ŒheightMeasureSpecå‚æ•°æ¥è¡¨ç¤ºäº†çˆ¶Viewçš„è§„æ ¼ ä¸ä½†ä¼ å…¥äº†æ¨¡å¼ è¿˜ä¼ å…¥äº†size è€Œå¯¹äºŽDecorViewæ¥è¯´ ä¼ å…¥çš„æ¨¡å¼ä¸€èˆ¬ä¸ºEXACTLYæ¨¡å¼ sizeå¯¹åº”å±å¹•çš„å®½é«˜. æ‰€ä»¥è¯´å­Viewçš„å¤§å°æ˜¯çˆ¶å­Viewå…±åŒå†³å®šçš„public final void measure(int widthMeasureSpec, int heightMeasureSpec) &#123; // measure ourselves, this should set the measured dimension flag back onMeasure(widthMeasureSpec, heightMeasureSpec); &#125; MeasureSpecå†…éƒ¨ç±» MeasureSpecæ˜¯Viewçš„å†…éƒ¨ç±» intåž‹ï¼Œç”±é«˜2ä½è§„æ ¼æ¨¡å¼specModeå’Œä½Ž30ä½å…·ä½“å°ºå¯¸specSizeç»„æˆ å…¶ä¸­specModeåªæœ‰ä¸‰ç§ MeasureSpec.EXACTLY //ç¡®å®šæ¨¡å¼ï¼Œçˆ¶Viewå¸Œæœ›å­Viewçš„å¤§å°æ˜¯ç¡®å®šçš„ï¼Œç”±specSizeå†³å®šï¼› MeasureSpec.AT_MOST //æœ€å¤šæ¨¡å¼ï¼Œçˆ¶Viewå¸Œæœ›å­Viewçš„å¤§å°æœ€å¤šæ˜¯specSizeæŒ‡å®šçš„å€¼ï¼› MeasureSpec.UNSPECIFIED //æœªæŒ‡å®šæ¨¡å¼ï¼Œçˆ¶Viewå®Œå…¨ä¾æ®å­Viewçš„è®¾è®¡å€¼æ¥å†³å®šï¼› onMeasure()æ–¹æ³• 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950/** * &lt;p&gt; * Measure the view and its content to determine the measured width and the * measured height. This method is invoked by &#123;@link #measure(int, int)&#125; and * should be overridden by subclasses to provide accurate and efficient * measurement of their contents. * &lt;/p&gt; * * &lt;p&gt; * &lt;strong&gt;CONTRACT:&lt;/strong&gt; When overriding this method, you * &lt;em&gt;must&lt;/em&gt; call &#123;@link #setMeasuredDimension(int, int)&#125; to store the * measured width and height of this view. Failure to do so will trigger an * &lt;code&gt;IllegalStateException&lt;/code&gt;, thrown by * &#123;@link #measure(int, int)&#125;. Calling the superclass' * &#123;@link #onMeasure(int, int)&#125; is a valid use. * &lt;/p&gt; * * &lt;p&gt; * The base class implementation of measure defaults to the background size, * unless a larger size is allowed by the MeasureSpec. Subclasses should * override &#123;@link #onMeasure(int, int)&#125; to provide better measurements of * their content. * &lt;/p&gt; * * &lt;p&gt; * If this method is overridden, it is the subclass's responsibility to make * sure the measured height and width are at least the view's minimum height * and width (&#123;@link #getSuggestedMinimumHeight()&#125; and * &#123;@link #getSuggestedMinimumWidth()&#125;). * &lt;/p&gt; * * @param widthMeasureSpec horizontal space requirements as imposed by the parent. * The requirements are encoded with * &#123;@link android.view.View.MeasureSpec&#125;. * @param heightMeasureSpec vertical space requirements as imposed by the parent. * The requirements are encoded with * &#123;@link android.view.View.MeasureSpec&#125;. * * @see #getMeasuredWidth() * @see #getMeasuredHeight() * @see #setMeasuredDimension(int, int) * @see #getSuggestedMinimumHeight() * @see #getSuggestedMinimumWidth() * @see android.view.View.MeasureSpec#getMode(int) * @see android.view.View.MeasureSpec#getSize(int) */protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) &#123; setMeasuredDimension(getDefaultSize(getSuggestedMinimumWidth(), widthMeasureSpec), getDefaultSize(getSuggestedMinimumHeight(), heightMeasureSpec));&#125; getDefaultSizeæ–¹æ³•ç›¸å…³1234567891011121314151617181920212223242526public static int getDefaultSize(int size, int measureSpec) &#123; int result = size; //é€šè¿‡measureSpecå¾—åˆ°modeå’Œsize int specMode = MeasureSpec.getMode(measureSpec); int specSize = MeasureSpec.getSize(measureSpec); switch (specMode) &#123; case MeasureSpec.UNSPECIFIED: result = size; break; case MeasureSpec.AT_MOST: case MeasureSpec.EXACTLY: result = specSize; break; &#125; return result;&#125;//æœ€å°å®½åº¦å’Œé«˜åº¦ç”±Viewçš„Backgroundå°ºå¯¸å’ŒViewçš„minXXXå…±åŒå†³å®šprotected int getSuggestedMinimumHeight() &#123; return (mBackground == null) ? mMinHeight : max(mMinHeight, mBackground.getMinimumHeight());&#125;protected int getSuggestedMinimumWidth() &#123; return (mBackground == null) ? mMinWidth : max(mMinWidth, mBackground.getMinimumWidth());&#125; setMeasuredDimensionæ–¹æ³• å¯¹Viewçš„æˆå‘˜å˜é‡measuredWidthå’ŒmeasuredHeightå˜é‡èµ‹å€¼ ä¹Ÿå°±æ˜¯è¯´è¯¥æ–¹æ³•æœ€ç»ˆå†³å®šäº†Viewçš„å¤§å°1234567891011121314151617181920212223protected final void setMeasuredDimension(int measuredWidth, int measuredHeight) &#123; boolean optical = isLayoutModeOptical(this); if (optical != isLayoutModeOptical(mParent)) &#123; Insets insets = getOpticalInsets(); int opticalWidth = insets.left + insets.right; int opticalHeight = insets.top + insets.bottom; measuredWidth += optical ? opticalWidth : -opticalWidth; measuredHeight += optical ? opticalHeight : -opticalHeight; &#125; setMeasuredDimensionRaw(measuredWidth, measuredHeight);&#125;public boolean isLayoutRequested() &#123; return (mPrivateFlags &amp; PFLAG_FORCE_LAYOUT) == PFLAG_FORCE_LAYOUT;&#125;private void setMeasuredDimensionRaw(int measuredWidth, int measuredHeight) &#123; mMeasuredWidth = measuredWidth; mMeasuredHeight = measuredHeight; mPrivateFlags |= PFLAG_MEASURED_DIMENSION_SET;&#125; è‡³æ­¤ä¸€æ¬¡æœ€åŸºç¡€çš„Viewçš„measureè¿‡ç¨‹å°±å®Œæˆäº† ä½†æ˜¯ç”±äºŽViewå¯ä»¥åµŒå¥— æ‰€ä»¥measureæ˜¯é€’å½’ä¼ é€’çš„æ‰€ä»¥ViewGroupä¸­éœ€è¦å¯¹å…¶å­ç±»è¿›è¡Œmeasureè¿‡ç¨‹ measureChildrenæ–¹æ³•å®žè´¨ä¸ºå¾ªçŽ¯è°ƒç”¨measureChildæ–¹æ³• è€ŒmeasureChildå’ŒmeasureChildWithMarginsçš„åŒºåˆ«æ˜¯åŽè€…å°†marginå’Œpaddingä¹Ÿä½œä¸ºäº†å­è§†å›¾çš„å¤§å° ä¸€ä¸‹åˆ†æžmeasureChildWithMarginsæ–¹æ³•123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687protected void measureChildWithMargins(View child, int parentWidthMeasureSpec, int widthUsed, int parentHeightMeasureSpec, int heightUsed) &#123; //èŽ·å–å½“å‰å­è§†å›¾çš„LayoutParams final MarginLayoutParams lp = (MarginLayoutParams) child.getLayoutParams(); //è®¾å®šå­Viewçš„æµ‹é‡è§„æ ¼ final int childWidthMeasureSpec = getChildMeasureSpec(parentWidthMeasureSpec, mPaddingLeft + mPaddingRight + lp.leftMargin + lp.rightMargin + widthUsed, lp.width); final int childHeightMeasureSpec = getChildMeasureSpec(parentHeightMeasureSpec, mPaddingTop + mPaddingBottom + lp.topMargin + lp.bottomMargin + heightUsed, lp.height); //å­viewçš„ç»§ç»­è°ƒç”¨ child.measure(childWidthMeasureSpec, childHeightMeasureSpec);&#125;//åœ¨getChildMeasureSpecä¸­é€šè¿‡çˆ¶Viewå’Œæœ¬èº«çš„æ¨¡å¼å…±åŒå†³å®šå½“å‰Viewçš„sizepublic static int getChildMeasureSpec(int spec, int padding, int childDimension) &#123; //èŽ·å–å½“å‰çˆ¶Viewçš„modeå’Œsize int specMode = MeasureSpec.getMode(spec); int specSize = MeasureSpec.getSize(spec); //èŽ·å–çˆ¶Viewçš„çš„å‰©ä½™å¤§å° int size = Math.max(0, specSize - padding); //å®šä¹‰ç»“æžœå˜é‡ int resultSize = 0; int resultMode = 0; //æ ¹æ®å¯¹åº”çš„modeåšå¤„ç† //é€šè¿‡çˆ¶Viewå’Œæœ¬èº«çš„æ¨¡å¼å…±åŒå†³å®šå½“å‰Viewçš„size switch (specMode) &#123; // Parent has imposed an exact size on us case MeasureSpec.EXACTLY: if (childDimension &gt;= 0) &#123; resultSize = childDimension; resultMode = MeasureSpec.EXACTLY; &#125; else if (childDimension == LayoutParams.MATCH_PARENT) &#123; // Child wants to be our size. So be it. resultSize = size; resultMode = MeasureSpec.EXACTLY; &#125; else if (childDimension == LayoutParams.WRAP_CONTENT) &#123; // Child wants to determine its own size. It can't be // bigger than us. resultSize = size; resultMode = MeasureSpec.AT_MOST; &#125; break; // Parent has imposed a maximum size on us case MeasureSpec.AT_MOST: if (childDimension &gt;= 0) &#123; // Child wants a specific size... so be it resultSize = childDimension; resultMode = MeasureSpec.EXACTLY; &#125; else if (childDimension == LayoutParams.MATCH_PARENT) &#123; // Child wants to be our size, but our size is not fixed. // Constrain child to not be bigger than us. resultSize = size; resultMode = MeasureSpec.AT_MOST; &#125; else if (childDimension == LayoutParams.WRAP_CONTENT) &#123; // Child wants to determine its own size. It can't be // bigger than us. resultSize = size; resultMode = MeasureSpec.AT_MOST; &#125; break; // Parent asked to see how big we want to be case MeasureSpec.UNSPECIFIED: if (childDimension &gt;= 0) &#123; // Child wants a specific size... let him have it resultSize = childDimension; resultMode = MeasureSpec.EXACTLY; &#125; else if (childDimension == LayoutParams.MATCH_PARENT) &#123; // Child wants to be our size... find out how big it should // be resultSize = View.sUseZeroUnspecifiedMeasureSpec ? 0 : size; resultMode = MeasureSpec.UNSPECIFIED; &#125; else if (childDimension == LayoutParams.WRAP_CONTENT) &#123; // Child wants to determine its own size.... find out how // big it should be resultSize = View.sUseZeroUnspecifiedMeasureSpec ? 0 : size; resultMode = MeasureSpec.UNSPECIFIED; &#125; break; &#125; //å°†sizeå’Œmodeæ•´åˆä¸ºMeasureSpecæ¨¡å¼åŽè¿”å›ž return MeasureSpec.makeMeasureSpec(resultSize, resultMode); &#125; layoutæºç åˆ†æžView layoutæ•´ä½“æµç¨‹ä¸Žmeasureè¿‡ç¨‹åŸºæœ¬ä¸€æ · ç»“è®º: éœ€è¦æ ¹æ®ViewGroupæœ¬èº«çš„æƒ…å†µè®¨è®º LinearLayoutä¸‹ä¼šæ›´çœ‹é‡å­Viewçš„heightå’Œwidth æ¥å®‰æŽ’å¯¹åº”ä½ç½® è€ŒRelativeLayoutåˆ™æ›´åŠ å…³æ³¨å­Viewçš„left right top bottomå€¼ å¹¶ä¸”ä¼˜å…ˆçº§é«˜äºŽwidthå’Œheight ç”šè‡³åœ¨éƒ¨åˆ†è‡ªå®šä¹‰ViewGroupä¸­ measureå¯èƒ½æ˜¯æ— ç”¨çš„ ç›´æŽ¥ä½¿ç”¨layoutæ–¹æ³•æ¥è®¾ç½®å­Viewçš„ä½ç½®ä¹Ÿå¯ä»¥ ViewGroupéœ€è¦å®žçŽ°è‡ªå·±çš„layouté€»è¾‘ layout_XXXä¸­çš„å„ä¸ªç†Ÿæ‚‰éƒ½æ˜¯é’ˆå¯¹å­Viewçš„çˆ¶ViewGroupçš„ åŒæ ·ä½¿ç”¨Viewçš„getWidth()å’ŒgetHeight()æ–¹æ³•æ¥èŽ·å–Viewæµ‹é‡çš„å®½é«˜ å¿…é¡»ä¿è¯è¿™ä¸¤ä¸ªæ–¹æ³•åœ¨onLayoutæµç¨‹ä¹‹åŽè¢«è°ƒç”¨æ‰èƒ½è¿”å›žæœ‰æ•ˆå€¼ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556/** * Assign a size and position to a view and all of its * descendants * * &lt;p&gt;This is the second phase of the layout mechanism. * (The first is measuring). In this phase, each parent calls * layout on all of its children to position them. * This is typically done using the child measurements * that were stored in the measure pass().&lt;/p&gt; * * &lt;p&gt;Derived classes should not override this method. * Derived classes with children should override * onLayout. In that method, they should * call layout on each of their children.&lt;/p&gt; * * @param l Left position, relative to parent * @param t Top position, relative to parent * @param r Right position, relative to parent * @param b Bottom position, relative to parent */ //åŒæ ·æ³¨è§£å†™çš„å¾ˆå¥½äº† åˆ†æ´¾ç»™ä»–å’Œä»–çš„æ‰€æœ‰çš„å­è§†å›¾å¤§å°å’Œä½ç½® @SuppressWarnings(&#123;"unchecked"&#125;) public void layout(int l, int t, int r, int b) &#123; if ((mPrivateFlags3 &amp; PFLAG3_MEASURE_NEEDED_BEFORE_LAYOUT) != 0) &#123; onMeasure(mOldWidthMeasureSpec, mOldHeightMeasureSpec); mPrivateFlags3 &amp;= ~PFLAG3_MEASURE_NEEDED_BEFORE_LAYOUT; &#125; //è°ƒç”¨setFrameæ–¹æ³•æŠŠå‚æ•°åˆ†åˆ«èµ‹å€¼äºŽ int oldL = mLeft; int oldT = mTop; int oldB = mBottom; int oldR = mRight; //åˆ¤æ–­viewçš„ä½ç½®æ˜¯å¦å‘ç”Ÿè¿‡å˜åŒ– , ç¡®å®šæ˜¯å¦å¯¹å½“å‰viewé‡æ–°layout boolean changed = isLayoutModeOptical(mParent) ? setOpticalFrame(l, t, r, b) : setFrame(l, t, r, b); if (changed || (mPrivateFlags &amp; PFLAG_LAYOUT_REQUIRED) == PFLAG_LAYOUT_REQUIRED) &#123; //è°ƒç”¨onLayout onLayout(changed, l, t, r, b); mPrivateFlags &amp;= ~PFLAG_LAYOUT_REQUIRED; ListenerInfo li = mListenerInfo; if (li != null &amp;&amp; li.mOnLayoutChangeListeners != null) &#123; ArrayList&lt;OnLayoutChangeListener&gt; listenersCopy = (ArrayList&lt;OnLayoutChangeListener&gt;)li.mOnLayoutChangeListeners.clone(); int numListeners = listenersCopy.size(); for (int i = 0; i &lt; numListeners; ++i) &#123; listenersCopy.get(i).onLayoutChange(this, l, t, r, b, oldL, oldT, oldR, oldB); &#125; &#125; &#125; mPrivateFlags &amp;= ~PFLAG_FORCE_LAYOUT; mPrivateFlags3 |= PFLAG3_IS_LAID_OUT; &#125; onLyayoutæ–¹æ³•123456Viewä¸­protected void onLayout(boolean changed, int left, int top, int right, int bottom) &#123;&#125;ViewGroupä¸­protected abstract void onLayout(boolean changed, int l, int t, int r, int b); å‡æ˜¯ç©ºæ–¹æ³• åŽé¢ä¼šå°±LinearLayoutå’ŒRelativeLayoutæºç è¿›è¡Œåˆ†æž drawæºç åˆ†æžViewçš„drawæµç¨‹å›¾å¦‚ä¸‹ ç»“è®º: Viewéœ€è¦åœ¨å­ç±»ä¸­å®žçŽ°onDrawçš„è¿‡ç¨‹ åœ¨ViewGroupä¸­ ä¼šè°ƒç”¨å…¶å­Viewçš„æ–¹æ³• é¡ºåºä¸Žå­viewçš„æ·»åŠ é¡ºåºä¸€è‡´ drawçš„æºç ä¹Ÿå¾ˆé•¿ ä½†æ˜¯å®˜æ–¹ä¹Ÿç»™å‡ºç»™å‡ºäº†drawçš„è¿‡ç¨‹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051 public void draw(Canvas canvas) &#123; ... /* * Draw traversal performs several drawing steps which must be executed * in the appropriate order: * * 1. Draw the background * 2. If necessary, save the canvas' layers to prepare for fading * 3. Draw view's content * 4. Draw children * 5. If necessary, draw the fading edges and restore layers * 6. Draw decorations (scrollbars for instance) */ // Step 1, draw the background, if needed ... if (!dirtyOpaque) &#123; drawBackground(canvas); &#125; // skip step 2 &amp; 5 if possible (common case) ... // Step 2, save the canvas' layers ... if (drawTop) &#123; canvas.saveLayer(left, top, right, top + length, null, flags); &#125; ... // Step 3, draw the content if (!dirtyOpaque) onDraw(canvas); // Step 4, draw the children dispatchDraw(canvas); // Step 5, draw the fade effect and restore layers ... if (drawTop) &#123; matrix.setScale(1, fadeHeight * topFadeStrength); matrix.postTranslate(left, top); fade.setLocalMatrix(matrix); p.setShader(fade); canvas.drawRect(left, top, right, top + length, p); &#125; ... // Step 6, draw decorations (scrollbars) onDrawScrollBars(canvas); ...&#125; Step 1, draw the background, if needed123456// Step 1, draw the background, if needed//å¦‚æžœéœ€è¦çš„è¯ç»˜åˆ¶èƒŒæ™¯if (!dirtyOpaque) &#123; drawBackground(canvas);&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647private void drawBackground(Canvas canvas) &#123; //é€šè¿‡xmlä¸­å±žæ€§backgroundæˆ–è€…ä»£ç ä¸­setBackGroundColor\setBackgroundResourceç­‰æ–¹æ³•èµ‹å€¼çš„èƒŒæ™¯drawable final Drawable background = mBackground; if (background == null) &#123; return; &#125; //æ ¹æ®layoutä¸­ç¡®å®šçš„viewä½ç½®æ¥è®¾ç½®èƒŒæ™¯çš„ç»˜åˆ¶åŒºåŸŸ setBackgroundBounds(); // å¦‚æžœéœ€è¦çš„è¯ä½¿ç”¨æ˜¾ç¤ºåˆ—è¡¨ //canvas.isHardwareAccelerated() ç¡¬ä»¶åŠ é€Ÿåˆ¤å®š //ç¡¬ä»¶åŠ é€Ÿæ—¶ä¼šå°†å›¾å±‚ç¼“å­˜åˆ°GPUä¸Š è€Œä¸æ˜¯é‡ç»˜Viewçš„æ¯ä¸€å±‚ if (canvas.isHardwareAccelerated() &amp;&amp; mAttachInfo != null &amp;&amp; mAttachInfo.mHardwareRenderer != null) &#123; mBackgroundRenderNode = getDrawableRenderNode(background, mBackgroundRenderNode); final RenderNode renderNode = mBackgroundRenderNode; if (renderNode != null &amp;&amp; renderNode.isValid()) &#123; setBackgroundRenderNodeProperties(renderNode); ((DisplayListCanvas) canvas).drawRenderNode(renderNode); return; &#125; &#125; final int scrollX = mScrollX; final int scrollY = mScrollY; //è°ƒç”¨Drawableçš„drawæ–¹æ³•æ¥å®ŒæˆèƒŒæ™¯çš„ç»˜åˆ¶å·¥ä½œ if ((scrollX | scrollY) == 0) &#123; background.draw(canvas); &#125; else &#123; canvas.translate(scrollX, scrollY); background.draw(canvas); canvas.translate(-scrollX, -scrollY); &#125; &#125; void setBackgroundBounds() &#123; if (mBackgroundSizeChanged &amp;&amp; mBackground != null) &#123; mBackground.setBounds(0, 0, mRight - mLeft, mBottom - mTop); mBackgroundSizeChanged = false; rebuildOutline(); &#125;&#125; Step 2, save the canvasâ€™ layers123456// Step 2, save the canvas' layers//ä¿å­˜ç»˜åˆ¶å›¾å±‚ if (drawTop) &#123; canvas.saveLayer(left, top, right, top + length, null, flags); &#125; Step 3, draw the content123// Step 3, draw the content//å¯¹Viewçš„å†…å®¹è¿›è¡Œç»˜åˆ¶if (!dirtyOpaque) onDraw(canvas); 12345678/*** Implement this to do your drawing.** @param canvas the canvas on which the background will be drawn*///onDrawä¹Ÿæ˜¯ç©ºæ–¹æ³•éœ€è¦å­ç±»æ ¹æ®è‡ªèº«åŽ»å®žçŽ°ç›¸åº”çš„protected void onDraw(Canvas canvas) &#123;&#125; Step 4, draw the children123// Step 4, draw the children//ç»˜åˆ¶å…¶å­ViewdispatchDraw(canvas); 123456789/** * Called by draw to draw the child views. This may be overridden * by derived classes to gain control just before its children are drawn * (but after its own view has been drawn). * @param canvas the canvas on which to draw the view */protected void dispatchDraw(Canvas canvas) &#123;//dispatchDrawåŒæ ·ç©ºæ–¹æ³• ä¸ŽonDrawä¸åŒçš„æ˜¯dispatchDrawåœ¨ViewGroupä¸­è¢«é‡å†™&#125; ViewGroup12345678910//dispatchDrawæ–¹æ³•ä¸­æ ¹æ®å­Viewçš„ä¸åŒæƒ…å†µ åŒ…æ‹¬ä½†ä¸åªåŒ…æ‹¬è¯¥Viewæ˜¯å¦æ˜¾ç¤º æ˜¯å¦æœ‰è¿›å…¥æˆ–æ¶ˆå¤±åŠ¨ç”»ç­‰è¿›è¡Œäº†éƒ¨åˆ†çš„è°ƒæ•´protected void dispatchDraw(Canvas canvas) &#123; ... more |= drawChild(canvas, transientChild, drawingTime); ... &#125;protected boolean drawChild(Canvas canvas, View child, long drawingTime) &#123; return child.draw(canvas, this, drawingTime);&#125; Step 5, draw the fade effect and restore layers123456789// Step 5, draw the fade effect and restore layers//ç»˜åˆ¶è¿‡åº¦æ•ˆæžœå’Œæ¢å¤å›¾å±‚if (drawTop) &#123; matrix.setScale(1, fadeHeight * topFadeStrength); matrix.postTranslate(left, top); fade.setLocalMatrix(matrix); p.setShader(fade); canvas.drawRect(left, top, right, top + length, p);&#125; Step 6, draw decorations (scrollbars)123// Step 6, draw decorations (scrollbars)//å¯¹æ»šåŠ¨æ¡è¿›è¡Œç»˜åˆ¶onDrawScrollBars(canvas);]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Android View ç›¸å…³æºç åˆ†æžä¹‹äºŒ ç»§LayoutInflateræ¥è¯´]]></title>
      <url>%2F2017%2F02%2F03%2FLayoutInflater%2F</url>
      <content type="text"><![CDATA[LayoutInflateræºç åˆ†æž ä¸ŽsetContentViewç›¸å…³ åœ¨PhoneWindowçš„generateLayoutä¸­è°ƒç”¨äº† 1View in = mLayoutInflater.inflate(layoutResource, null); LayoutInflaterä¸­èŽ·å–å®žä¾‹åŒ–æ–¹æ³• 1234567891011/** * Obtains the LayoutInflater from the given context. */public static LayoutInflater from(Context context) &#123; LayoutInflater LayoutInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE); if (LayoutInflater == null) &#123; throw new AssertionError("LayoutInflater not found."); &#125; return LayoutInflater;&#125; inflateæ–¹æ³•ç›¸å…³ 1234567public View inflate(@LayoutRes int resource, @Nullable ViewGroup root) &#123; return inflate(resource, root, root != null);&#125;public View inflate(XmlPullParser parser, @Nullable ViewGroup root) &#123; return inflate(parser, root, root != null);&#125; 1234567891011121314public View inflate(@LayoutRes int resource, @Nullable ViewGroup root, boolean attachToRoot) &#123; final Resources res = getContext().getResources(); if (DEBUG) &#123; Log.d(TAG, "INFLATING from resource: \"" + res.getResourceName(resource) + "\" (" + Integer.toHexString(resource) + ")"); &#125; final XmlResourceParser parser = res.getLayout(resource); try &#123; return inflate(parser, root, attachToRoot); &#125; finally &#123; parser.close(); &#125;&#125; æœ€åŽå‘çŽ°éƒ½éœ€è¦è°ƒç”¨ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108public View inflate(XmlPullParser parser, @Nullable ViewGroup root, boolean attachToRoot) &#123; synchronized (mConstructorArgs) &#123; Trace.traceBegin(Trace.TRACE_TAG_VIEW, "inflate"); final Context inflaterContext = mContext; final AttributeSet attrs = Xml.asAttributeSet(parser); Context lastContext = (Context) mConstructorArgs[0]; mConstructorArgs[0] = inflaterContext; //å®šä¹‰è¿”å›žå€¼ åˆå§‹åŒ–ä¼ å…¥å½¢å‚ root View result = root; try &#123; // æ‰¾åˆ°æ ¹èŠ‚ç‚¹ int type; while ((type = parser.next()) != XmlPullParser.START_TAG &amp;&amp; type != XmlPullParser.END_DOCUMENT) &#123; &#125; //éªŒè¯typeæ˜¯å¦ä¸ºStart_Tag ä¿è¯xmlæ–‡ä»¶æ­£ç¡® if (type != XmlPullParser.START_TAG) &#123; throw new InflateException(parser.getPositionDescription() + ": No start tag found!"); &#125; //typeä¸º root node final String name = parser.getName(); if (DEBUG) &#123; System.out.println("**************************"); System.out.println("Creating root view: " + name); System.out.println("**************************"); &#125; if (TAG_MERGE.equals(name)) &#123; //å¤„ç† mergeç›¸å…³ //rootéœ€è¦éžç©º ä¸”attachToRootä¸ºç©º if (root == null || !attachToRoot) &#123; throw new InflateException("&lt;merge /&gt; can be used only with a valid " + "ViewGroup root and attachToRoot=true"); &#125; //é€’å½’inflate æ–¹æ³•è°ƒç”¨ rInflate(parser, root, inflaterContext, attrs, false); &#125; else &#123; //æ ¹æ®tagèŠ‚ç‚¹åˆ›å»ºviewå¯¹è±¡ final View temp = createViewFromTag(root, name, inflaterContext, attrs); ViewGroup.LayoutParams params = null; if (root != null) &#123; if (DEBUG) &#123; System.out.println("Creating params from root: " + root); &#125; //æ ¹æ®rootç”ŸæˆLayoutParams params = root.generateLayoutParams(attrs); if (!attachToRoot) &#123; //å¦‚æžœattachToRootä¸ºflase åˆ™è°ƒç”¨setLayoutParams temp.setLayoutParams(params); &#125; &#125; if (DEBUG) &#123; System.out.println("-----&gt; start inflating children"); &#125; //é€’å½’inflateå‰©ä¸‹çš„children rInflateChildren(parser, temp, attrs, true); if (DEBUG) &#123; System.out.println("-----&gt; done inflating children"); &#125; // We are supposed to attach all the views we found (int temp) // to root. Do that now. if (root != null &amp;&amp; attachToRoot) &#123; //rootéžç©ºä¸”attachToRoot=trueåˆ™å°†xmlæ–‡ä»¶çš„root viewåŠ åˆ°å½¢å‚æä¾›çš„rooté‡Œ root.addView(temp, params); &#125; // Decide whether to return the root that was passed in or the // top view found in xml. if (root == null || !attachToRoot) &#123; //è¿”å›žxmlé‡Œè§£æžçš„root view result = temp; &#125; &#125; &#125; catch (XmlPullParserException e) &#123; InflateException ex = new InflateException(e.getMessage()); ex.initCause(e); throw ex; &#125; catch (Exception e) &#123; InflateException ex = new InflateException( parser.getPositionDescription() + ": " + e.getMessage()); ex.initCause(e); throw ex; &#125; finally &#123; // Don't retain static reference on context. mConstructorArgs[0] = lastContext; mConstructorArgs[1] = null; &#125; Trace.traceEnd(Trace.TRACE_TAG_VIEW); //è¿”å›žå‚æ•°rootæˆ–xmlæ–‡ä»¶é‡Œçš„root view return result; &#125; &#125; ç›¸å…³inflateå‚æ•°çš„ç»“æžœ ç›¸å…³æ–¹æ³•è§£æžåœ¨Inflateä¸­å¤šæ¬¡è¢«è°ƒç”¨çš„rInflate 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152void rInflate(XmlPullParser parser, View parent, Context context, AttributeSet attrs, boolean finishInflate) throws XmlPullParserException, IOException &#123; final int depth = parser.getDepth(); int type; //XmlPullParserè§£æžå™¨çš„æ ‡å‡†è§£æžæ¨¡å¼ while (((type = parser.next()) != XmlPullParser.END_TAG || parser.getDepth() &gt; depth) &amp;&amp; type != XmlPullParser.END_DOCUMENT) &#123; //æ‰¾åˆ°start_tagèŠ‚ç‚¹ if (type != XmlPullParser.START_TAG) &#123; continue; &#125; //èŽ·å–Nameæ ‡è®° final String name = parser.getName(); //private static final String TAG_REQUEST_FOCUS = "requestFocus"; //å¤„ç†requestFocus if (TAG_REQUEST_FOCUS.equals(name)) &#123; parseRequestFocus(parser, parent); // private static final String TAG_TAG = "tag"; //å¤„ç†tag &#125; else if (TAG_TAG.equals(name)) &#123; parseViewTag(parser, parent, attrs); //private static final String TAG_INCLUDE = "include"; //å¤„ç†include &#125; else if (TAG_INCLUDE.equals(name)) &#123; //å¦‚æžœæ˜¯æ ¹èŠ‚ç‚¹åˆ™æŠ›å‡ºå¼‚å¸¸ if (parser.getDepth() == 0) &#123; throw new InflateException("&lt;include /&gt; cannot be the root element"); &#125; parseInclude(parser, context, parent, attrs); //private static final String TAG_MERGE = "merge"; //å¤„ç†merge mergeéœ€è¦æ˜¯xmlä¸­çš„æ ¹èŠ‚ç‚¹ &#125; else if (TAG_MERGE.equals(name)) &#123; throw new InflateException("&lt;merge /&gt; must be the root element"); &#125; else &#123; final View view = createViewFromTag(parent, name, context, attrs); final ViewGroup viewGroup = (ViewGroup) parent; final ViewGroup.LayoutParams params = viewGroup.generateLayoutParams(attrs); rInflateChildren(parser, view, attrs, true); viewGroup.addView(view, params); &#125; &#125; //parentçš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½å¤„ç†å®Œæ¯•çš„æ—¶å€™å›žonFinishInflateæ–¹æ³• if (finishInflate) &#123; parent.onFinishInflate(); &#125;&#125;//å¯ä»¥æ·»åŠ è‡ªå®šä¹‰é€»è¾‘ protected void onFinishInflate() &#123; &#125;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Android View ç›¸å…³æºç åˆ†æžä¹‹ä¸€ ä»ŽsetContentViewä¸ŽLayoutInflaterè¯´èµ·]]></title>
      <url>%2F2017%2F02%2F03%2F%E4%BB%8EsetContentView%E8%AF%B4%E8%B5%B7%2F</url>
      <content type="text"><![CDATA[ä»ŽsetContentViewä¸ŽLayoutInflaterè¯´èµ·setContentViewåˆ†æžç›¸å…³å…³ç³» Activityä¸­æœ‰Windowæˆå‘˜ å®žä¾‹åŒ–ä¸ºPhoneWindow PhoneWindowæ˜¯æŠ½è±¡Windowç±»çš„å®žçŽ°ç±» Windowæä¾›äº†ç»˜åˆ¶çª—å£çš„é€šç”¨API PhoneWindowä¸­åŒ…å«äº†DecorViewå¯¹è±¡ æ˜¯æ‰€æœ‰çª—å£(Activityç•Œé¢)çš„æ ¹View å…·ä½“çš„æž„å¦‚ä¸‹ å…·ä½“çš„å¯ä»¥é€šè¿‡hierarchyviewerå·¥å…·åˆ†æžä¸€ä¸‹ PhoneWindowçš„setContentViewåˆ†æž Windowç±»çš„setContentViewæ–¹æ³• è€ŒWindowçš„setContentViewæ–¹æ³•æ˜¯æŠ½è±¡çš„ æ‰€ä»¥æŸ¥çœ‹PhoneWindowçš„setContentView() setContentViewæ–¹æ³• 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172// This is the view in which the window contents are placed. It is either// mDecor itself, or a child of mDecor where the contents go.private ViewGroup mContentParent;@Overridepublic void setContentView(int layoutResID) &#123; // Note: FEATURE_CONTENT_TRANSITIONS may be set in the process of installing the window // decor, when theme attributes and the like are crystalized. Do not check the feature // before this happens. if (mContentParent == null) &#123; //ç¬¬ä¸€æ¬¡è°ƒç”¨ //ä¸‹é¢ä¼šè¯¦ç»†åˆ†æž installDecor(); &#125; else if (!hasFeature(FEATURE_CONTENT_TRANSITIONS)) &#123; //ç§»é™¤è¯¥mContentParentä¸‹çš„æ‰€æœ‰View //åˆå› ä¸ºè¿™ä¸ªçš„å­˜åœ¨ æˆ‘ä»¬å¯ä»¥å¤šæ¬¡ä½¿ç”¨setContentView() mContentParent.removeAllViews(); &#125; //åˆ¤æ–­æ˜¯å¦ä½¿ç”¨äº†Activityçš„è¿‡åº¦åŠ¨ç”» if (hasFeature(FEATURE_CONTENT_TRANSITIONS)) &#123; //è®¾ç½®åŠ¨ç”»åœºæ™¯ final Scene newScene = Scene.getSceneForLayout(mContentParent, layoutResID, getContext()); transitionTo(newScene); &#125; else &#123; //å°†èµ„æºæ–‡ä»¶é€šè¿‡LayoutInflaterå¯¹è±¡è£…æ¢ä¸ºViewæ ‘ //åœ¨PhoneWindowçš„æž„é€ å‡½æ•°ä¸­ mLayoutInflater = LayoutInflater.from(context); mLayoutInflater.inflate(layoutResID, mContentParent); &#125; //Viewä¸­ /** * Ask that a new dispatch of &#123;@link #onApplyWindowInsets(WindowInsets)&#125; be performed. */ // public void requestApplyInsets() &#123; // requestFitSystemWindows(); // &#125; mContentParent.requestApplyInsets(); final Callback cb = getCallback(); if (cb != null &amp;&amp; !isDestroyed()) &#123; cb.onContentChanged(); &#125;&#125;@Overridepublic void setContentView(View view) &#123; setContentView(view, new ViewGroup.LayoutParams(MATCH_PARENT, MATCH_PARENT));&#125;@Overridepublic void setContentView(View view, ViewGroup.LayoutParams params) &#123; if (mContentParent == null) &#123; installDecor(); &#125; else if (!hasFeature(FEATURE_CONTENT_TRANSITIONS)) &#123; mContentParent.removeAllViews(); &#125; if (hasFeature(FEATURE_CONTENT_TRANSITIONS)) &#123; view.setLayoutParams(params); final Scene newScene = new Scene(mContentParent, view); transitionTo(newScene); &#125; else &#123; //å·²ç»ä¸ºView ç›´æŽ¥ä½¿ç”¨Viewçš„addViewæ–¹æ³•è¿½åŠ åˆ°å½“å‰mContentParentä¸­ mContentParent.addView(view, params); &#125; mContentParent.requestApplyInsets(); final Callback cb = getCallback(); //è°ƒç”¨CallBackæŽ¥å£çš„onContentChangeæ¥é€šçŸ¥Activityç»„ä»¶è§†å›¾å‘ç”Ÿäº†å˜åŒ– if (cb != null &amp;&amp; !isDestroyed()) &#123; cb.onContentChanged(); &#125;&#125; installDecoræ–¹æ³• 1234567891011121314151617181920//æˆªå–éƒ¨åˆ†ä¸»è¦åˆ†æžä»£ç private void installDecor() &#123; if (mDecor == null) &#123; //å¦‚æžœmDecorä¸ºç©ºåˆ™åˆ›å»ºä¸€ä¸ªDecorViewå®žä¾‹ // protected DecorView generateDecor() &#123; // return new DecorView(getContext(), -1); // &#125; mDecor = generateDecor(); mDecor.setDescendantFocusability(ViewGroup.FOCUS_AFTER_DESCENDANTS); mDecor.setIsRootNamespace(true); if (!mInvalidatePanelMenuPosted &amp;&amp; mInvalidatePanelMenuFeatures != 0) &#123; mDecor.postOnAnimation(mInvalidatePanelMenuRunnable); &#125; &#125; if (mContentParent == null) &#123; //æ ¹æ®çª—å£çš„é£Žæ ¼ä¿®é¥° é€‰æ‹©å¯¹åº”çš„ä¿®é¥°å¸ƒå±€æ–‡ä»¶ å°†idä¸ºcontentçš„FrameLayoutèµ‹å€¼äºŽmContentParent mContentParent = generateLayout(mDecor); ... &#125;&#125; 1234567891011121314151617181920212223242526272829protected ViewGroup generateLayout(DecorView decor) &#123; // Apply data from current theme. //æ ¹æ®å½“å‰styleä¿®é¥°ç›¸åº”æ ·å¼ TypedArray a = getWindowStyle(); ... //ä¸€å †ifåˆ¤æ–­ // å¢žåŠ çª—å£ä¿®é¥° int layoutResource; int features = getLocalFeatures(); ... //æ ¹æ®featuresé€‰æ‹©ä¸åŒçš„çª—å¸˜ä¿®é¥°å¸ƒå±€æ–‡ä»¶å¾—åˆ° //æŠŠé€‰ä¸­çš„çª—å£ä¿®é¥°å¸ƒå±€æ–‡ä»¶æ·»åŠ åˆ°DecorViewä¸­, æŒ‡å®šcontentParentçš„å€¼ View in = mLayoutInflater.inflate(layoutResource, null); decor.addView(in, new ViewGroup.LayoutParams(MATCH_PARENT, MATCH_PARENT)); mContentRoot = (ViewGroup) in; ViewGroup contentParent = (ViewGroup)findViewById(ID_ANDROID_CONTENT); if (contentParent == null) &#123; throw new RuntimeException("Window couldn't find content container view"); &#125; ... return contentParent; &#125; è¯¥æ–¹æ³•çš„ä¸»è¦åŠŸèƒ½ä¸º æ ¹æ®çª—å£çš„styleä¸ºè¯¥çª—å£é€‰æ‹©ä¸åŒçš„çª—å£æ ¹å¸ƒå±€æ–‡ä»¶ å°†mDecorä½œä¸ºæ ¹è§†å›¾å°†çª—å£å¸ƒå±€æ·»åŠ ,èŽ·å–idä¸ºcontentçš„FrameLayoutè¿”å›žç»™mContentParentå¯¹è±¡ å®žè´¨ä¸ºé˜é‡ŠmDecorå’ŒmContentParentå¯¹è±¡ (æ‰©å±•)å…³äºŽè®¾ç½®Activityå±žæ€§éœ€è¦åœ¨setContentViewæ–¹æ³•ä¹‹å‰è°ƒç”¨çš„é—®é¢˜ åœ¨è®¾ç½®Activityå±žæ€§çš„æ—¶å€™ æ¯”å¦‚requestWindowFeature(Window.FEATURE_NO_TITLE) éœ€è¦åœ¨setContentViewæ–¹æ³•ä¹‹å‰è°ƒç”¨ 123456public boolean requestFeature(int featureId) &#123; if (mContentParent != null) &#123; throw new AndroidRuntimeException("requestFeature() must be called before adding content"); &#125; ...&#125; onContentChangedæ–¹æ³• åœ¨PhoneWindowä¸­æ²¡æœ‰é‡å†™getCallbackç›¸å…³æ–¹æ³• è€Œåœ¨Windowç±»ä¸‹ 123456/** * Return the current Callback interface for this window. */public final Callback getCallback() &#123; return mCallback;&#125; mCallbackç›¸å…³çš„èµ‹å€¼æ–¹æ³• 123456789/** * Set the Callback interface for this window, used to intercept key * events and other dynamic operations in the window. * * @param callback The desired Callback interface. */public void setCallback(Callback callback) &#123; mCallback = callback;&#125; setCallbackæ–¹æ³•åœ¨Activityä¸­è¢«ä½¿ç”¨ 12345678910final void attach(Context context, ActivityThread aThread, Instrumentation instr, IBinder token, int ident, Application application, Intent intent, ActivityInfo info, CharSequence title, Activity parent, String id, NonConfigurationInstances lastNonConfigurationInstances, Configuration config, String referrer, IVoiceInteractor voiceInteractor) &#123; ... mWindow.setCallback(this); ...&#125; è¯´æ˜ŽActivityå®žçŽ°äº†Windowçš„CallBackæŽ¥å£ ç„¶åŽåœ¨Activityä¸­æ‰¾åˆ°onContentChangedæ–¹æ³• 12public void onContentChanged() &#123;&#125; å¯¹ ç©ºæ–¹æ³•. è¯´æ˜Žåœ¨Activityçš„å¸ƒå±€æ”¹åŠ¨æ—¶ (setContentViewæˆ–è€…addContentView æ–¹æ³•æ‰§è¡Œå®Œæ¯•åŽä¼šè°ƒç”¨æ”¹æ–¹æ³•)æ‰€ä»¥å„ç§Viewçš„findViewByIdæ–¹æ³•ä»€ä¹ˆçš„å¯ä»¥æ”¾åœ¨è¿™é‡Œ setContentViewæºç æ€»ç»“ åˆ›å»ºä¸€ä¸ªDecorViewçš„å¯¹è±¡mDector è¯¥mDectorå°†ä½œä¸ºæ•´ä¸ªåº”ç”¨çª—å£çš„æ ¹è§†å›¾ æ ¹æ®æ ¹æ®Featureç­‰style themeåˆ›å»ºä¸åŒçš„çª—å£ä¿®é¥°å¸ƒå±€æ–‡ä»¶ å¹¶ä¸”é€šè¿‡findViewByIdèŽ·å–Activityå¸ƒå±€æ–‡ä»¶è¯¥å­˜æ”¾çš„åœ°æ–¹ å°†Activityçš„å¸ƒå±€æ–‡ä»¶æ·»åŠ è‡³idä¸ºcontentçš„FrameLayoutå†… æ‰§è¡Œåˆ°å½“å‰é¡µé¢è¿˜æ²¡æœ‰æ˜¾ç¤ºå‡ºæ¥ Activityé¡µé¢æ˜¾ç¤º æˆ‘ä»¬éƒ½çŸ¥é“Activityçš„å®žé™…å¼€å§‹äºŽActivityThreadçš„mainæ–¹æ³• å½“è¯¥æ–¹æ³•è°ƒè¿å®Œä¹‹åŽä¼šè°ƒç”¨è¯¥ç±»çš„performLaunchActivityæ–¹æ³•æ¥åˆ›å»ºè¦å¯åŠ¨çš„Activityç»„ä»¶ è¿™ä¸ªè¿‡ç¨‹ä¸­è¿˜ä¼šä¸ºè¯¥Activityç»„ä»¶åˆ›å»ºçª—å£å¯¹è±¡å’Œè§†å›¾å¯¹è±¡ å½“ç»„ä»¶åˆ›å»ºå®ŒæˆåŽç”¨è¿‡è°ƒç”¨è¯¥ç±»çš„handleResumeActivityæ–¹æ³•å°†å…¶æ¿€æ´» 12345678910111213141516final void handleResumeActivity(IBinder token, boolean clearHide, boolean isForward, boolean reallyResume) &#123; ... if (!r.activity.mFinished &amp;&amp; willBeVisible &amp;&amp; r.activity.mDecor != null &amp;&amp; !r.hideForNow) &#123; ... if (r.activity.mVisibleFromClient) &#123; r.activity.makeVisible(); //è¿™é‡Œè¿™é‡Œ é€šè¿‡è°ƒç”¨Activityçš„makeVisibleæ–¹æ³•æ¥æ˜¾ç¤ºæˆ‘ä»¬é€šè¿‡setContentViewåˆ›å»ºçš„mDecor &#125; ... &#125; &#125; else &#123; ... &#125; &#125; 123456789//Activityçš„makeVisibleæ–¹æ³•void makeVisible() &#123; if (!mWindowAdded) &#123; ViewManager wm = getWindowManager(); wm.addView(mDecor, getWindow().getAttributes()); mWindowAdded = true; &#125; mDecor.setVisibility(View.VISIBLE); &#125; è‡³æ­¤é€šè¿‡setContentViewæ–¹æ³•è®¾ç½®çš„é¡µé¢æ‰æœ€åŽæ˜¾ç¤ºå‡ºæ¥ LayoutInflateræºç åˆ†æž ä¸ŽsetContentViewç›¸å…³ åœ¨PhoneWindowçš„generateLayoutä¸­è°ƒç”¨äº† 1View in = mLayoutInflater.inflate(layoutResource, null); LayoutInflaterä¸­èŽ·å–å®žä¾‹åŒ–æ–¹æ³• 1234567891011/** * Obtains the LayoutInflater from the given context. */public static LayoutInflater from(Context context) &#123; LayoutInflater LayoutInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE); if (LayoutInflater == null) &#123; throw new AssertionError("LayoutInflater not found."); &#125; return LayoutInflater;&#125; inflateæ–¹æ³•ç›¸å…³ 1234567public View inflate(@LayoutRes int resource, @Nullable ViewGroup root) &#123; return inflate(resource, root, root != null);&#125;public View inflate(XmlPullParser parser, @Nullable ViewGroup root) &#123; return inflate(parser, root, root != null);&#125; 1234567891011121314public View inflate(@LayoutRes int resource, @Nullable ViewGroup root, boolean attachToRoot) &#123; final Resources res = getContext().getResources(); if (DEBUG) &#123; Log.d(TAG, "INFLATING from resource: \"" + res.getResourceName(resource) + "\" (" + Integer.toHexString(resource) + ")"); &#125; final XmlResourceParser parser = res.getLayout(resource); try &#123; return inflate(parser, root, attachToRoot); &#125; finally &#123; parser.close(); &#125;&#125; æœ€åŽå‘çŽ°éƒ½éœ€è¦è°ƒç”¨ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108public View inflate(XmlPullParser parser, @Nullable ViewGroup root, boolean attachToRoot) &#123; synchronized (mConstructorArgs) &#123; Trace.traceBegin(Trace.TRACE_TAG_VIEW, "inflate"); final Context inflaterContext = mContext; final AttributeSet attrs = Xml.asAttributeSet(parser); Context lastContext = (Context) mConstructorArgs[0]; mConstructorArgs[0] = inflaterContext; //å®šä¹‰è¿”å›žå€¼ åˆå§‹åŒ–ä¼ å…¥å½¢å‚ root View result = root; try &#123; // æ‰¾åˆ°æ ¹èŠ‚ç‚¹ int type; while ((type = parser.next()) != XmlPullParser.START_TAG &amp;&amp; type != XmlPullParser.END_DOCUMENT) &#123; &#125; //éªŒè¯typeæ˜¯å¦ä¸ºStart_Tag ä¿è¯xmlæ–‡ä»¶æ­£ç¡® if (type != XmlPullParser.START_TAG) &#123; throw new InflateException(parser.getPositionDescription() + ": No start tag found!"); &#125; //typeä¸º root node final String name = parser.getName(); if (DEBUG) &#123; System.out.println("**************************"); System.out.println("Creating root view: " + name); System.out.println("**************************"); &#125; if (TAG_MERGE.equals(name)) &#123; //å¤„ç† mergeç›¸å…³ //rootéœ€è¦éžç©º ä¸”attachToRootä¸ºç©º if (root == null || !attachToRoot) &#123; throw new InflateException("&lt;merge /&gt; can be used only with a valid " + "ViewGroup root and attachToRoot=true"); &#125; //é€’å½’inflate æ–¹æ³•è°ƒç”¨ rInflate(parser, root, inflaterContext, attrs, false); &#125; else &#123; //æ ¹æ®tagèŠ‚ç‚¹åˆ›å»ºviewå¯¹è±¡ final View temp = createViewFromTag(root, name, inflaterContext, attrs); ViewGroup.LayoutParams params = null; if (root != null) &#123; if (DEBUG) &#123; System.out.println("Creating params from root: " + root); &#125; //æ ¹æ®rootç”ŸæˆLayoutParams params = root.generateLayoutParams(attrs); if (!attachToRoot) &#123; //å¦‚æžœattachToRootä¸ºflase åˆ™è°ƒç”¨setLayoutParams temp.setLayoutParams(params); &#125; &#125; if (DEBUG) &#123; System.out.println("-----&gt; start inflating children"); &#125; //é€’å½’inflateå‰©ä¸‹çš„children rInflateChildren(parser, temp, attrs, true); if (DEBUG) &#123; System.out.println("-----&gt; done inflating children"); &#125; // We are supposed to attach all the views we found (int temp) // to root. Do that now. if (root != null &amp;&amp; attachToRoot) &#123; //rootéžç©ºä¸”attachToRoot=trueåˆ™å°†xmlæ–‡ä»¶çš„root viewåŠ åˆ°å½¢å‚æä¾›çš„rooté‡Œ root.addView(temp, params); &#125; // Decide whether to return the root that was passed in or the // top view found in xml. if (root == null || !attachToRoot) &#123; //è¿”å›žxmlé‡Œè§£æžçš„root view result = temp; &#125; &#125; &#125; catch (XmlPullParserException e) &#123; InflateException ex = new InflateException(e.getMessage()); ex.initCause(e); throw ex; &#125; catch (Exception e) &#123; InflateException ex = new InflateException( parser.getPositionDescription() + ": " + e.getMessage()); ex.initCause(e); throw ex; &#125; finally &#123; // Don't retain static reference on context. mConstructorArgs[0] = lastContext; mConstructorArgs[1] = null; &#125; Trace.traceEnd(Trace.TRACE_TAG_VIEW); //è¿”å›žå‚æ•°rootæˆ–xmlæ–‡ä»¶é‡Œçš„root view return result; &#125; &#125; ç›¸å…³inflateå‚æ•°çš„ç»“æžœ ç›¸å…³æ–¹æ³•è§£æžåœ¨Inflateä¸­å¤šæ¬¡è¢«è°ƒç”¨çš„rInflate 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152void rInflate(XmlPullParser parser, View parent, Context context, AttributeSet attrs, boolean finishInflate) throws XmlPullParserException, IOException &#123; final int depth = parser.getDepth(); int type; //XmlPullParserè§£æžå™¨çš„æ ‡å‡†è§£æžæ¨¡å¼ while (((type = parser.next()) != XmlPullParser.END_TAG || parser.getDepth() &gt; depth) &amp;&amp; type != XmlPullParser.END_DOCUMENT) &#123; //æ‰¾åˆ°start_tagèŠ‚ç‚¹ if (type != XmlPullParser.START_TAG) &#123; continue; &#125; //èŽ·å–Nameæ ‡è®° final String name = parser.getName(); //private static final String TAG_REQUEST_FOCUS = "requestFocus"; //å¤„ç†requestFocus if (TAG_REQUEST_FOCUS.equals(name)) &#123; parseRequestFocus(parser, parent); // private static final String TAG_TAG = "tag"; //å¤„ç†tag &#125; else if (TAG_TAG.equals(name)) &#123; parseViewTag(parser, parent, attrs); //private static final String TAG_INCLUDE = "include"; //å¤„ç†include &#125; else if (TAG_INCLUDE.equals(name)) &#123; //å¦‚æžœæ˜¯æ ¹èŠ‚ç‚¹åˆ™æŠ›å‡ºå¼‚å¸¸ if (parser.getDepth() == 0) &#123; throw new InflateException("&lt;include /&gt; cannot be the root element"); &#125; parseInclude(parser, context, parent, attrs); //private static final String TAG_MERGE = "merge"; //å¤„ç†merge mergeéœ€è¦æ˜¯xmlä¸­çš„æ ¹èŠ‚ç‚¹ &#125; else if (TAG_MERGE.equals(name)) &#123; throw new InflateException("&lt;merge /&gt; must be the root element"); &#125; else &#123; final View view = createViewFromTag(parent, name, context, attrs); final ViewGroup viewGroup = (ViewGroup) parent; final ViewGroup.LayoutParams params = viewGroup.generateLayoutParams(attrs); rInflateChildren(parser, view, attrs, true); viewGroup.addView(view, params); &#125; &#125; //parentçš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½å¤„ç†å®Œæ¯•çš„æ—¶å€™å›žonFinishInflateæ–¹æ³• if (finishInflate) &#123; parent.onFinishInflate(); &#125;&#125;//å¯ä»¥æ·»åŠ è‡ªå®šä¹‰é€»è¾‘ protected void onFinishInflate() &#123; &#125;]]></content>
    </entry>

    
  
  
</search>
